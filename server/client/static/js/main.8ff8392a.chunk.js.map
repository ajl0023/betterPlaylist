{"version":3,"sources":["styles/playlistAddModal.module.scss","styles/singlePlaylist.module.scss","styles/playlisttracks.module.scss","styles/Navbar.module.scss","styles/searchContainer.module.scss","styles/playlistOptionsModal.module.scss","styles/playlist.module.scss","styles/track.module.scss","styles/wrapper.module.scss","styles/home.module.scss","styles/playlistWrapper.module.scss","spotify-redux/types/types.js","spotify-redux/actions/calls.js","spotify-redux/actions/trackActions.js","spotify-redux/actions/userActions.js","images/home-icon.svg","Track.js","Home.js","images/logo.svg","images/playlist-icon.svg","images/add-icon.svg","Navbar.js","images/search.svg","images/trash.svg","images/music-note.svg","spotify-redux/actions/playlistActions.js","images/check.svg","Playlist.js","images/checkIconPlaceH.svg","PlaylistAddModal.js","PlaylistDeleteModal.js","PlaylistTracks.js","SearchContainer.js","SinglePlaylist.js","colorMatch.js","PlaylistWrapper.js","App.js","spotify-redux/reducers/reducer.js","index.js","spotify-redux/store.js"],"names":["module","exports","REQUEST_TOP_TRACKS","RECIEVE_TOP_TRACKS","REQUEST_PLAYLISTS","RECIEVE_PLAYLISTS","RECIEVE_RECENT_TRACKS","REQUEST_RECENT_TRACKS","NAVBAR_LINK_CLICKED","DELETE_TRACK_SUCCESS","LOGIN_REQUEST","USER_INFO_SUCCESS","ACCESS_TOKEN_RECIEVED","LOG_OUT","ADD_TRACK_REQUEST","ADD_TRACK_SUCCESS","REQUEST_TRACKS","RECIEVE_TRACKS","RECIEVE_PLAYLIST_TRACKS","GET_SINGLE_PLAYLIST","REQUEST_SEARCH_RESULTS","RECIEVE_SEARCH_RESULTS","CLEAR_SEARCH_RESULTS","SCROLL_SEARCH_RESULTS","RECIEVE_ADDITIONAL_TRACKS","DATABASE_SYNC_ERROR","UPDATE_PLAYLIST_REQUEST","UPDATE_PLAYLIST_SUCCESS","axios","defaults","headers","common","localStorage","getItem","interceptors","response","use","config","a","err","_retry","status","timedRefresh","refreshedToken","setItem","data","access_token","Authorization","Promise","reject","post","method","withCredentials","then","addTracksToPlaylistsCall","obj","tracks","tracksFordb","sets","fetchSinglePlaylist","id","scroll","offset","get","getSearchResults","regex","params","playlistid","deleteFromPlaylist","playlist","searchActive","playlistids","trackids","delete","recieveTopTracks","dispatch","getState","getAllTracks","Object","keys","byIds","filtered","type","toptracks","items","forEach","track","uid","includes","top_tracks","allIds","recieveRecentTracks","cursors","cursor","before","recentTracks","recent_tracks","interval","_path","_path2","logout","removeItem","resolve","url","window","location","reload","catch","getAccessToken","code","decodedToken","getUserInfoAction","token","user","refreshTime","clearTimeout","setTimeout","Math","pow","Track","props","image","onClick","open","external_urls","spotify","className","style","src","alt","name","album","topTracksSelector","createSelector","state","recentTracksSelector","userSelectorMem","current_user","Home","topTracksArr","recentTracksArr","userSelector","useSelector","topTrackSel","recentTracksSel","currentUser","currentUserInfo","userInfo","useDispatch","getTopTracks","getRecentTracks","map","useEffect","htmlFor","images","display_name","length","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgHomeIcon","_ref","svgRef","title","titleId","xmlns","height","viewBox","width","ref","d","fill","_g","ForwardRef","SvgLogo","preserveAspectRatio","SvgPlaylistIcon","Navbar","useState","checkedState","setChecked","handleClose","check","document","getElementById","checked","generateUUID","addEventListener","removeEventListener","readOnly","container","content","to","pathname","reRecreateComp","SvgAddIcon","enableBackground","SvgSearch","role","SvgTrash","SvgMusicNote","fillRule","timeout","updatePlaylist","selected","types","put","idsToRemove","currPlaylists","playlists","calls","updatedPlaylists","push","all","resolved","allTracksArr","reduce","acc","set","playlistCopy","allTracksObj","_id","getMoreTracksPlaylist","trackIds","trackObjs","recievePlaylists","playlistObj","searchPlaylists","currentPlaylist","offsetId","results","findOffsetId","search","data_1","Playlist","item","useRouteMatch","imageUrl","description","owner","React","memo","SvgCheck","SvgCheckIconPlaceH","PlaylistAddModal","selectedPlaylists","setSelectedPlaylists","filteredPlaylists","showModal","closeModal","display","data-testid","find","index","findIndex","splice","handlePlaylistSelect","handleAdd","PlaylistOptionsModal","handleDelete","PlaylistTrack","playlistSet","checkAll","e","trackid","uri","handleCheckSelected","changed","position","isSelected","imageSelection","artists","artist","prev","next","lastUpdated","playlistSelector","SearchContainer","filteredSearch","setLastUpdated","isUpdating","searchResults","filter","result","Date","now","selectedAllIds","handleCheckAll","deletedArr","SinglePlaylist","mainColor","setMainColor","useParams","getTracksRef","useRef","currentPlayList","myImage","Image","crossOrigin","onload","rgb","canvas","createElement","context","getContext","naturalWidth","naturalHeight","pixelCount","drawImage","pixelArr","qual","r","g","b","pixels","getPixelArray","getImageData","cmap","quantize","palette","paletteObj","getColor","findCurrentPlaylist","tracksObj","playlistData","useCallback","getTracks","tracksMem","snapshot_id","useMemo","arr","allTracks","checkScroll","lastPosition","handleFetchScroll","scrollPos","round","scrollHeight","scrollTop","clientHeight","current","scrollContainer","checkAllFiltered","trackId","findId","some","searchArr","searchText","background","formattedMain","PlaylistTracks","searchResultsSelector","prevResults","hasNext","PlaylistWrapper","scrollContainerRef","useLocation","setSelectedAllIds","setSearchText","setCurrentPlaylist","dropdown","setDropDown","showDeletedModal","setShowDeletedModal","showAddModal","setShowAddModal","setSelected","setRefresh","setDeletedArr","path","getPlaylists","searchBarText","navbar","searchBar","getPlaylistsArr","selectedArr","selectedAllIdsCopy","prevCopy","playlistIndex","recreate","tracksForReducer","tracksToadd","tracksForPlaylist","uuid","ObjectId","trackCopy","toString","tracksToAdd","alert","closeAddModal","playlistId","copyAll","copySelected","filteredArr","onScroll","aria-label","onChange","text","value","trim","replace","scrollTo","PlaylistDeleteModal","copy","filteredselected","deleted","concat","playlistTracks","apiData","deleteTrackFromPlaylists","App","history","useHistory","setRecreate","URL","split","href","origin","encodeURIComponent","exact","render","addTracksTrack","action","stateCopy","deleteTrackFunc","newState","addTracks","ids","deleteTrackPlaylist","recievePlaylistTracks","pageInfo","page","rootReducer","combineReducers","loggedIn","isLoggingIn","isFetching","update","clearSearch","fetching","category","store","composeEnhancers","composeWithDevTools","trace","createStore","applyMiddleware","thunkMiddleware","configureStore","ReactDOM","hydrate"],"mappings":"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","file":"static/js/main.8ff8392a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistAddModal_inactive__1ukjz\",\"container-mask\":\"playlistAddModal_container-mask__1NMK5\",\"container\":\"playlistAddModal_container__gvBzk\",\"header-container\":\"playlistAddModal_header-container__3b1gw\",\"cancel-icon-container\":\"playlistAddModal_cancel-icon-container__1rbim\",\"main-trigger-icon-container\":\"playlistAddModal_main-trigger-icon-container__29zyZ\",\"modal-title\":\"playlistAddModal_modal-title__2YH5Q\",\"playlist-container\":\"playlistAddModal_playlist-container__3lQV6\",\"playlist-item-container\":\"playlistAddModal_playlist-item-container__3eLQh\",\"playlist-item\":\"playlistAddModal_playlist-item__85gRG\",\"check-index-container\":\"playlistAddModal_check-index-container__BgaId\",\"check-icon\":\"playlistAddModal_check-icon__yNoII\",\"playlist-count\":\"playlistAddModal_playlist-count__ddftW\",\"check-icon-place\":\"playlistAddModal_check-icon-place__2w0nd\",\"button-container\":\"playlistAddModal_button-container__1tuIi\",\"cancel-button\":\"playlistAddModal_cancel-button__cofML\",\"delete-button\":\"playlistAddModal_delete-button__2AynG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"update-button-container\":\"singlePlaylist_update-button-container__20_k4\",\"update-button\":\"singlePlaylist_update-button__2mdBZ\",\"lds-ring\":\"singlePlaylist_lds-ring__1uP1g\",\"item-wrapper\":\"singlePlaylist_item-wrapper__1Ndsp\",\"wrapper\":\"singlePlaylist_wrapper__3smAq\",\"header-container\":\"singlePlaylist_header-container__3kRNj\",\"album-cover-container\":\"singlePlaylist_album-cover-container__39iEV\",\"album-cover\":\"singlePlaylist_album-cover__oYNWZ\",\"album-mask\":\"singlePlaylist_album-mask__13o5R\",\"playlist-info-container\":\"singlePlaylist_playlist-info-container__1aKG1\",\"playlist-title\":\"singlePlaylist_playlist-title__1Wx71\",\"playlist-creator\":\"singlePlaylist_playlist-creator__2GiqR\",\"inactive\":\"singlePlaylist_inactive__1mmTD\",\"tracks-container\":\"singlePlaylist_tracks-container__CNdsy\",\"label-container\":\"singlePlaylist_label-container__3tBJj\",\"label-check-container\":\"singlePlaylist_label-check-container__26SRK\",\"label-count\":\"singlePlaylist_label-count__1fnoS\",\"check-box\":\"singlePlaylist_check-box__3mZGW\",\"track-count\":\"singlePlaylist_track-count__5OyIw\",\"label-item\":\"singlePlaylist_label-item__2jap0\",\"label-title\":\"singlePlaylist_label-title__2b3F4\",\"label-album\":\"singlePlaylist_label-album__XkA98\",\"label-playlist\":\"singlePlaylist_label-playlist__9NOB5\",\"label-artist\":\"singlePlaylist_label-artist__38exh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlisttracks_inactive__38Zbe\",\"item-container\":\"playlisttracks_item-container__2A1L3\",\"check-container\":\"playlisttracks_check-container__1CU1_\",\"check-icon\":\"playlisttracks_check-icon__Fjull\",\"track-count\":\"playlisttracks_track-count__OwUYF\",\"check-count-container\":\"playlisttracks_check-count-container__13HqH\",\"check-icon-place\":\"playlisttracks_check-icon-place__3meMX\",\"track-count-container\":\"playlisttracks_track-count-container__3jS-d\",\"item-title-container\":\"playlisttracks_item-title-container__SlBt_\",\"album-image-container\":\"playlisttracks_album-image-container__2Zpwl\",\"album-image\":\"playlisttracks_album-image__14t_Z\",\"title-container\":\"playlisttracks_title-container__DKiHx\",\"track-title-container\":\"playlisttracks_track-title-container__ehpzA\",\"track-title\":\"playlisttracks_track-title__252a6\",\"track-artist\":\"playlisttracks_track-artist__3-SXk\",\"artist-name\":\"playlisttracks_artist-name__2wfvz\",\"track-album-container\":\"playlisttracks_track-album-container__26h3K\",\"track-album\":\"playlisttracks_track-album__abvD6\",\"track-playlist-container\":\"playlisttracks_track-playlist-container__JLlQn\",\"track-playlist\":\"playlisttracks_track-playlist__3UCMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__3wJQ9\",\"content\":\"Navbar_content__2Db6D\",\"logo\":\"Navbar_logo__jk-dN\",\"menu-container\":\"Navbar_menu-container__2D5CH\",\"menu-item\":\"Navbar_menu-item__3ndlx\",\"playlist-icon\":\"Navbar_playlist-icon__31Niq\",\"burger-input\":\"Navbar_burger-input__24utA\",\"burger-label\":\"Navbar_burger-label__3KbcG\",\"main-trigger-icon-container\":\"Navbar_main-trigger-icon-container__2JyYy\",\"main-trigger-icon\":\"Navbar_main-trigger-icon__32rIc\",\"navbar-mask\":\"Navbar_navbar-mask__30cer\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"update-button-container\":\"searchContainer_update-button-container__1Wk9i\",\"update-button\":\"searchContainer_update-button__2-T2M\",\"lds-ring\":\"searchContainer_lds-ring__1gXMn\",\"tracks-container\":\"searchContainer_tracks-container__2a6JM\",\"label-container\":\"searchContainer_label-container__1QhWh\",\"label-check-container\":\"searchContainer_label-check-container__p5YNw\",\"label-count\":\"searchContainer_label-count__1PMG-\",\"check-box\":\"searchContainer_check-box__XH5qc\",\"label-item\":\"searchContainer_label-item__1QanI\",\"label-title\":\"searchContainer_label-title__3RBKh\",\"label-album\":\"searchContainer_label-album__141OE\",\"label-playlist\":\"searchContainer_label-playlist__1gtgh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistOptionsModal_inactive__3HWX9\",\"container-mask\":\"playlistOptionsModal_container-mask__PYwTR\",\"container\":\"playlistOptionsModal_container__1i1bA\",\"modal-container\":\"playlistOptionsModal_modal-container__L3T2G\",\"header-container\":\"playlistOptionsModal_header-container__2WjGd\",\"cancel-icon-container\":\"playlistOptionsModal_cancel-icon-container__1cRDj\",\"main-trigger-icon-container\":\"playlistOptionsModal_main-trigger-icon-container__ZjI0K\",\"button-container\":\"playlistOptionsModal_button-container__3dpZK\",\"cancel-button\":\"playlistOptionsModal_cancel-button__27tjm\",\"delete-button\":\"playlistOptionsModal_delete-button__1l_4T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlist_inactive__zNP4O\",\"playlist-container\":\"playlist_playlist-container__3hMve\",\"playlist-content\":\"playlist_playlist-content__1-WlW\",\"fallback-image-container\":\"playlist_fallback-image-container__1dG9F\",\"playlist-image-container\":\"playlist_playlist-image-container__3l9F7\",\"playlist-image\":\"playlist_playlist-image__2y3tW\",\"description-container\":\"playlist_description-container__3dYli\",\"playlist-title\":\"playlist_playlist-title__2LCMJ\",\"playlist-description\":\"playlist_playlist-description__N-adY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track-container\":\"track_track-container__19w3l\",\"album-cover-container\":\"track_album-cover-container__Y7P2L\",\"album-cover\":\"track_album-cover__816PU\",\"info-container\":\"track_info-container__nZlmV\",\"album-title\":\"track_album-title__38wDc\",\"track-title\":\"track_track-title__15gdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"wrapper_container__1aLqH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"home_inactive__19yDr\",\"container\":\"home_container__1APdC\",\"dropdown-container\":\"home_dropdown-container__4--TS\",\"user-container\":\"home_user-container__2MISo\",\"user-dropdown-input\":\"home_user-dropdown-input__1q4x5\",\"arrow-up\":\"home_arrow-up__2eopt\",\"dropdown-content-container\":\"home_dropdown-content-container__30RYO\",\"dropdown-button\":\"home_dropdown-button__17n6u\",\"user-icon-header-container\":\"home_user-icon-header-container__3FHIU\",\"user-icon-container\":\"home_user-icon-container__3E9bc\",\"user-image-container\":\"home_user-image-container__2CQYn\",\"user-image\":\"home_user-image__9LpmQ\",\"user-displayName\":\"home_user-displayName__xJ9eM\",\"arrow-container\":\"home_arrow-container__3hYlM\",\"user-arrow-trigger\":\"home_user-arrow-trigger__2Rquj\",\"user-icon-box\":\"home_user-icon-box__mCw_O\",\"user-info-container\":\"home_user-info-container__scT1M\",\"profile-picture-container\":\"home_profile-picture-container__p3wSC\",\"profile-picture\":\"home_profile-picture__3uhE5\",\"track-divisor-container\":\"home_track-divisor-container__1RJBs\",\"top-tracks-container\":\"home_top-tracks-container__3zApe\",\"recent-tracks-container\":\"home_recent-tracks-container__3GKig\",\"top-tracks-title\":\"home_top-tracks-title__2QYBn\",\"recently-played-title\":\"home_recently-played-title__13l2-\",\"show-more-container\":\"home_show-more-container__3ieWu\",\"showmore-input\":\"home_showmore-input__3T0R_\",\"showmore-label\":\"home_showmore-label__1AiHY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistWrapper_inactive__S6c6O\",\"item-wrapper\":\"playlistWrapper_item-wrapper__J_aFI\",\"options-container\":\"playlistWrapper_options-container__2O909\",\"hide-drop-down\":\"playlistWrapper_hide-drop-down__3UsxC\",\"drop-down-container\":\"playlistWrapper_drop-down-container__2jxgJ\",\"drop-down-left-container\":\"playlistWrapper_drop-down-left-container__-9L4f\",\"drop-down-content\":\"playlistWrapper_drop-down-content__1BHMZ\",\"selected-count\":\"playlistWrapper_selected-count__2C-yL\",\"cancel-icon-container\":\"playlistWrapper_cancel-icon-container__2zV8Q\",\"main-trigger-icon-container\":\"playlistWrapper_main-trigger-icon-container__AdE4w\",\"main-options-icons\":\"playlistWrapper_main-options-icons__2CIdG\",\"add-icon-container\":\"playlistWrapper_add-icon-container__39hUK\",\"container-container\":\"playlistWrapper_container-container__3v2ZE\",\"wrapper\":\"playlistWrapper_wrapper__TS0Ka\",\"container\":\"playlistWrapper_container__3RoNr\",\"item-container\":\"playlistWrapper_item-container__2F-o-\",\"title-text\":\"playlistWrapper_title-text__2_HIZ\",\"playlist-content\":\"playlistWrapper_playlist-content__1GlNm\",\"playlist-container\":\"playlistWrapper_playlist-container__mXSsD\",\"fallback-image-container\":\"playlistWrapper_fallback-image-container__1NJXi\",\"playlist-image-container\":\"playlistWrapper_playlist-image-container__1IYgr\",\"playlist-image\":\"playlistWrapper_playlist-image__23YjI\",\"description-container\":\"playlistWrapper_description-container__28JKe\",\"playlist-title\":\"playlistWrapper_playlist-title__hKktu\",\"playlist-description\":\"playlistWrapper_playlist-description__3fj_3\",\"header-container\":\"playlistWrapper_header-container__2iUq6\",\"title-options-container\":\"playlistWrapper_title-options-container__3Txju\",\"title-container\":\"playlistWrapper_title-container__39wTA\",\"input-container\":\"playlistWrapper_input-container__1b3NW\",\"input-searchbar\":\"playlistWrapper_input-searchbar__2AcQV\",\"input-content-container\":\"playlistWrapper_input-content-container__2G4AR\",\"search-icon\":\"playlistWrapper_search-icon__1v8RW\",\"track-count\":\"playlistWrapper_track-count__2-okV\",\"label-count\":\"playlistWrapper_label-count__1Qvft\",\"check-box\":\"playlistWrapper_check-box__3v15L\",\"label-title\":\"playlistWrapper_label-title__f8RMt\",\"label-artist\":\"playlistWrapper_label-artist__2RZ75\",\"label-playlist\":\"playlistWrapper_label-playlist__1NS48\"};","export const REQUEST_TOP_TRACKS = \"REQUEST_TOP_TRACKS\";\r\nexport const RECIEVE_TOP_TRACKS = \"RECIEVE_TOP_TRACKS\";\r\nexport const REQUEST_PLAYLISTS = \"REQUEST_PLAYLISTS\";\r\nexport const RECIEVE_PLAYLISTS = \"RECIEVE_PLAYLISTS\";\r\nexport const RECIEVE_RECENT_TRACKS = \"RECIEVE_RECENT_TRACKS\";\r\nexport const REQUEST_RECENT_TRACKS = \"REQUEST_RECENT_TRACKS\";\r\nexport const NAVBAR_LINK_CLICKED = \"NAVBAR_LINK_CLICKED\";\r\nexport const DELETE_TRACK_REQUEST = \"DELETE_TRACK_REQUEST\";\r\nexport const DELETE_TRACK_SUCCESS = \"DELETE_TRACK_SUCCESS\";\r\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const USER_INFO_REQUEST = \"USER_INFO_REQUEST\";\r\nexport const USER_INFO_SUCCESS = \"USER_INFO_SUCCESS\";\r\nexport const ACCESS_TOKEN_RECIEVED = \"ACCESS_TOKEN_RECIEVED\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\nexport const ADD_TRACK_REQUEST = \"ADD_TRACK_REQUEST\";\r\nexport const ADD_TRACK_SUCCESS = \"ADD_TRACK_SUCCESS\";\r\nexport const REQUEST_TRACKS = \"REQUEST_TRACKS\";\r\nexport const RECIEVE_TRACKS = \"RECIEVE_TRACKS\";\r\nexport const REQUEST_PLAYLIST_TRACKS = \"REQUEST_PLAYLIST_TRACKS\";\r\nexport const RECIEVE_PLAYLIST_TRACKS = \"RECIEVE_PLAYLIST_TRACKS\";\r\nexport const SELECT_ALL = \"SELECT_ALL\";\r\nexport const GET_SINGLE_PLAYLIST = \"GET_SINGLE_PLAYLIST\";\r\nexport const REQUEST_SEARCH_RESULTS = \"REQUEST_SEARCH_RESULTS\";\r\nexport const RECIEVE_SEARCH_RESULTS = \"RECIEVE_SEARCH_RESULTS\";\r\nexport const CLEAR_SEARCH_RESULTS = \"CLEAR_SEARCH_RESULTS\";\r\nexport const SCROLL_SEARCH_RESULTS = \"SCROLL_SEARCH_RESULTS\";\r\nexport const SET_CURRENT_PLAYLIST = \"SET_CURRENT_PLAYLIST\";\r\nexport const REQUEST_ADDITIONAL_TRACKS = \"REQUEST_ADDITIONAL_TRACKS\";\r\nexport const RECIEVE_ADDITIONAL_TRACKS = \"RECIEVE_ADDITIONAL_TRACKS\";\r\nexport const DATABASE_SYNC_ERROR = \"DATABASE_SYNC_ERROR\";\r\nexport const UPDATE_PLAYLIST_REQUEST = \"UPDATE_PLAYLIST_REQUEST\";\r\nexport const UPDATE_PLAYLIST_SUCCESS = \"UPDATE_PLAYLIST_SUCCESS\";\r\n","import axios from \"axios\";\r\nimport { useCallback } from \"react\";\r\naxios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\r\n  \"access_token\"\r\n)}`;\r\naxios.interceptors.response.use(\r\n  (config) => {\r\n    return config;\r\n  },\r\n  async (err) => {\r\n    if (err.response.config._retry !== false) {\r\n      err.response.config._retry = true;\r\n    }\r\n    if (err.response.status === 401 && err.response.config._retry === true) {\r\n      err.response.config._retry = false;\r\n      const refreshedToken = await timedRefresh();\r\n      localStorage.setItem(\"access_token\", refreshedToken.data.access_token);\r\n      err.response.config.headers.Authorization = `Bearer ${refreshedToken.data.access_token}`;\r\n      axios.defaults.headers.common[\r\n        \"Authorization\"\r\n      ] = `Bearer ${localStorage.getItem(\"access_token\")}`;\r\n      return axios(err.response.config);\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n);\r\nconst timedRefresh = () => {\r\n  return axios\r\n    .post(\"/api/refresh\", {\r\n      method: \"POST\",\r\n      withCredentials: true,\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n      },\r\n    })\r\n    .then((data) => {\r\n      if (data.data) {\r\n        axios.defaults.headers.common[\r\n          \"Authorization\"\r\n        ] = `Bearer ${localStorage.getItem(\"access_token\")}`;\r\n      }\r\n      return data;\r\n    });\r\n};\r\nconst logoutApi = () => {\r\n  return axios({\r\n    url: \"/api/logout\",\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst authorization = (decodedToken) => {\r\n  return axios.post(\"/api/authorization\", {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    code: decodedToken,\r\n  });\r\n};\r\nconst addTracksToPlaylistsCall = (obj, tracks, tracksFordb) => {\r\n  return axios.post(`/api/playlists/track`, {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    sets: obj,\r\n    tracks,\r\n    tracksFordb,\r\n  });\r\n};\r\nconst fetchSinglePlaylist = (id, scroll, offset) => {\r\n  return axios.get(\r\n    `/api/single/playlists/${id}/${scroll === true ? `?offset=${offset}` : \"\"}`,\r\n    {\r\n      withCredentials: true,\r\n    }\r\n  );\r\n};\r\nconst getUserInfo = (token) => {\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${\r\n    token || localStorage.getItem(\"access_token\")\r\n  }`;\r\n  return axios.get(\"/api/user-info\", {\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getRecentTracks = (cursor) => {\r\n  return axios.get(\r\n    `/api/recently-played${cursor ? `?before=${cursor.before}` : \"\"}`,\r\n    {\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n    }\r\n  );\r\n};\r\nconst getTopTracks = () => {\r\n  return axios.get(\"/api/top-tracks\", {\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getTrack = (trackId) => {\r\n  return axios({\r\n    url: `/api/track/${trackId.id}`,\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getPlaylists = () => {\r\n  return axios.get(`/api/playlists`, { withCredentials: true });\r\n};\r\nconst getPlayListTracks = (id, offset) => {\r\n  return axios({\r\n    url: `/api/playlists/${id}${offset ? `?offset=${offset}` : \"\"}`,\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getSearchResults = (regex, params, playlistid, offset) => {\r\n  return axios.get(\r\n    `/api/playlist/search/?regex=${regex}${offset ? `&offset=${offset}` : \"\"}${\r\n      params === false ? `&playlist=${playlistid}` : \"\"\r\n    }`,\r\n    {\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n    }\r\n  );\r\n};\r\nconst deleteFromPlaylist = (playlist, searchActive, playlistids, trackids) => {\r\n  return axios.delete(`/api/playlists/track`, {\r\n    data: {\r\n      searchActive,\r\n      playlistids,\r\n      trackids,\r\n      tracks: playlist,\r\n    },\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst updatePlaylistApi = (playlists) => {\r\n  return axios.put(`/api/playlists`, {\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst testF = (callback) => {\r\n  return;\r\n};\r\nexport {\r\n  updatePlaylistApi,\r\n  testF,\r\n  getSearchResults,\r\n  timedRefresh,\r\n  fetchSinglePlaylist,\r\n  deleteFromPlaylist,\r\n  getUserInfo,\r\n  logoutApi,\r\n  authorization,\r\n  getRecentTracks,\r\n  getTopTracks,\r\n  getPlayListTracks,\r\n  getTrack,\r\n  addTracksToPlaylistsCall,\r\n  getPlaylists,\r\n};\r\n","import {\r\n  RECIEVE_PLAYLIST_TRACKS,\r\n  RECIEVE_RECENT_TRACKS,\r\n  RECIEVE_TOP_TRACKS,\r\n  REQUEST_RECENT_TRACKS,\r\n  REQUEST_TOP_TRACKS,\r\n} from \"../types/types\";\r\nimport { getPlayListTracks, getRecentTracks, getTopTracks } from \"./calls\";\r\n\r\nfunction requestTopTracks() {\r\n  return {\r\n    type: REQUEST_TOP_TRACKS,\r\n  };\r\n}\r\nfunction requestRecentTracks() {\r\n  return {\r\n    type: REQUEST_RECENT_TRACKS,\r\n  };\r\n}\r\nexport function recieveTopTracks() {\r\n  return (dispatch, getState) => {\r\n    const getAllTracks = Object.keys(getState().tracks.byIds);\r\n    const filtered = {};\r\n    dispatch(requestTopTracks());\r\n\r\n    getTopTracks().then((data) => {\r\n      if (data) {\r\n        const toptracks = data.data.items;\r\n\r\n        const obj = {};\r\n        toptracks.forEach((track) => {\r\n          obj[track.uid] = track;\r\n          if (!getAllTracks.includes(track.uid)) {\r\n            filtered[track.uid] = track;\r\n          }\r\n        });\r\n\r\n        dispatch({\r\n          byIds: filtered,\r\n          type: RECIEVE_TOP_TRACKS,\r\n          top_tracks: obj,\r\n          allIds: Object.keys(obj),\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\nexport function recieveRecentTracks() {\r\n  return (dispatch, getState) => {\r\n    const cursors = getState().tracks.cursor;\r\n    dispatch(requestRecentTracks());\r\n    const getAllTracks = Object.keys(getState().tracks.byIds);\r\n    const filtered = {};\r\n\r\n    getRecentTracks(cursors).then((data) => {\r\n      if (data) {\r\n        const recentTracks = data.data.items;\r\n\r\n        const obj = {};\r\n        recentTracks.forEach((track) => {\r\n          obj[track.track.uid] = track.track;\r\n          if (!getAllTracks.includes(track.track.uid)) {\r\n            filtered[track.track.uid] = track.track;\r\n          }\r\n        });\r\n\r\n        dispatch({\r\n          byIds: filtered,\r\n          cursors: data.data.cursors,\r\n          type: RECIEVE_RECENT_TRACKS,\r\n          recent_tracks: obj,\r\n          allIds: Object.keys(obj),\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\nexport function getTracks(playlistid) {\r\n  return async (dispatch) => {\r\n    const obj = {};\r\n    const tracks = await getPlayListTracks(playlistid);\r\n    tracks.data.items.forEach((track) => {\r\n      obj[track.uid] = track;\r\n    });\r\n    if (tracks.status === 200) {\r\n      dispatch({\r\n        trackIds: tracks.data.items.map((tracks) => {\r\n          return tracks.uid;\r\n        }),\r\n        type: RECIEVE_PLAYLIST_TRACKS,\r\n        tracks: obj,\r\n        pageInfo: tracks.data.page,\r\n        playlistid,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import {\r\n  ACCESS_TOKEN_RECIEVED,\r\n  LOG_OUT,\r\n  USER_INFO_SUCCESS,\r\n} from \"../types/types\";\r\nimport { authorization, getUserInfo, logoutApi, timedRefresh } from \"./calls\";\r\nexport function loginCheck() {\r\n  return new Promise(function (resolve, reject) {\r\n    let check = localStorage.getItem(\"access_token\");\r\n    if (check) {\r\n      resolve(\"logged In\");\r\n    } else {\r\n      reject(\"not logged In\");\r\n    }\r\n  });\r\n}\r\nexport const logout = () => (dispatch, getState) => {\r\n  localStorage.removeItem(\"access_token\");\r\n  return new Promise(function (resolve, reject) {\r\n    logoutApi()\r\n      .then((data) => {\r\n        if (data.status === 200) {\r\n          dispatch({ type: LOG_OUT });\r\n          window.location.reload();\r\n          resolve(data.status);\r\n        }\r\n      })\r\n      .catch();\r\n  });\r\n};\r\nexport const getAccessToken = (code) => (dispatch, getState) => {\r\n  return authorization(code)\r\n    .then((data) => {\r\n      if (data.status === 200) {\r\n        dispatch({\r\n          access_token: data.data.access_token,\r\n          type: ACCESS_TOKEN_RECIEVED,\r\n        });\r\n        localStorage.setItem(\"access_token\", data.data.access_token);\r\n        return data.data.access_token;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      return err;\r\n    });\r\n};\r\nlet timeout;\r\nexport const getUserInfoAction = () => {\r\n  return (dispatch, getState) => {\r\n    getUserInfo()\r\n      .then((data) => {\r\n        if (data.status === 200) {\r\n          dispatch({ type: USER_INFO_SUCCESS, user: data.data });\r\n          dispatch(refreshTime());\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  };\r\n};\r\nlet interval;\r\nexport const refreshTime = () => {\r\n  clearTimeout(interval);\r\n  return async (dispatch, getState) => {\r\n    interval = setTimeout(async () => {\r\n      try {\r\n        const data = await timedRefresh();\r\n        localStorage.setItem(\"access_token\", data.data.access_token);\r\n      } catch (err) {\r\n        clearTimeout(interval);\r\n        dispatch(logout());\r\n      }\r\n    }, 1.8 * Math.pow(10, 6));\r\n  };\r\n};\r\n","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHomeIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHomeIcon);\nexport default __webpack_public_path__ + \"static/media/home-icon.66b71da2.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport style from \"./styles/track.module.scss\";\r\nconst Track = (props) => {\r\n  if (!props.image[0]) {\r\n    return null;\r\n  }\r\n  const handleRoute = () => {\r\n    window.open(props.track.external_urls.spotify, \"_blank\");\r\n  };\r\n  return (\r\n    <a onClick={handleRoute} className={style[\"track-container\"]}>\r\n      <div className={style[\"album-cover-container\"]}>\r\n        <img className={style[\"album-cover\"]} src={props.image[0].url} alt=\"\" />\r\n      </div>\r\n      <div className={style[\"info-container\"]}>\r\n        <p className={style[\"track-title\"]}>{props.track.name}</p>\r\n        <p className={style[\"album-title\"]}>{props.track.album.name}</p>\r\n      </div>\r\n    </a>\r\n  );\r\n};\r\nexport default Track;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createSelector } from \"reselect\";\r\nimport {\r\n  recieveRecentTracks,\r\n  recieveTopTracks,\r\n} from \"./spotify-redux/actions/trackActions\";\r\nimport { logout } from \"./spotify-redux/actions/userActions\";\r\nimport style from \"./styles/home.module.scss\";\r\nimport Track from \"./Track\";\r\nconst getUser = (state) => {\r\n  return state.current_user;\r\n};\r\nconst getTop = (state) => {\r\n  return state.tracks.top_tracks;\r\n};\r\nconst getRecent = (state) => {\r\n  return state.tracks.recent_tracks;\r\n};\r\nconst topTracksSelector = createSelector(getTop, (state) => {\r\n  return state;\r\n});\r\nconst recentTracksSelector = createSelector(getRecent, (state) => {\r\n  return state;\r\n});\r\nconst userSelectorMem = createSelector(getUser, (state) => {\r\n  return state;\r\n});\r\nconst Home = () => {\r\n  const userSelector = useSelector(userSelectorMem);\r\n  const topTrackSel = useSelector(topTracksSelector);\r\n  const recentTracksSel = useSelector(recentTracksSelector);\r\n  const currentUser = userSelector;\r\n  const currentUserInfo = currentUser.userInfo;\r\n  const dispatch = useDispatch();\r\n  const getTopTracks = topTrackSel;\r\n  const getRecentTracks = recentTracksSel;\r\n  let topTracksArr;\r\n  if (getTopTracks) {\r\n    topTracksArr = Object.keys(getTopTracks).map((id) => {\r\n      return getTopTracks[id];\r\n    });\r\n  }\r\n  let recentTracksArr;\r\n  if (getRecentTracks) {\r\n    recentTracksArr = Object.keys(getRecentTracks).map((id) => {\r\n      return getRecentTracks[id];\r\n    });\r\n  }\r\n  const handleLogout = () => {\r\n    dispatch(logout()).then((status) => {});\r\n  };\r\n  useEffect(() => {\r\n    dispatch(recieveTopTracks());\r\n    dispatch(recieveRecentTracks());\r\n  }, [currentUser.access_token]);\r\n  if (!getTopTracks || !getRecentTracks || !currentUserInfo) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={style[\"container\"]}>\r\n      <div className={style[\"user-container\"]}>\r\n        <input\r\n          className={style[\"user-dropdown-input\"]}\r\n          type=\"checkbox\"\r\n          id=\"user-dropdown\"\r\n        />\r\n        <label\r\n          htmlFor=\"user-dropdown\"\r\n          className={style[\"user-icon-header-container\"]}\r\n        >\r\n          <div className={style[\"user-icon-box\"]}>\r\n            <div className={style[\"user-icon-container\"]}>\r\n              <div className={style[\"user-image-container\"]}>\r\n                <img\r\n                  className={style[\"user-image\"]}\r\n                  src={currentUserInfo.images[0].url}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <p className={style[\"user-displayName\"]}>\r\n                {currentUserInfo.display_name}\r\n              </p>\r\n              <div className={style[\"arrow-container\"]}>\r\n                <span className={style[\"user-arrow-trigger\"]}></span>\r\n              </div>\r\n            </div>\r\n            <div className={style[\"dropdown-container\"]}>\r\n              <span className={style[\"arrow-up\"]}></span>\r\n              <div className={style[\"dropdown-content-container\"]}>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className={style[\"dropdown-button\"]}\r\n                >\r\n                  Log out\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </label>\r\n      </div>\r\n      <div className={style[\"content\"]}>\r\n        <div className={style[\"user-info-container\"]}>\r\n          <div className={style[\"profile-picture-container\"]}>\r\n            <img\r\n              src={currentUserInfo && currentUserInfo.images[0].url}\r\n              className={style[\"profile-picture\"]}\r\n            ></img>\r\n          </div>\r\n          <h2 className={style[\"profile-name\"]}>\r\n            {currentUserInfo && currentUserInfo.display_name}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"track-divisor-container\"]}>\r\n        <div>\r\n          <p className={style[\"top-tracks-title\"]}>your top tracks</p>\r\n          <div className={style[\"top-tracks-container\"]}>\r\n            {recentTracksArr.length > 0 && topTracksArr.length > 0\r\n              ? topTracksArr.map((track) => {\r\n                  return (\r\n                    <Track\r\n                      key={track.uid}\r\n                      track={track}\r\n                      image={track.album.images}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className={style[\"recently-played-title\"]}>recently played</p>\r\n          <div className={style[\"recent-tracks-container\"]}>\r\n            {recentTracksArr.length > 0 && topTracksArr.length > 0\r\n              ? recentTracksArr.map((track) => {\r\n                  return (\r\n                    <Track\r\n                      key={track.uid}\r\n                      track={track}\r\n                      image={track.album.images}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 63 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    preserveAspectRatio: \"xMidYMin meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    className: \"svelte-1gcdbl9\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M61.842 9.506a1.02 1.02 0 0 1-1.023-1.024c0-.562.453-1.03 1.029-1.03a1.02 1.02 0 0 1 1.023 1.024 1.03 1.03 0 0 1-1.029 1.03m.006-1.952a.915.915 0 0 0-.922.928c0 .51.394.921.916.921a.916.916 0 0 0 .922-.927.908.908 0 0 0-.916-.922m.226 1.027l.29.406h-.244l-.26-.372h-.225v.372h-.204V7.912h.48c.249 0 .413.128.413.343 0 .176-.102.284-.25.326m-.172-.485h-.267v.34h.267c.133 0 .212-.065.212-.17 0-.11-.08-.17-.212-.17m-12.804-3.52a1.043 1.043 0 1 0-.001 2.086 1.043 1.043 0 0 0 0-2.087m.72 2.89h-1.454a.107.107 0 0 0-.106.107v6.346c0 .06.047.107.106.107h1.455a.107.107 0 0 0 .107-.107V7.572a.107.107 0 0 0-.107-.107m3.233.006v-.2c0-.592.227-.856.736-.856.303 0 .546.06.82.152a.106.106 0 0 0 .14-.102V5.24a.107.107 0 0 0-.076-.102 3.993 3.993 0 0 0-1.21-.174c-1.343 0-2.053.757-2.053 2.188v.308h-.699a.107.107 0 0 0-.107.106v1.257c0 .059.048.107.107.107h.699v4.99c0 .058.047.106.106.106h1.455a.107.107 0 0 0 .106-.107v-4.99h1.358l2.081 4.99c-.236.523-.468.628-.785.628-.257 0-.527-.077-.803-.228a.109.109 0 0 0-.084-.008.106.106 0 0 0-.063.058l-.493 1.081a.106.106 0 0 0 .045.138c.515.279.98.398 1.554.398 1.074 0 1.668-.5 2.191-1.847L60.6 7.617a.106.106 0 0 0-.099-.146h-1.514a.107.107 0 0 0-.1.072l-1.552 4.431-1.7-4.434a.106.106 0 0 0-.099-.069h-2.485m-5.577-.006h-1.6V5.828a.106.106 0 0 0-.107-.106h-1.455a.107.107 0 0 0-.106.106v1.637h-.7a.106.106 0 0 0-.106.107v1.25c0 .059.048.107.106.107h.7v3.234c0 1.308.65 1.97 1.934 1.97.522 0 .954-.107 1.362-.338a.106.106 0 0 0 .054-.093v-1.19a.106.106 0 0 0-.154-.096c-.28.141-.551.206-.854.206-.467 0-.675-.211-.675-.686V8.929h1.6a.106.106 0 0 0 .107-.107v-1.25a.106.106 0 0 0-.106-.107m-7.671-.133c-1.96 0-3.497 1.51-3.497 3.437 0 1.907 1.526 3.4 3.473 3.4 1.967 0 3.508-1.504 3.508-3.424 0-1.914-1.53-3.413-3.484-3.413m0 5.362c-1.043 0-1.83-.838-1.83-1.95 0-1.115.76-1.924 1.806-1.924 1.05 0 1.84.838 1.84 1.95 0 1.115-.763 1.924-1.816 1.924m-7.014-5.362c-.82 0-1.492.323-2.046.984v-.744a.107.107 0 0 0-.106-.107h-1.455a.107.107 0 0 0-.106.107v8.27c0 .058.048.106.106.106h1.455a.107.107 0 0 0 .106-.106v-2.61c.555.621 1.227.925 2.046.925 1.522 0 3.063-1.172 3.063-3.412s-1.54-3.413-3.063-3.413m1.372 3.413c0 1.14-.703 1.937-1.709 1.937-.995 0-1.745-.833-1.745-1.937s.75-1.937 1.745-1.937c.99 0 1.71.814 1.71 1.937m-8.437-1.81c-1.624-.388-1.913-.66-1.913-1.231 0-.54.508-.903 1.264-.903.732 0 1.459.275 2.22.843a.107.107 0 0 0 .15-.023l.794-1.119a.107.107 0 0 0-.02-.144c-.906-.728-1.927-1.081-3.12-1.081-1.755 0-2.98 1.052-2.98 2.559 0 1.615 1.057 2.187 2.884 2.628 1.554.358 1.817.658 1.817 1.195 0 .594-.53.963-1.385.963-.948 0-1.721-.32-2.587-1.068a.11.11 0 0 0-.078-.026.105.105 0 0 0-.073.038l-.89 1.058a.105.105 0 0 0 .011.148 5.303 5.303 0 0 0 3.581 1.373c1.89 0 3.112-1.033 3.112-2.631 0-1.351-.807-2.098-2.787-2.58M9.507.305a9.41 9.41 0 1 0 0 18.82 9.41 9.41 0 0 0 0-18.82m4.316 13.572a.586.586 0 0 1-.807.195c-2.21-1.35-4.99-1.655-8.266-.907a.586.586 0 1 1-.261-1.143c3.584-.82 6.659-.467 9.139 1.049.276.169.363.53.195.806m1.15-2.562a.734.734 0 0 1-1.008.242c-2.529-1.555-6.385-2.005-9.377-1.097a.735.735 0 0 1-.426-1.404c3.418-1.037 7.666-.534 10.57 1.25a.734.734 0 0 1 .242 1.01m.1-2.669C12.04 6.846 7.036 6.68 4.141 7.56a.88.88 0 1 1-.511-1.684c3.323-1.01 8.849-.814 12.34 1.258a.88.88 0 0 1-.898 1.514\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.c26ab11c.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlaylistIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaylistIcon);\nexport default __webpack_public_path__ + \"static/media/playlist-icon.29989b5e.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAddIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14,10H3v2h11V10z M14,6H3v2h11V6z M18,14v-4h-2v4h-4v2h4v4h2v-4h4v-2H18z M3,16h7v-2H3V16z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddIcon);\nexport default __webpack_public_path__ + \"static/media/add-icon.6379aaf5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef, useReducer } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as HomeIcon } from \"./images/home-icon.svg\";\r\nimport { ReactComponent as Logo } from \"./images/logo.svg\";\r\nimport { generateUUID } from \"./App\";\r\nimport { ReactComponent as PlaylistIcon } from \"./images/playlist-icon.svg\";\r\nimport style from \"./styles/Navbar.module.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CLEAR_SEARCH_RESULTS } from \"./spotify-redux/types/types\";\r\nconst Navbar = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [checkedState, setChecked] = useState(false);\r\n  const handleClose = (check, type) => {\r\n    let trigger = document.getElementById(\"trigger\");\r\n    if (trigger.checked) {\r\n      setChecked(false);\r\n    } else if (type === \"playlist\") {\r\n      generateUUID();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleClose);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleClose);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <input\r\n        readOnly\r\n        checked={checkedState}\r\n        type=\"checkbox\"\r\n        id=\"trigger\"\r\n        className={style[\"burger-input\"]}\r\n      />\r\n      <label\r\n        onClick={() => setChecked(!checkedState)}\r\n        htmlFor=\"trigger\"\r\n        className={style[\"burger-label\"]}\r\n      >\r\n        <div className={style[\"main-trigger-icon-container\"]}>\r\n          <span className={style[\"main-trigger-icon\"]}></span>\r\n        </div>\r\n      </label>\r\n      <div\r\n        onClick={() => setChecked(false)}\r\n        id=\"nav-mask\"\r\n        className={style[\"navbar-mask\"]}\r\n      ></div>\r\n      <div className={style.container}>\r\n        <div className={style.content}>\r\n          <Link\r\n            onClick={() => setChecked(false)}\r\n            name=\"menu-item\"\r\n            className={style[\"menu-item\"]}\r\n            to={{ pathname: \"/\" }}\r\n          >\r\n            <Logo className={style[\"logo\"]} />\r\n          </Link>\r\n          <div className={style[\"menu-container\"]}>\r\n            <Link\r\n              name=\"menu-item\"\r\n              onClick={() => setChecked(false)}\r\n              to={{\r\n                pathname: \"/\",\r\n              }}\r\n              className={style[\"menu-item\"]}\r\n            >\r\n              <HomeIcon className={style[\"playlist-icon\"]} />\r\n              <p>Home</p>\r\n            </Link>\r\n            <Link\r\n              name=\"menu-item\"\r\n              onClick={() => {\r\n                props.reRecreateComp();\r\n                generateUUID();\r\n                setChecked(false, \"playlist\");\r\n                dispatch({ type: CLEAR_SEARCH_RESULTS });\r\n              }}\r\n              to={{\r\n                pathname: \"/playlists\",\r\n              }}\r\n              className={style[\"menu-item\"]}\r\n            >\r\n              <PlaylistIcon className={style[\"playlist-icon\"]} />\r\n              <p>Playlists</p>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div></div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Navbar;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    role: \"img\",\n    width: 24,\n    viewBox: \"0 0 512 512\",\n    className: \"_08f8133e4f703ce562826348eb158f87-scss\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.d5dc7a02.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    className: \"v1262d JUQOtc\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.00f75894.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMusicNote(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 32,\n    role: \"img\",\n    width: 32,\n    viewBox: \"-20 -25 100 100\",\n    \"data-testid\": \"card-image-fallback\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 7.494v28.362A8.986 8.986 0 0 0 9 32.5c-4.962 0-9 4.038-9 9s4.038 9 9 9 9-4.038 9-9V9.113l30-6.378v27.031a8.983 8.983 0 0 0-7-3.356c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9s9-4.037 9-9V.266L16 7.494zM9 48.5c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.859-3.141 7-7 7zm32-6.09c-3.86 0-7-3.14-7-7 0-3.859 3.14-7 7-7s7 3.141 7 7c0 3.861-3.141 7-7 7z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMusicNote);\nexport default __webpack_public_path__ + \"static/media/music-note.48ec1c79.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\";\r\nimport ObjectId from \"bson-objectid\";\r\nimport * as types from \"../types/types\";\r\nimport {\r\n  addTracksToPlaylistsCall,\r\n  deleteFromPlaylist,\r\n  getPlaylists,\r\n  getPlayListTracks,\r\n  fetchSinglePlaylist,\r\n  getSearchResults,\r\n  updatePlaylistApi,\r\n} from \"./calls\";\r\nconst requestPlaylists = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: types.REQUEST_PLAYLISTS });\r\n  };\r\n};\r\nexport const addTracksToPlaylists = (playlist, tracks) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: types.ADD_TRACK_REQUEST });\r\n  const allTracks = getState().tracks.byIds;\r\n  const trackids = [];\r\n  const tracksFordb = {};\r\n  const tracksForReducer = {};\r\n  const tracksToadd = tracks.map((track) => {\r\n    return track.uri;\r\n  });\r\n  const tracksForPlaylist = {};\r\n  let obj = {};\r\n  for (let item of playlist) {\r\n    for (let set of tracks) {\r\n      const uuid = ObjectId();\r\n      const trackCopy = { ...allTracks[set.trackid] };\r\n      trackCopy[\"uid\"] = uuid.toString();\r\n      tracksForReducer[uuid] = trackCopy;\r\n      trackids.push(trackCopy.id);\r\n      tracksFordb[trackCopy.uid] = trackCopy;\r\n      if (!tracksForPlaylist[item.playlistid]) {\r\n        tracksForPlaylist[item.playlistid] = [trackCopy];\r\n      } else {\r\n        tracksForPlaylist[item.playlistid].push(trackCopy);\r\n      }\r\n    }\r\n    obj[item.playlistid] = tracksToadd;\r\n  }\r\n  const data = await addTracksToPlaylistsCall(obj, trackids, tracksForPlaylist);\r\n  dispatch({\r\n    type: types.ADD_TRACK_SUCCESS,\r\n    playlists: Object.keys(obj),\r\n    tracksToAdd: tracksForPlaylist,\r\n    trackids: Object.keys(tracksForReducer),\r\n  });\r\n  return data.status;\r\n};\r\nexport const deleteTrackFromPlaylists = (playlistTracks, searchActive) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch({ type: types.DELETE_TRACK_REQUEST });\r\n    const length = playlistTracks.length;\r\n    const playlistids = [];\r\n    const trackids = [];\r\n    const apiData = {};\r\n    for (let i = 0; i < length; i++) {\r\n      trackids.push(playlistTracks[i].trackid);\r\n      if (!playlistids.includes(playlistTracks[i].playlistid)) {\r\n        playlistids.push(playlistTracks[i].playlistid);\r\n        apiData[playlistTracks[i].playlistid] = {};\r\n        apiData[playlistTracks[i].playlistid][\"tracks\"] = [playlistTracks[i]];\r\n      } else {\r\n        apiData[playlistTracks[i].playlistid][\"tracks\"].push(playlistTracks[i]);\r\n      }\r\n    }\r\n    let data;\r\n    try {\r\n      data = await deleteFromPlaylist(\r\n        apiData,\r\n        searchActive,\r\n        playlistids,\r\n        trackids\r\n      );\r\n    } catch (error) {\r\n      dispatch({\r\n        type: types.DATABASE_SYNC_ERROR,\r\n      });\r\n      return Promise.reject(error.response.status);\r\n    }\r\n    dispatch({\r\n      trackids,\r\n      playlistids,\r\n      apiData,\r\n      type: types.DELETE_TRACK_SUCCESS,\r\n    });\r\n    return {\r\n      status: data.status,\r\n    };\r\n  };\r\n};\r\nexport function getSinglePlaylist(id) {\r\n  return (dispatch) => {\r\n    fetchSinglePlaylist(id).then((data) => {\r\n      const tracksObj = {};\r\n      const playlistData = data.data.playlist;\r\n      data.data.tracks.forEach((track, i) => {\r\n        track.track[\"position\"] = i;\r\n        track.track[\"uid\"] = track._id;\r\n        tracksObj[track._id] = track.track;\r\n      });\r\n      const trackIds = Object.keys(tracksObj);\r\n      playlistData.tracks = trackIds;\r\n      dispatch({\r\n        type: types.GET_SINGLE_PLAYLIST,\r\n        data: playlistData,\r\n        tracks: tracksObj,\r\n        trackIds,\r\n        offset: data.data.offset,\r\n      });\r\n    });\r\n  };\r\n}\r\nexport function updatePlaylist(selected) {\r\n  return async (dispatch, getState) => {\r\n    dispatch({ type: types.UPDATE_PLAYLIST_REQUEST });\r\n    const data = await updatePlaylistApi();\r\n    const idsToRemove = [];\r\n    const currPlaylists = getState().playlists.byIds;\r\n    const calls = [];\r\n    for (let playlist of data.data.updatedPlaylists) {\r\n      calls.push(fetchSinglePlaylist(playlist));\r\n      idsToRemove.push(...currPlaylists[playlist].tracks);\r\n    }\r\n    const playlists = {};\r\n    const resolved = await Promise.all(calls);\r\n    const allTracksArr = resolved.reduce((acc, set) => {\r\n      acc.push(...set.data.tracks);\r\n      const playlistCopy = { ...set.data.playlist };\r\n      playlistCopy[\"tracks\"] = playlistCopy[\"tracksArr\"];\r\n      playlists[set.data.playlist.id] = playlistCopy;\r\n      return acc;\r\n    }, []);\r\n    const allTracksObj = allTracksArr.reduce((acc, track) => {\r\n      track.track[\"uid\"] = track._id;\r\n      acc[track._id] = track.track;\r\n      return acc;\r\n    }, {});\r\n    dispatch({\r\n      type: types.UPDATE_PLAYLIST_SUCCESS,\r\n      idsToRemove,\r\n      playlists,\r\n      tracks: allTracksObj,\r\n    });\r\n  };\r\n}\r\nexport function getTracksScroll(playlist, mainOffSet) {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: types.REQUEST_TRACKS,\r\n    });\r\n    try {\r\n      const data = await getPlayListTracks(playlist.id, mainOffSet);\r\n      let tracks = {};\r\n      data.data.items.forEach((track) => {\r\n        tracks[track.uid] = track;\r\n      });\r\n      if (data.status === 200) {\r\n        dispatch({\r\n          type: types.RECIEVE_TRACKS,\r\n          trackIds: data.data.items.map((tracks_1) => {\r\n            return tracks_1.uid;\r\n          }),\r\n          tracks,\r\n          page: data.data.page,\r\n          playlist,\r\n        });\r\n      }\r\n    } catch (err) {}\r\n  };\r\n}\r\nexport function getMoreTracksPlaylist(id) {\r\n  return async (dispatch, getState) => {\r\n    const offset = getState().playlists.byIds[id].offset;\r\n    dispatch({ type: types.REQUEST_ADDITIONAL_TRACKS });\r\n    const data = await fetchSinglePlaylist(id, true, offset);\r\n    const trackIds = data.data.tracks.map((track) => {\r\n      return track._id;\r\n    });\r\n    const trackObjs = {};\r\n    for (let track of data.data.tracks) {\r\n      track.track[\"uid\"] = track._id;\r\n      trackObjs[track._id] = track.track;\r\n    }\r\n    if (data.status === 200) {\r\n      dispatch({\r\n        playlistid: id,\r\n        type: types.RECIEVE_ADDITIONAL_TRACKS,\r\n        trackids: trackIds,\r\n        tracks: trackObjs,\r\n        offset: data.data.offset,\r\n      });\r\n    }\r\n    return data;\r\n  };\r\n}\r\nexport function recievePlaylists() {\r\n  return (dispatch) => {\r\n    dispatch(requestPlaylists());\r\n    getPlaylists()\r\n      .then((data) => {\r\n        let playlists = data.data.playlists;\r\n        let playlistObj = {};\r\n        playlists.forEach((playlist) => {\r\n          playlist.tracks = [];\r\n          playlistObj[playlist.id] = playlist;\r\n        });\r\n        dispatch({\r\n          byIds: playlistObj,\r\n          type: types.RECIEVE_PLAYLISTS,\r\n          allIds: Object.keys(playlistObj),\r\n        });\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n}\r\nlet timeout;\r\nexport function searchPlaylists(regex, params, currentPlaylist, scroll) {\r\n  return async (dispatch, getState) => {\r\n    let offsetId = {};\r\n    clearTimeout(timeout);\r\n    if (!scroll) {\r\n      return new Promise((resolve) => {\r\n        if (regex.length > 0) {\r\n          timeout = setTimeout(async () => {\r\n            dispatch({ type: types.REQUEST_SEARCH_RESULTS });\r\n            const data = await getSearchResults(\r\n              regex,\r\n              params,\r\n              currentPlaylist,\r\n              offsetId._id\r\n            );\r\n            if (data.status === 200) {\r\n              dispatch({\r\n                type: scroll\r\n                  ? types.SCROLL_SEARCH_RESULTS\r\n                  : types.RECIEVE_SEARCH_RESULTS,\r\n                results: data.data,\r\n              });\r\n            }\r\n            resolve(data.status);\r\n          }, 100);\r\n        }\r\n        resolve([]);\r\n      });\r\n    }\r\n    if (scroll) {\r\n      const findOffsetId = getState().search.results;\r\n      const offset = findOffsetId[findOffsetId.length - 1];\r\n      const data_1 = await getSearchResults(\r\n        regex,\r\n        params,\r\n        currentPlaylist,\r\n        offset._id\r\n      );\r\n      dispatch({\r\n        type: types.SCROLL_SEARCH_RESULTS,\r\n        results: data_1.data,\r\n      });\r\n    } else {\r\n      dispatch({ type: types.CLEAR_SEARCH_RESULTS, results: [] });\r\n    }\r\n  };\r\n}\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.091a5f52.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport { ReactComponent as MusicIcon } from \"./images/music-note.svg\";\r\nimport { getTracks } from \"./spotify-redux/actions/trackActions\";\r\nimport { getSinglePlaylist } from \"./spotify-redux/actions/playlistActions\";\r\nimport style from \"./styles/playlist.module.scss\";\r\nconst Playlist = (props) => {\r\n  const dispatch = useDispatch();\r\n  const item = props.playlist;\r\n  let { url } = useRouteMatch();\r\n  if (!props.playlist) {\r\n    return <div></div>;\r\n  }\r\n  let imageUrl = item.images[0] ? (\r\n    <img className={style[\"playlist-image\"]} src={item.images[0].url} alt=\"\" />\r\n  ) : (\r\n    <div className={style[\"fallback-image-container\"]}>\r\n      <MusicIcon className={style[\"playlist-image\"]} />\r\n    </div>\r\n  );\r\n  return (\r\n    <Link\r\n      // onClick={() => {\r\n      //   dispatch(getSinglePlaylist(props.playlist.id));\r\n      // }}\r\n      key={item.uid}\r\n      to={{\r\n        pathname: `${url}/${item.id}`,\r\n      }}\r\n      className={style[\"playlist-container\"]}\r\n    >\r\n      <div className={style[\"playlist-content\"]}>\r\n        <div className={style[\"playlist-image-container\"]}>{imageUrl}</div>\r\n        <div className={style[\"description-container\"]}>\r\n          <p className={style[\"playlist-title\"]}>{item.name}</p>\r\n          <p className={style[\"playlist-description\"]}>\r\n            {item.description\r\n              ? item.description\r\n              : `By ${item.owner.display_name}`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\nexport default React.memo(Playlist);\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckIconPlaceH(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    className: \"v1262d JUQOtc rqet2b\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckIconPlaceH);\nexport default __webpack_public_path__ + \"static/media/checkIconPlaceH.7fc9c27f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { ReactComponent as CheckIconPlaceH } from \"./images/checkIconPlaceH.svg\";\r\nimport style from \"./styles/playlistAddModal.module.scss\";\r\nconst PlaylistAddModal = (props) => {\r\n  const [selectedPlaylists, setSelectedPlaylists] = useState([]);\r\n  let filteredPlaylists = props.playlist;\r\n  const handlePlaylistSelect = (id) => {\r\n    const selected = [...selectedPlaylists];\r\n    let obj = {};\r\n    obj[\"playlistid\"] = id;\r\n    const findId = selected.find((obj) => {\r\n      return obj.playlistid === id;\r\n    });\r\n    if (!findId) {\r\n      selected.push(obj);\r\n    } else {\r\n      let index = selected.findIndex((obj) => {\r\n        return obj.playlistid === id;\r\n      });\r\n      selected.splice(index, 1);\r\n    }\r\n    setSelectedPlaylists(selected);\r\n  };\r\n  const handleAdd = () => {\r\n    props.handleAdd(selectedPlaylists);\r\n  };\r\n  return (\r\n    <div className={style[props.showModal ? \"\" : \"inactive\"]}>\r\n      <div onClick={props.closeModal} className={style[\"container-mask\"]}></div>\r\n      <div className={style[props.showModal ? \"container\" : \"inactive\"]}>\r\n        <div className={style[\"modal-container\"]}>\r\n          <div className={style[\"header-container\"]}>\r\n            <div\r\n              onClick={props.closeModal}\r\n              className={style[\"cancel-icon-container\"]}\r\n            >\r\n              <span className={style[\"main-trigger-icon-container\"]}>\r\n                <i className={style[\"main-trigger-icon\"]}></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <p className={style[\"modal-title\"]}>Add to playlists</p>\r\n          <div className={style[\"playlist-container\"]}>\r\n            {filteredPlaylists.map((playlist, i) => {\r\n              return (\r\n                <div\r\n                  key={playlist.id}\r\n                  className={style[\"playlist-item-container\"]}\r\n                >\r\n                  <div className={style[\"playlist-item\"]}>\r\n                    <div className={style[\"check-index-container\"]}>\r\n                      <p\r\n                        className={\r\n                          style[\r\n                            selectedPlaylists.length > 0\r\n                              ? \"inactive\"\r\n                              : \"playlist-count\"\r\n                          ]\r\n                        }\r\n                      >\r\n                        {i + 1}\r\n                      </p>\r\n                      <CheckIconPlaceH\r\n                        key={playlist.id}\r\n                        style={{\r\n                          display:\r\n                            selectedPlaylists.length > 0 ? \"flex\" : \"none\",\r\n                        }}\r\n                        className={style[\"check-icon-place\"]}\r\n                      />\r\n                      <CheckIcon\r\n                        data-testid={`addModal` + playlist.id}\r\n                        style={{\r\n                          display: selectedPlaylists.find((obj) => {\r\n                            return obj.playlistid === playlist.id;\r\n                          })\r\n                            ? \"flex\"\r\n                            : \"none\",\r\n                          fill: selectedPlaylists.find((obj) => {\r\n                            return obj.playlistid === playlist.id;\r\n                          })\r\n                            ? \"#1db954\"\r\n                            : \"white\",\r\n                        }}\r\n                        onClick={() => handlePlaylistSelect(playlist.id)}\r\n                        className={style[\"check-icon\"]}\r\n                      />\r\n                    </div>\r\n                    <p className={style[\"playlist-title\"]}>{playlist.name}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className={style[\"button-container\"]}>\r\n            <button\r\n              onClick={props.closeModal}\r\n              className={style[\"cancel-button\"]}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() => handleAdd()}\r\n              className={style[\"delete-button\"]}\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PlaylistAddModal;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport style from \"./styles/playlistOptionsModal.module.scss\";\r\nconst PlaylistOptionsModal = (props) => {\r\n  const error = useSelector((state) => {\r\n    return state.playlists.err;\r\n  });\r\n  const handleDelete = () => {\r\n    props.handleDelete();\r\n  };\r\n  const closeModal = () => {\r\n    props.closeModal();\r\n  };\r\n  return (\r\n    <div\r\n      data-testid=\"delete modal test\"\r\n      className={style[props.showModal ? \"container\" : \"inactive\"]}\r\n    >\r\n      <div onClick={props.closeModal} className={style[\"container-mask\"]}></div>\r\n      <div className={style[\"modal-container\"]}>\r\n        <div className={style[\"header-container\"]}>\r\n          <div\r\n            onClick={props.closeModal}\r\n            className={style[\"cancel-icon-container\"]}\r\n          >\r\n            <span className={style[\"main-trigger-icon-container\"]}>\r\n              <i className={style[\"main-trigger-icon\"]}></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <p>Are you sure you want to delete these tracks?</p>\r\n        <div className={style[\"button-container\"]}>\r\n          <button onClick={closeModal} className={style[\"cancel-button\"]}>\r\n            Cancel\r\n          </button>\r\n          <button\r\n            role=\"button\"\r\n            name=\"delete-button\"\r\n            onClick={handleDelete}\r\n            className={style[\"delete-button\"]}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PlaylistOptionsModal;\r\n","import React from \"react\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { ReactComponent as CheckIconPlaceH } from \"./images/checkIconPlaceH.svg\";\r\nimport style from \"./styles/playlisttracks.module.scss\";\r\nconst PlaylistTrack = (props) => {\r\n  let track = props.playlistSet;\r\n  const handleCheckClick = (trackid, playlistid, uri) => {\r\n    props.handleCheckSelected(\r\n      trackid,\r\n      playlistid,\r\n      uri,\r\n      props.changed,\r\n      props.track.position || props.index\r\n    );\r\n  };\r\n  return (\r\n    <div className={style[\"item-container\"]}>\r\n      <div className={style[\"check-count-container\"]}>\r\n        <div className={style[\"check-container\"]}>\r\n          <CheckIconPlaceH\r\n            style={{ display: props.checkAll ? \"flex\" : \"none\" }}\r\n            className={style[\"check-icon-place\"]}\r\n          />\r\n          <CheckIcon\r\n            data-testid={props.track.track.uid}\r\n            onClick={(e) => {\r\n              handleCheckClick(\r\n                props.track._id || props.track.track.uid,\r\n                props.playlist.id,\r\n                props.track.track.uri\r\n              );\r\n            }}\r\n            style={{\r\n              display: props.isSelected ? \"flex\" : \"none\",\r\n              fill: props.isSelected ? \"#1db954\" : \"white\",\r\n            }}\r\n            className={\r\n              style[\r\n                props.playlist.owner.display_name === \"Spotify\"\r\n                  ? \"check-icon\"\r\n                  : \"check-icon\"\r\n              ]\r\n            }\r\n          />\r\n        </div>\r\n        <div className={style[\"track-count-container\"]}>\r\n          <span className={style[props.checkAll ? \"inactive\" : \"track-count\"]}>\r\n            {props.index + 1}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"item-title-container\"]}>\r\n        <div className={style[\"album-image-container\"]}>\r\n          <img\r\n            className={style[\"album-image\"]}\r\n            src={\r\n              props.imageSelection && props.playlistSet\r\n                ? props.track.track.album.images[0] &&\r\n                  props.track.track.album.images[0].url\r\n                : props.playlist.images[0] && props.playlist.images[0].url\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className={style[\"title-container\"]}>\r\n          <div className={style[\"track-title-container\"]}>\r\n            <p className={style[\"track-title\"]}>{props.track.track.name}</p>\r\n          </div>\r\n          <span className={style[\"track-artist\"]}>\r\n            {props.track.track.artists.map((artist, i) => {\r\n              return (\r\n                <span key={artist.id}>\r\n                  <a>\r\n                    <span className={style[\"artist-name\"]}>{artist.name}</span>\r\n                  </a>\r\n                  {props.track.track.artists.length - 1 !== i && \", \"}\r\n                </span>\r\n              );\r\n            })}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"track-album-container\"]}>\r\n        <p className={style[\"track-album\"]}>{props.track.track.album.name}</p>\r\n      </div>\r\n      <div className={style[\"track-playlist-container\"]}>\r\n        <p className={style[\"track-playlist\"]}>{props.playlist.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(PlaylistTrack, (prev, next) => {\r\n  if (\r\n    prev.checkAll !== next.checkAll ||\r\n    prev.lastUpdated !== next.lastUpdated\r\n  ) {\r\n    return false;\r\n  }\r\n  if (prev.isSelected === next.isSelected) {\r\n    return true;\r\n  }\r\n});\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PlaylistTrack from \"./PlaylistTracks\";\r\nimport style from \"./styles/searchContainer.module.scss\";\r\nimport { createSelector } from \"reselect\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { updatePlaylist } from \"./spotify-redux/actions/playlistActions\";\r\nconst playlist = (state) => {\r\n  return state.playlists.byIds;\r\n};\r\nconst playlistSelector = createSelector(playlist, (playlist) => {\r\n  return playlist;\r\n});\r\nconst SearchContainer = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [updated, setLastUpdated] = useState(0);\r\n  const isUpdating = useSelector((state) => {\r\n    return state.playlists.isUpdating;\r\n  });\r\n  let searchResults = useSelector((state) => {\r\n    return state.search.results;\r\n  });\r\n  let filteredSearch;\r\n  if (props.location.pathname !== \"/playlists\") {\r\n    filteredSearch = searchResults.filter((result) => {\r\n      return result.playlistid === props.currentPlaylist;\r\n    });\r\n  }\r\n  const playlist = useSelector(playlistSelector);\r\n  const update = () => {\r\n    dispatch(updatePlaylist());\r\n    setLastUpdated(Date.now());\r\n  };\r\n  return (\r\n    <div className={style[\"tracks-container\"]}>\r\n      <div className={style[\"update-button-container\"]}>\r\n        <button onClick={update} className={style[\"update-button\"]}>\r\n          update\r\n        </button>\r\n        <div\r\n          style={{\r\n            display: isUpdating ? \"\" : \"none\",\r\n          }}\r\n          className={style[\"lds-ring\"]}\r\n        >\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"label-container\"]}>\r\n        <div className={style[\"label-check-container\"]}>\r\n          <CheckIcon\r\n            style={{\r\n              fill: props.selectedAllIds.includes(\"search\")\r\n                ? \"#1db954\"\r\n                : \"white\",\r\n              display: props.selectedAllIds.includes(\"search\")\r\n                ? \"block\"\r\n                : \"none\",\r\n            }}\r\n            onClick={() => {\r\n              props.handleCheckAll(searchResults, \"search\", false);\r\n            }}\r\n            className={style[\"check-box\"]}\r\n          />\r\n          <li\r\n            style={{\r\n              display: props.selectedAllIds.includes(\"search\")\r\n                ? \"none\"\r\n                : \"block\",\r\n            }}\r\n            className={style[\"label-count\"]}\r\n          >\r\n            #\r\n          </li>\r\n        </div>\r\n        <li className={style[\"label-title\"]}>title</li>\r\n        <li className={style[\"label-album\"]}>album</li>\r\n        <li className={style[\"label-playlist\"]}>playlist</li>\r\n      </div>\r\n      <div className={style[\"item-wrapper\"]}>\r\n        {(props.location.pathname === \"/playlists\"\r\n          ? searchResults\r\n          : filteredSearch\r\n        ).map((result, i) => {\r\n          return (\r\n            <PlaylistTrack\r\n              checkAll={props.selected.length > 0}\r\n              isSelected={props.isSelected(result._id)}\r\n              deletedArr={props.deletedArr}\r\n              key={result._id}\r\n              handleCheckSelected={props.handleCheckSelected}\r\n              playlist={playlist[result.playlistid]}\r\n              track={result}\r\n              selected={props.selected}\r\n              index={i}\r\n            ></PlaylistTrack>\r\n          );\r\n        })}\r\n        {/* {filteredSearchArr.map((track, i) => {\r\n                  return (\r\n                    <PlaylistTrack\r\n                      checkAll={selected.length > 0}\r\n                      isSelected={isSelected(track.track.uid)}\r\n                      searchArr={searchArr}\r\n                      deletedArr={deletedArr}\r\n                      key={track.track && track.track.uid + track.playlist.uid}\r\n                      handleCheckSelected={handleCheckSelected}\r\n                      playlistSet={track}\r\n                      selected={selected}\r\n                      index={i}\r\n                    ></PlaylistTrack>\r\n                  );\r\n                })} */}\r\n        {/* <SearchContainer\r\n          searchArr={searchArr}\r\n          selected={selected}\r\n          deletedArr={deletedArr}\r\n        /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SearchContainer;\r\n","import axios from \"axios\";\r\nimport React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useMemo,\r\n} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getColor } from \"./colorMatch\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport PlaylistTracks from \"./PlaylistTracks\";\r\nimport { getSearchResults } from \"./spotify-redux/actions/calls\";\r\nimport {\r\n  getTracksScroll,\r\n  searchPlaylists,\r\n  getSinglePlaylist,\r\n  getMoreTracksPlaylist,\r\n  updatePlaylist,\r\n} from \"./spotify-redux/actions/playlistActions\";\r\nimport { SET_CURRENT_PLAYLIST } from \"./spotify-redux/types/types\";\r\nimport style from \"./styles/singlePlaylist.module.scss\";\r\nconst SinglePlaylist = (props) => {\r\n  const [mainColor, setMainColor] = useState();\r\n  const [playlist, setPlaylist] = useState();\r\n  const [lastUpdated, setLastUpdated] = useState(0);\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const getTracksRef = useRef();\r\n  const currentPlayList = useSelector((state) => {\r\n    return state.playlists.byIds[params.id];\r\n  });\r\n  const isUpdating = useSelector((state) => {\r\n    return state.playlists.isUpdating;\r\n  });\r\n  useEffect(() => {\r\n    if (currentPlayList && currentPlayList.images[0]) {\r\n      let myImage = new Image();\r\n      myImage.src = currentPlayList.images[0].url;\r\n      myImage.crossOrigin = \"\";\r\n      myImage.onload = function () {\r\n        let rgb = getColor(myImage);\r\n        let formatted = rgb;\r\n        setMainColor(formatted);\r\n      };\r\n    }\r\n    props.findCurrentPlaylist(params.id);\r\n  }, [currentPlayList]);\r\n  useEffect(() => {\r\n    dispatch(getSinglePlaylist(params.id));\r\n  }, []);\r\n  const handleCheckAll = useCallback(() => {\r\n    let tracks = getTracks.map((item) => {\r\n      return {\r\n        trackid: item.track.uid,\r\n        playlistid: item.playlist.id,\r\n        index: item.track.index,\r\n        uri: item.track.uri,\r\n      };\r\n    });\r\n    props.handleCheckAll(tracks, currentPlayList.id);\r\n  }, [currentPlayList]);\r\n  let getTracks = [];\r\n  let snapshot_id = getTracks.length > 0 ? getTracks[0].snapshot_id : null;\r\n  const tracksMem = useMemo(() => {\r\n    if (currentPlayList) {\r\n      getTracks = currentPlayList.tracks.reduce((arr, id) => {\r\n        let obj = {};\r\n        obj[\"playlist\"] = currentPlayList;\r\n        obj[\"track\"] = props.allTracks[id];\r\n        obj[\"uid\"] = props.allTracks[id].uid;\r\n        if (obj.track.name.length > 0) {\r\n          arr.push(obj);\r\n        }\r\n        return arr;\r\n      }, []);\r\n    }\r\n    getTracks.filter((track) => {\r\n      let findDeleted = props.deletedArr.find((obj) => {\r\n        return obj.trackid === track.track.uid;\r\n      });\r\n      if (!findDeleted) {\r\n        return track;\r\n      }\r\n    });\r\n    return getTracks;\r\n  }, [\r\n    currentPlayList,\r\n    lastUpdated,\r\n    currentPlayList && currentPlayList.tracks.length,\r\n  ]);\r\n  const checkScroll = useRef(true);\r\n  const lastPosition = useRef(true);\r\n  const handleFetchScroll = async (e) => {\r\n    let scrollPos = Math.round(e.target.scrollHeight - e.target.scrollTop);\r\n    let clientHeight = e.target.clientHeight;\r\n    if (\r\n      scrollPos - 100 <= clientHeight &&\r\n      scrollPos + 20 >= clientHeight &&\r\n      lastPosition.current < e.target.scrollTop &&\r\n      checkScroll.current &&\r\n      currentPlayList.offset\r\n    ) {\r\n      checkScroll.current = false;\r\n      const data = await dispatch(\r\n        getMoreTracksPlaylist(currentPlayList.id, null, true)\r\n      );\r\n      if (data.status === 200) {\r\n        checkScroll.current = true;\r\n      }\r\n    }\r\n    lastPosition.current = e.target.scrollTop;\r\n  };\r\n  useEffect(() => {\r\n    const scrollContainer = props.scrollContainer.current;\r\n    if (scrollContainer) {\r\n      scrollContainer.addEventListener(\"scroll\", handleFetchScroll);\r\n      return () => {\r\n        scrollContainer.removeEventListener(\"scroll\", handleFetchScroll);\r\n      };\r\n    }\r\n  }, [currentPlayList]);\r\n  if (!currentPlayList) {\r\n    return null;\r\n  }\r\n  let checkAllFiltered = tracksMem.filter((track) => {\r\n    let findId = props.selected.find((item) => {\r\n      return item.trackid === track.track.uid;\r\n    });\r\n    if (!findId) {\r\n      return track;\r\n    }\r\n  });\r\n  const isSelected = (trackId) => {\r\n    const findId = props.selected.some((set) => {\r\n      return set.trackid === trackId;\r\n    });\r\n    checkScroll.current = true;\r\n    return findId;\r\n  };\r\n  const update = () => {\r\n    dispatch(updatePlaylist(props.selected));\r\n    setLastUpdated(Date.now());\r\n  };\r\n  return (\r\n    <div\r\n      className={\r\n        style[props.searchArr && props.searchText > 0 ? \"inactive\" : \"wrapper\"]\r\n      }\r\n    >\r\n      <div className={style[\"header-container\"]}>\r\n        <div\r\n          style={{\r\n            background: mainColor ? mainColor.formattedMain : \"transparent\",\r\n          }}\r\n          className={style[\"album-cover-container\"]}\r\n        >\r\n          <img\r\n            id=\"playlistImage\"\r\n            className={style[\"album-cover\"]}\r\n            src={currentPlayList.images[0].url}\r\n            alt=\"\"\r\n          />\r\n          <div className={style[\"album-mask\"]}></div>\r\n        </div>\r\n        <div className={style[\"playlist-info-container\"]}>\r\n          <h3 className={style[\"playlist-title\"]}>{currentPlayList.name}</h3>\r\n          <p className={style[\"playlist-creator\"]}>\r\n            Created By {currentPlayList.owner.display_name}\r\n          </p>\r\n          <div className={style[\"update-button-container\"]}>\r\n            <button onClick={update} className={style[\"update-button\"]}>\r\n              update\r\n            </button>\r\n            <div\r\n              style={{ display: isUpdating ? \"\" : \"none\" }}\r\n              className={style[\"lds-ring\"]}\r\n            >\r\n              <div></div> <div></div> <div></div> <div></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"tracks-container\"]}>\r\n        <div className={style[\"label-container\"]}>\r\n          <div className={style[\"label-check-container\"]}>\r\n            <p\r\n              style={{\r\n                display: checkAllFiltered.length === 0 ? \"none\" : \"block\",\r\n              }}\r\n              className={style[\"label-count\"]}\r\n            >\r\n              #\r\n            </p>\r\n            <CheckIcon\r\n              style={{\r\n                fill:\r\n                  checkAllFiltered.length === 0 && props.selected.length > 0\r\n                    ? \"#1db954\"\r\n                    : \"white\",\r\n                display: checkAllFiltered.length === 0 ? \"block\" : \"none\",\r\n              }}\r\n              onClick={handleCheckAll}\r\n              className={style[\"check-box\"]}\r\n            />\r\n          </div>\r\n          <div className={style[\"label-title\"]}>title</div>\r\n          <div className={style[\"label-album\"]}>album</div>\r\n          <div className={style[\"label-playlist\"]}>playlist</div>\r\n        </div>\r\n        <div className={style[\"item-wrapper\"]}>\r\n          {tracksMem.map((track, i) => {\r\n            if (track.track.name.length > 0) {\r\n              return (\r\n                <PlaylistTracks\r\n                  changed={tracksMem}\r\n                  key={track.track.uid}\r\n                  index={i}\r\n                  lastUpdated={lastUpdated}\r\n                  checkAll={props.selected.length > 0}\r\n                  isSelected={isSelected(track.uid)}\r\n                  getTracks={getTracksRef}\r\n                  deletedArr={props.deletedArr}\r\n                  selected={props.selected}\r\n                  handleCheckSelected={props.handleCheckSelected}\r\n                  track={{ track: track.track }}\r\n                  playlist={currentPlayList}\r\n                  imageSelection=\"album\"\r\n                />\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SinglePlaylist;\r\n","import quantize from \"quantize\";\r\nexport const getPixelArray = (data, pixelCount, qual) => {\r\n  const pixels = data;\r\n  const pixelArr = [];\r\n  for (let i = 0, offset, r, g, b, a; i < pixelCount; i = i + qual) {\r\n    offset = i * 4;\r\n    r = pixels[offset + 0];\r\n    g = pixels[offset + 1];\r\n    b = pixels[offset + 2];\r\n    a = pixels[offset + 3];\r\n    if (typeof a === \"undefined\" || a >= 125) {\r\n      if (!(r > 250 && g > 250 && b > 250)) {\r\n        pixelArr.push([r, g, b]);\r\n      }\r\n    }\r\n  }\r\n  return pixelArr;\r\n};\r\nexport const getColor = (myImage) => {\r\n  let canvas = document.createElement(\"canvas\");\r\n  let context = canvas.getContext(\"2d\");\r\n  let width = (canvas.width = myImage.naturalWidth);\r\n  let height = (canvas.height = myImage.naturalHeight);\r\n  let pixelCount = width * height;\r\n  context.drawImage(myImage, 0, 0, width, height);\r\n  const getImageData = context.getImageData(0, 0, width, height);\r\n  let data = getImageData.data;\r\n  const pixelArr = getPixelArray(data, pixelCount, 10);\r\n  const cmap = quantize(pixelArr, 4);\r\n  const palette = cmap ? cmap.palette() : null;\r\n  const paletteObj = {};\r\n  paletteObj[\r\n    \"formattedMain\"\r\n  ] = `rgba(${palette[0][0]},${palette[0][1]},${palette[0][2]})`;\r\n  paletteObj[\r\n    \"formattedSecondary\"\r\n  ] = `rgba(${palette[1][0]},${palette[1][1]},${palette[1][2]})`;\r\n  return paletteObj;\r\n};\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, Switch, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport { createSelector } from \"reselect\";\r\nimport { ReactComponent as AddIcon } from \"./images/add-icon.svg\";\r\nimport { ReactComponent as SearchIcon } from \"./images/search.svg\";\r\nimport { ReactComponent as TrashIcon } from \"./images/trash.svg\";\r\nimport Playlist from \"./Playlist\";\r\nimport PlaylistAddModal from \"./PlaylistAddModal\";\r\nimport PlaylistDeleteModal from \"./PlaylistDeleteModal\";\r\nimport SearchContainer from \"./SearchContainer\";\r\nimport SinglePlaylist from \"./SinglePlaylist\";\r\nimport {\r\n  addTracksToPlaylists,\r\n  deleteTrackFromPlaylists,\r\n  getMoreTracksPlaylist,\r\n  getTracksScroll,\r\n  recievePlaylists,\r\n  searchPlaylists,\r\n} from \"./spotify-redux/actions/playlistActions\";\r\nimport { CLEAR_SEARCH_RESULTS } from \"./spotify-redux/types/types\";\r\nimport style from \"./styles/playlistWrapper.module.scss\";\r\nconst searchResults = (state) => {\r\n  return state.search.results.length > 0;\r\n};\r\nconst hasNext = (state) => {\r\n  return state.search.prevResults && state.search.prevResults.length > 0;\r\n};\r\nconst searchResultsSelector = createSelector(\r\n  searchResults,\r\n  hasNext,\r\n  (searchResults, hasNext) => {\r\n    return { searchResults, hasNext };\r\n  }\r\n);\r\nexport const PlaylistWrapper = (props) => {\r\n  const scrollContainerRef = useRef();\r\n  const searchActive = useSelector(searchResultsSelector);\r\n  const location = useLocation();\r\n  const [selectedAllIds, setSelectedAllIds] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [currentPlaylist, setCurrentPlaylist] = useState();\r\n  const [searchArr, setSearchArr] = useState([]);\r\n  const [dropdown, setDropDown] = useState(false);\r\n  const [showDeletedModal, setShowDeletedModal] = useState(false);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [, setRefresh] = useState(false);\r\n  const [,] = useState([]);\r\n  const [deletedArr, setDeletedArr] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const closeDeletedModal = () => {\r\n    setShowDeletedModal(false);\r\n  };\r\n  let { path } = useRouteMatch();\r\n  let getPlaylists = useSelector((state) => {\r\n    return state.playlists.byIds;\r\n  });\r\n  let getAllTracks = useSelector((state) => {\r\n    return state.tracks.byIds;\r\n  });\r\n  const searchBarText = useSelector((state) => {\r\n    return state.navbar.searchBar;\r\n  });\r\n  let getPlaylistsArr = Object.keys(getPlaylists).map((playlist) => {\r\n    return getPlaylists[playlist];\r\n  });\r\n  const findCurrentPlaylist = (id) => {\r\n    setCurrentPlaylist(id);\r\n  };\r\n  const searchResults = useSelector((state) => {\r\n    return state.search.results;\r\n  });\r\n  const handleCheckSelected = (trackid, playlistid, uri, allTracks, index) => {\r\n    setSelected((prev) => {\r\n      let selectedArr = [...prev];\r\n      let selectedAllIdsCopy = [...selectedAllIds];\r\n      let obj = {};\r\n      obj[\"trackid\"] = trackid;\r\n      obj[\"playlistid\"] = playlistid;\r\n      obj[\"uri\"] = uri;\r\n      obj[\"index\"] = index;\r\n      const findId = selectedArr.find((obj) => {\r\n        return obj.trackid === trackid;\r\n      });\r\n      const prevCopy = [...prev];\r\n      if (!findId) {\r\n        prevCopy.push(obj);\r\n      } else {\r\n        let index = prevCopy.findIndex((obj) => {\r\n          return obj.trackid === trackid;\r\n        });\r\n        if (selectedAllIdsCopy.includes(playlistid)) {\r\n          let playlistIndex = selectedAllIdsCopy.indexOf(playlistid);\r\n          selectedAllIdsCopy.splice(playlistIndex, 1);\r\n        } else if (selectedAllIdsCopy.includes(\"search\")) {\r\n          let playlistIndex = selectedAllIdsCopy.indexOf(\"search\");\r\n          selectedAllIdsCopy.splice(playlistIndex, 1);\r\n        }\r\n        prevCopy.splice(index, 1);\r\n      }\r\n      let checkAllFiltered = searchResults.filter((track) => {\r\n        let findId = prevCopy.find((item) => {\r\n          return item.trackid === track._id;\r\n        });\r\n        if (!findId) {\r\n          return track;\r\n        }\r\n      });\r\n      if (checkAllFiltered.length === 0 && searchActive.searchResults) {\r\n        selectedAllIdsCopy.push(\"search\");\r\n      }\r\n      setSelectedAllIds(selectedAllIdsCopy);\r\n      return prevCopy;\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    setSearchText(\"\");\r\n  }, [props.recreate]);\r\n  useEffect(() => {\r\n    dispatch(recievePlaylists());\r\n    setRefresh();\r\n  }, []);\r\n  useEffect(() => {\r\n    setSearchText(\"\");\r\n  }, [searchBarText]);\r\n  const clearDropDown = () => {\r\n    setDropDown(false);\r\n    setSelectedAllIds([]);\r\n    setSelected([]);\r\n  };\r\n  const openDeletedModal = () => {\r\n    setShowDeletedModal(!showDeletedModal);\r\n  };\r\n  const openAddModal = () => {\r\n    setShowAddModal(true);\r\n  };\r\n  useEffect(() => {\r\n    if (selected.length > 0) {\r\n      setDropDown(true);\r\n    } else {\r\n      setDropDown(false);\r\n    }\r\n  }, []);\r\n  const lastPosition = useRef(true);\r\n  const handleChange = (e) => {\r\n    setSearchText(\"\");\r\n    setSelected([]);\r\n    let text = e.target.value.trim();\r\n    const whitespace = /\\s/g;\r\n    text = text.replace(whitespace, \"\");\r\n    setSearchText(text);\r\n    if (text.length > 0) {\r\n      dispatch(\r\n        searchPlaylists(\r\n          text,\r\n          location.pathname === \"/playlists\",\r\n          currentPlaylist\r\n        )\r\n      )\r\n        .then((status) => {\r\n          if (status === 200) {\r\n            scrollContainerRef.current.scrollTo(0, 0);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n    dispatch({ type: CLEAR_SEARCH_RESULTS, results: [] });\r\n  };\r\n  const handleDelete = () => {\r\n    const copy = [...deletedArr];\r\n    let filteredselected = selected.filter((set) => {\r\n      let playlistToCheck = getPlaylists[set.playlistid];\r\n      if (playlistToCheck.owner.display_name !== \"Spotify\") {\r\n        return set;\r\n      }\r\n    });\r\n    let deleted = copy.concat(filteredselected);\r\n    dispatch(\r\n      deleteTrackFromPlaylists(filteredselected, searchActive.searchResults)\r\n    )\r\n      .then((status) => {\r\n        if ((status && status.status === 200) || typeof status === \"string\") {\r\n          setDeletedArr(deleted);\r\n          setShowDeletedModal(false);\r\n          setDropDown(false);\r\n          setSelected([]);\r\n          setSearchText(\"\");\r\n          dispatch({ type: CLEAR_SEARCH_RESULTS });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        alert(\"Data out of sync, click update to sync data with Spotify\");\r\n      });\r\n  };\r\n  const handleAdd = useCallback(\r\n    (playlists) => {\r\n      dispatch(addTracksToPlaylists(playlists, selected))\r\n        .then((status) => {\r\n          if (status === 200) {\r\n            setShowAddModal(false);\r\n            setDropDown(false);\r\n            setSelected([]);\r\n            setSelectedAllIds([]);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          alert(\"Data out of sync, click update to sync data with Spotify\");\r\n        });\r\n    },\r\n    [selected]\r\n  );\r\n  const closeAddModal = useCallback(() => {\r\n    setShowAddModal(false);\r\n  }, [selected]);\r\n  const handleCheckAll = (tracks, playlistId, scroll) => {\r\n    tracks =\r\n      playlistId === \"search\"\r\n        ? (tracks = tracks.map((track) => {\r\n            return {\r\n              trackid: track._id,\r\n              playlistid: track.playlistid,\r\n              uri: track.track.uri,\r\n            };\r\n          }))\r\n        : tracks;\r\n    setSelectedAllIds((prev) => {\r\n      let copyAll = [...prev];\r\n      let copySelected = [...selected];\r\n      let index = copyAll.indexOf(playlistId);\r\n      let filteredArr = [];\r\n      if (!copyAll.includes(playlistId) && !scroll) {\r\n        filteredArr.push(...tracks);\r\n        copyAll.push(playlistId);\r\n        setSelected(() => {\r\n          return filteredArr;\r\n        });\r\n      } else if (copyAll.includes(playlistId) && !scroll) {\r\n        filteredArr = copySelected.filter((item) => {\r\n          return item.playlistid !== playlistId;\r\n        });\r\n        copyAll.splice(index, 1);\r\n        setSelected(() => {\r\n          return [];\r\n        });\r\n      } else if (copyAll.includes(playlistId) && scroll) {\r\n        copyAll.splice(index, 1);\r\n        setSelected((prev) => {\r\n          return prev;\r\n        });\r\n      }\r\n      return copyAll;\r\n    });\r\n  };\r\n  const checkScroll = useRef(true);\r\n  if (!getPlaylistsArr) {\r\n    return null;\r\n  }\r\n  const isSelected = (trackId) => {\r\n    const findId = selected.some((set) => {\r\n      return set.trackid === trackId;\r\n    });\r\n    return findId;\r\n  };\r\n  const handleFetchScroll = (e) => {\r\n    let scrollPos = Math.round(e.target.scrollHeight - e.target.scrollTop);\r\n    let clientHeight = e.target.clientHeight;\r\n    if (\r\n      scrollPos - 100 <= clientHeight &&\r\n      scrollPos + 20 >= clientHeight &&\r\n      lastPosition.current < e.target.scrollTop &&\r\n      checkScroll.current &&\r\n      searchActive.searchResults &&\r\n      searchActive.hasNext === true\r\n    ) {\r\n      checkScroll.current = false;\r\n      dispatch(\r\n        searchPlaylists(\r\n          searchText,\r\n          location.pathname === \"/playlists\",\r\n          currentPlaylist,\r\n          true\r\n        )\r\n      )\r\n        .then(() => {\r\n          checkScroll.current = true;\r\n        })\r\n        .catch(() => {});\r\n    }\r\n    lastPosition.current = e.target.scrollTop;\r\n  };\r\n  return (\r\n    <div\r\n      ref={scrollContainerRef}\r\n      onScroll={handleFetchScroll}\r\n      id=\"scroll-container\"\r\n      data-testid=\"scroll-container\"\r\n      className={style[\"container-container\"]}\r\n    >\r\n      <div className={style[\"header-container\"]}>\r\n        <div\r\n          className={\r\n            style[selected.length > 0 ? \"options-container\" : \"inactive\"]\r\n          }\r\n        >\r\n          <div\r\n            className={\r\n              style[\r\n                dropdown || selected.length > 0\r\n                  ? \"drop-down-container\"\r\n                  : \"inactive\"\r\n              ]\r\n            }\r\n          >\r\n            <div className={style[\"drop-down-content\"]}>\r\n              <div className={style[\"drop-down-left-container\"]}>\r\n                <div\r\n                  onClick={clearDropDown}\r\n                  className={style[\"cancel-icon-container\"]}\r\n                >\r\n                  <span className={style[\"main-trigger-icon-container\"]}>\r\n                    <i className={style[\"main-trigger-icon\"]}></i>\r\n                  </span>\r\n                </div>\r\n                <p className={style[\"selected-count\"]}>\r\n                  Selected {selected.length}\r\n                </p>\r\n              </div>\r\n              <div className={style[\"main-options-icons\"]}>\r\n                <TrashIcon\r\n                  data-testid=\"delete icon\"\r\n                  onClick={openDeletedModal}\r\n                  className={style[\"trash-icon\"]}\r\n                />\r\n                <AddIcon\r\n                  onClick={openAddModal}\r\n                  className={style[\"add-icon-container\"]}\r\n                ></AddIcon>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={\r\n            style[selected.length > 0 ? \"inactive\" : \"title-options-container\"]\r\n          }\r\n        >\r\n          <div\r\n            className={\r\n              style[selected.length > 0 ? \"inactive\" : \"title-container\"]\r\n            }\r\n          >\r\n            <p className={style[\"title-text\"]}>Playlists</p>\r\n            <div className={style[\"input-container\"]}>\r\n              <input\r\n                aria-label=\"search-bar\"\r\n                onChange={handleChange}\r\n                value={searchText}\r\n                className={style[\"input-searchbar\"]}\r\n                type=\"text\"\r\n                name=\"\"\r\n                id=\"\"\r\n              />\r\n              <div className={style[\"input-content-container\"]}>\r\n                <SearchIcon className={style[\"search-icon\"]} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"wrapper\"]}>\r\n        <div>\r\n          <PlaylistDeleteModal\r\n            showModal={showDeletedModal}\r\n            handleDelete={handleDelete}\r\n            closeModal={closeDeletedModal}\r\n          />\r\n          <PlaylistAddModal\r\n            current_user={props.current_user}\r\n            playlist={getPlaylistsArr}\r\n            showModal={showAddModal}\r\n            selected={selected}\r\n            handleAdd={handleAdd}\r\n            closeModal={closeAddModal}\r\n          />\r\n          <div className={style[\"container\"]}>\r\n            <div\r\n              className={\r\n                style[\r\n                  location.pathname === \"/playlists\"\r\n                    ? \"search-results-container\"\r\n                    : \"inactive\"\r\n                ]\r\n              }\r\n            >\r\n              <div\r\n                className={\r\n                  style[\r\n                    searchActive.searchResults && searchText.length > 0\r\n                      ? \"inactive\"\r\n                      : \"item-container\"\r\n                  ]\r\n                }\r\n              >\r\n                {getPlaylistsArr.map((item) => {\r\n                  return <Playlist key={item.id} playlist={item} />;\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {searchActive.searchResults ? (\r\n            <SearchContainer\r\n              handleCheckAll={handleCheckAll}\r\n              location={location}\r\n              selectedAllIds={selectedAllIds}\r\n              searchArr={searchArr}\r\n              selected={selected}\r\n              isSelected={isSelected}\r\n              handleCheckSelected={handleCheckSelected}\r\n              currentPlaylist={currentPlaylist}\r\n              deletedArr={deletedArr}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        <Switch>\r\n          <Route path={`${path}/:id`}>\r\n            {searchActive.searchResults ? null : (\r\n              <SinglePlaylist\r\n                handleFetchScroll={handleFetchScroll}\r\n                selectedAllIds={selectedAllIds}\r\n                handleCheckAll={handleCheckAll}\r\n                deletedArr={deletedArr}\r\n                searchText={searchText.length}\r\n                searchArr={searchArr.length}\r\n                findCurrentPlaylist={findCurrentPlaylist}\r\n                handleCheckSelected={handleCheckSelected}\r\n                selected={selected}\r\n                searchActive={searchActive.searchResults}\r\n                allTracks={getAllTracks}\r\n                scrollContainer={scrollContainerRef}\r\n              />\r\n            )}\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PlaylistWrapper;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport Navbar from \"./Navbar\";\r\nimport PlaylistWrapper from \"./PlaylistWrapper\";\r\nimport {\r\n  getAccessToken,\r\n  getUserInfoAction,\r\n  loginCheck,\r\n} from \"./spotify-redux/actions/userActions\";\r\nimport style from \"./styles/wrapper.module.scss\";\r\nexport const generateUUID = () => {};\r\ngenerateUUID();\r\nfunction App() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector((state) => {\r\n    return state.current_user;\r\n  });\r\n  const [recreate, setRecreate] = useState(false);\r\n  const reRecreateComp = () => {\r\n    setRecreate(!recreate);\r\n  };\r\n  useEffect(() => {\r\n    const scopes = `user-read-private user-read-email playlist-read-private playlist-modify-private user-top-read user-read-recently-played playlist-modify-public`;\r\n    const url_object = new URL(window.location);\r\n    const token = url_object.search;\r\n    let tokenSplit = token.split(\"=\");\r\n    let decodedToken = tokenSplit[1];\r\n    loginCheck()\r\n      .then(() => {\r\n        dispatch(getUserInfoAction());\r\n      })\r\n      .catch(() => {\r\n        if (decodedToken && decodedToken !== \"access_denied\") {\r\n          dispatch(getAccessToken(decodedToken))\r\n            .then((access_token) => {\r\n              if (access_token) {\r\n                history.push(\"/\");\r\n                dispatch(getUserInfoAction(access_token));\r\n              }\r\n            })\r\n            .catch(() => {});\r\n        } else {\r\n          window.location.href = `https://accounts.spotify.com/authorize?client_id=da42a01c50ef409f802caf63a98de4d4&response_type=code&redirect_uri=${\r\n            window.location.origin === \"http://localhost:3000\"\r\n              ? \"http://localhost:3000\"\r\n              : \"https://spotify-playlists-lake.vercel.app/\"\r\n          }&scope=${encodeURIComponent(scopes)}&show_dialog=true`;\r\n        }\r\n      });\r\n  }, []);\r\n  if (!currentUser.userInfo) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <Navbar reRecreateComp={reRecreateComp} />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Home></Home>\r\n        </Route>\r\n        <Route\r\n          path=\"/playlists\"\r\n          render={(props) => {\r\n            return (\r\n              <PlaylistWrapper\r\n                {...props}\r\n                recreate={recreate}\r\n                current_user={currentUser}\r\n              ></PlaylistWrapper>\r\n            );\r\n          }}\r\n        ></Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { Map } from \"immutable\";\r\nimport ObjectId from \"bson-objectid\";\r\nimport {\r\n  REQUEST_TOP_TRACKS,\r\n  RECIEVE_TOP_TRACKS,\r\n  REQUEST_PLAYLISTS,\r\n  RECIEVE_PLAYLISTS,\r\n  RECIEVE_RECENT_TRACKS,\r\n  REQUEST_RECENT_TRACKS,\r\n  NAVBAR_LINK_CLICKED,\r\n  LOGIN_REQUEST,\r\n  ACCESS_TOKEN_RECIEVED,\r\n  USER_INFO_SUCCESS,\r\n  LOG_OUT,\r\n  ADD_TRACK_REQUEST,\r\n  ADD_TRACK_SUCCESS,\r\n  RECIEVE_TRACKS,\r\n  RECIEVE_PLAYLIST_TRACKS,\r\n  REQUEST_TRACKS,\r\n  DELETE_TRACK_SUCCESS,\r\n  GET_SINGLE_PLAYLIST,\r\n  RECIEVE_SEARCH_RESULTS,\r\n  REQUEST_SEARCH_RESULTS,\r\n  CLEAR_SEARCH_RESULTS,\r\n  SCROLL_SEARCH_RESULTS,\r\n  RECIEVE_ADDITIONAL_TRACKS,\r\n  DATABASE_SYNC_ERROR,\r\n  UPDATE_PLAYLIST_SUCCESS,\r\n  UPDATE_PLAYLIST_REQUEST,\r\n} from \"../types/types\";\r\nimport {} from \"../actions/trackActions\";\r\nfunction addTracksTrack(state, action) {\r\n  const tracks = {};\r\n  for (let id in action.tracksToAdd) {\r\n    for (let track of action.tracksToAdd[id]) {\r\n      const copy = { ...track };\r\n      copy[\"playlistid\"] = id;\r\n      tracks[track.uid] = copy;\r\n    }\r\n  }\r\n  const stateCopy = { ...state };\r\n  stateCopy.byIds = {\r\n    ...stateCopy.byIds,\r\n    ...tracks,\r\n  };\r\n  return stateCopy;\r\n}\r\nfunction deleteTrackFunc(state, action) {\r\n  const newState = { ...state };\r\n  for (let id of action.trackids) {\r\n    delete state.byIds[id];\r\n  }\r\n  return newState;\r\n}\r\nexport function tracks(\r\n  state = {\r\n    isFetching: false,\r\n    err: null,\r\n    status: \"idle\",\r\n    top_tracks: {},\r\n    recent_tracks: {},\r\n    allIds: [],\r\n    cursor: null,\r\n    byIds: {},\r\n    tracks: {},\r\n    offset: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DELETE_TRACK_SUCCESS:\r\n      return deleteTrackFunc(state, action);\r\n    case UPDATE_PLAYLIST_SUCCESS:\r\n      const { tracks, idsToRemove } = action;\r\n      const copy = { ...state };\r\n      for (let track in copy.byIds) {\r\n        if (idsToRemove.includes(track)) {\r\n          delete copy.byIds[track];\r\n        }\r\n      }\r\n      copy.byIds = {\r\n        ...copy.byIds,\r\n        ...tracks,\r\n      };\r\n      return copy;\r\n    case GET_SINGLE_PLAYLIST:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.tracks,\r\n        },\r\n        allIds: [...state.allIds, ...action.trackIds],\r\n      });\r\n    case RECIEVE_ADDITIONAL_TRACKS:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.tracks,\r\n        },\r\n        allIds: [...state.allIds, ...action.trackids],\r\n      });\r\n    case RECIEVE_TRACKS:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.tracks,\r\n        },\r\n      });\r\n    case ADD_TRACK_SUCCESS:\r\n      return addTracksTrack(state, action);\r\n    case RECIEVE_PLAYLIST_TRACKS:\r\n      return Object.assign({}, state, {\r\n        allIds: [...action.trackIds],\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.tracks,\r\n        },\r\n      });\r\n    case REQUEST_TOP_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case REQUEST_RECENT_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case RECIEVE_TOP_TRACKS:\r\n      return Object.assign({}, state, {\r\n        top_tracks: action.top_tracks,\r\n        isFetching: false,\r\n        byIds: { ...state.byIds, ...action.byIds },\r\n      });\r\n    case RECIEVE_RECENT_TRACKS:\r\n      return Object.assign({}, state, {\r\n        recent_tracks: { ...state.recent_tracks, ...action.recent_tracks },\r\n        cursor: action.cursors,\r\n        isFetching: false,\r\n        byIds: { ...state.byIds, ...action.byIds },\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction addTracks(state, action) {\r\n  const { playlists, trackids, tracksToAdd } = action;\r\n  let obj = { ...state };\r\n  for (let i of playlists) {\r\n    const ids = tracksToAdd[i].map((track) => {\r\n      return track.uid;\r\n    });\r\n    obj.byIds[i].tracks = [...obj.byIds[i].tracks, ...ids];\r\n  }\r\n  return obj;\r\n}\r\nfunction deleteTrackPlaylist(state, action) {\r\n  let obj = { ...state };\r\n  for (let item in action.apiData) {\r\n    obj.byIds[item].tracks = obj.byIds[item].tracks.filter((id) => {\r\n      const find = action.apiData[item].tracks.some((track) => {\r\n        return track.trackid.toString() === id.toString();\r\n      });\r\n      if (!find) {\r\n        return id;\r\n      }\r\n    });\r\n  }\r\n  return obj;\r\n}\r\nfunction recievePlaylistTracks(state, action) {\r\n  const tracks = action.tracks;\r\n  const pageInfo = action.pageInfo;\r\n  state = {\r\n    ...state,\r\n    byIds: {\r\n      ...state.byIds,\r\n      [action.playlistid]: {\r\n        ...state.byIds[action.playlistid],\r\n        tracks: [...action.trackIds],\r\n        page: {\r\n          ...state.byIds[action.playlistid].page,\r\n          ...pageInfo,\r\n        },\r\n      },\r\n    },\r\n  };\r\n  return state;\r\n}\r\nexport function playlists(\r\n  state = {\r\n    byIds: {},\r\n    allIds: [],\r\n    isFetching: false,\r\n    isUpdating: false,\r\n    err: null,\r\n    status: \"idle\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DATABASE_SYNC_ERROR:\r\n      return Object.assign({}, state, {\r\n        err: \"Click update to sync data from Spotify\",\r\n      });\r\n    case UPDATE_PLAYLIST_REQUEST:\r\n      return Object.assign({}, state, {\r\n        isUpdating: true,\r\n      });\r\n    case UPDATE_PLAYLIST_SUCCESS:\r\n      function update() {\r\n        const playlists = action.playlists;\r\n        const copy = { ...state };\r\n        for (let playlist in playlists) {\r\n          copy.byIds[playlist] = playlists[playlist];\r\n        }\r\n        copy.isUpdating = false;\r\n        return copy;\r\n      }\r\n      return update();\r\n    case DELETE_TRACK_SUCCESS:\r\n      return deleteTrackPlaylist(state, action);\r\n    case REQUEST_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n        status: \"fetching\",\r\n      });\r\n    case GET_SINGLE_PLAYLIST:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          [action.data.id]: { ...action.data, offset: action.offset },\r\n        },\r\n        allIds: [...state.allIds, action.data.id],\r\n      });\r\n    case RECIEVE_ADDITIONAL_TRACKS:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          [action.playlistid]: {\r\n            ...state.byIds[action.playlistid],\r\n            offset: action.offset,\r\n            tracks: [\r\n              ...state.byIds[action.playlistid].tracks,\r\n              ...action.trackids,\r\n            ],\r\n          },\r\n        },\r\n      });\r\n    case RECIEVE_TRACKS:\r\n      return Object.assign({}, state, {\r\n        status: \"idle\",\r\n        byIds: {\r\n          ...state.byIds,\r\n          [action.playlist.id]: {\r\n            ...state.byIds[action.playlist.id],\r\n            offset:\r\n              state.byIds[action.playlist.id].tracks.length +\r\n              action.trackIds.length,\r\n            page: {\r\n              ...action.page,\r\n            },\r\n            tracks: [\r\n              ...state.byIds[action.playlist.id].tracks,\r\n              ...action.trackIds,\r\n            ],\r\n          },\r\n        },\r\n      });\r\n    case ADD_TRACK_REQUEST:\r\n      return {\r\n        ...state,\r\n      };\r\n    case RECIEVE_PLAYLIST_TRACKS:\r\n      return recievePlaylistTracks(state, action);\r\n    case ADD_TRACK_SUCCESS:\r\n      return addTracks(state, action);\r\n    case REQUEST_PLAYLISTS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case RECIEVE_PLAYLISTS:\r\n      const copy = { ...state };\r\n      for (let playlist in action.byIds) {\r\n        copy.byIds = {\r\n          ...copy.byIds,\r\n          [playlist]: { ...action.byIds[playlist], ...state.byIds[playlist] },\r\n        };\r\n      }\r\n      return copy;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction navbar(\r\n  state = {\r\n    searchBar: false,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case NAVBAR_LINK_CLICKED:\r\n      return Object.assign({}, state, {\r\n        searchBar: action.clearSearch,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport function current_user(\r\n  state = {\r\n    access_token: localStorage.getItem(\"access_token\"),\r\n    loggedIn: false,\r\n    isLoggingIn: false,\r\n    userInfo: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: true,\r\n        access_token: action.access_token,\r\n      });\r\n    case ACCESS_TOKEN_RECIEVED:\r\n      return Object.assign({}, state, {\r\n        access_token: action.access_token,\r\n      });\r\n    case LOG_OUT:\r\n      return Object.assign({}, state, {\r\n        access_token: null,\r\n        loggedIn: false,\r\n        isLoggingIn: false,\r\n        userInfo: null,\r\n      });\r\n    case USER_INFO_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        userInfo: action.user,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction search(\r\n  state = {\r\n    fetching: false,\r\n    category: \"all\",\r\n    results: [],\r\n    prevResults: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DELETE_TRACK_SUCCESS:\r\n      const filtered = state.results.filter((track) => {\r\n        return !action.trackids.includes(track);\r\n      });\r\n      return Object.assign({}, state, {\r\n        results: filtered,\r\n      });\r\n    case REQUEST_SEARCH_RESULTS:\r\n      return Object.assign({}, state, {\r\n        fetching: true,\r\n      });\r\n    case RECIEVE_SEARCH_RESULTS:\r\n      return Object.assign({}, state, {\r\n        fetching: false,\r\n        results: [...action.results],\r\n        prevResults: action.results,\r\n      });\r\n    case SCROLL_SEARCH_RESULTS:\r\n      return Object.assign({}, state, {\r\n        results: [...state.results, ...action.results],\r\n        prevResults: action.results,\r\n      });\r\n    case CLEAR_SEARCH_RESULTS:\r\n      return Object.assign({}, state, {\r\n        results: [],\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst rootReducer = combineReducers({\r\n  current_user,\r\n  tracks,\r\n  playlists,\r\n  navbar,\r\n  search,\r\n});\r\nexport default rootReducer;\r\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport configureStore from \"./spotify-redux/store\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from \"react-router-dom\";\nconst store = configureStore();\nReactDOM.hydrate(\n  <Router>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./reducers/reducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nexport default function configureStore() {\r\n  const composeEnhancers = composeWithDevTools({ trace: true });\r\n  return createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunkMiddleware))\r\n  );\r\n}\r\n"],"sourceRoot":""}