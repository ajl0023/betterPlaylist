{"version":3,"sources":["styles/playlisttracks.module.scss","styles/singlePlaylist.module.scss","styles/Navbar.module.scss","styles/playlistOptionsModal.module.scss","styles/playlist.module.scss","styles/track.module.scss","styles/playlistWrapper.module.scss","styles/home.module.scss","styles/wrapper.module.scss","spotify-redux/types/types.js","spotify-redux/actions/calls.js","spotify-redux/actions/trackActions.js","spotify-redux/actions/userActions.js","images/home-icon.svg","Track.js","Home.js","images/logo.svg","images/playlist-icon.svg","images/add-icon.svg","Navbar.js","images/check.svg","images/search.svg","images/trash.svg","images/music-note.svg","images/checkIconPlaceH.svg","Playlist.js","PlaylistAddModal.js","PlaylistDeleteModal.js","PlaylistTracks.js","spotify-redux/actions/playlistActions.js","SinglePlaylist.js","colorMatch.js","PlaylistWrapper.js","App.js","spotify-redux/reducers/reducer.js","index.js","spotify-redux/store.js","styles/playlistAddModal.module.scss"],"names":["module","exports","REQUEST_TOP_TRACKS","RECIEVE_TOP_TRACKS","REQUEST_PLAYLISTS","RECIEVE_PLAYLISTS","RECIEVE_RECENT_TRACKS","REQUEST_RECENT_TRACKS","NAVBAR_LINK_CLICKED","DELETE_TRACK_SUCCESS","LOGIN_REQUEST","USER_INFO_SUCCESS","ACCESS_TOKEN_RECIEVED","LOG_OUT","ADD_TRACK_REQUEST","ADD_TRACK_SUCCESS","REQUEST_TRACKS","RECIEVE_TRACKS","RECIEVE_PLAYLIST_TRACKS","GET_SINGLE_PLAYLIST","axios","interceptors","response","use","request","err","originalRequest","config","status","_retry","url","method","withCredentials","then","data","localStorage","setItem","access_token","defaults","headers","common","getItem","getPlayListTracks","id","offset","recieveTopTracks","dispatch","getState","getAllTracks","Object","keys","tracks","byIds","filtered","type","toptracks","items","obj","forEach","track","uid","includes","top_tracks","allIds","recieveRecentTracks","cursors","cursor","before","recentTracks","recent_tracks","logout","removeItem","Promise","resolve","reject","getAccessToken","code","decodedToken","catch","getUserInfoAction","user","_path","_path2","Track","props","image","onClick","window","open","external_urls","spotify","className","style","src","alt","name","album","topTracksSelector","createSelector","state","recentTracksSelector","userSelectorMem","current_user","Home","topTracksArr","recentTracksArr","userSelector","useSelector","topTrackSel","recentTracksSel","currentUser","currentUserInfo","userInfo","useDispatch","getTopTracks","getRecentTracks","map","useEffect","htmlFor","images","display_name","location","reload","length","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgHomeIcon","_ref","svgRef","title","titleId","xmlns","height","viewBox","width","ref","d","fill","_g","ForwardRef","SvgLogo","preserveAspectRatio","SvgPlaylistIcon","Navbar","useState","checkedState","setChecked","handleClose","document","getElementById","checked","addEventListener","removeEventListener","readOnly","container","content","to","pathname","SvgAddIcon","enableBackground","SvgCheck","SvgSearch","role","SvgTrash","SvgMusicNote","fillRule","Playlist","item","playlist","useRouteMatch","imageUrl","description","owner","React","memo","SvgCheckIconPlaceH","PlaylistAddModal","selectedPlaylists","setSelectedPlaylists","filteredPlaylists","showModal","closeModal","display","find","playlistid","selected","index","findIndex","splice","push","handlePlaylistSelect","handleAdd","prev","next","PlaylistOptionsModal","handleDelete","checkAll","PlaylistTrack","playlistSet","deletedArr","trackid","e","uri","getTracks","handleCheckSelected","changed","isSelected","imageSelection","artists","artist","addTracksToPlaylists","allTracks","tracksToAdd","foundTracks","uuidv4","playlists","trackIds","playlistsToChange","arr","trackUris","promiseArr","addTracksToPlaylistsCall","trackObjs","deleteTrackFromPlaylists","playlistTracks","tracksArr","playlistTracksCopy","idCheck","filteredTracks","filter","set","filteredObj","playlist_id","tracksToDelete","deleteFromPlaylist","recievePlaylists","tracksObj","allTracksObj","playlistObj","all","trackData","playlistIds","toArr","pageInfo","itemLength","playlistId","page","j","SinglePlaylist","mainColor","setMainColor","setPlaylist","params","useParams","getTracksRef","useRef","testRef","current","currentPlayList","myImage","Image","crossOrigin","onload","rgb","canvas","createElement","context","getContext","naturalWidth","naturalHeight","pixelCount","drawImage","pixelArr","qual","r","g","b","a","pixels","getPixelArray","getImageData","cmap","quantize","palette","paletteObj","getColor","findCurrentPlaylist","handleFetchScroll","URL","mainOffSet","URLSearchParams","search","get","Math","round","scrollHeight","scrollTop","clientHeight","total","handleCheckAll","getTracksScroll","useCallback","scrollContainer","reduce","tracksMem","useMemo","checkAllFiltered","searchArr","searchText","background","formattedMain","PlaylistTracks","testArr","trackId","some","PlaylistWrapper","useLocation","selectedAllIds","setSelectedAllIds","setSearchText","currentPlaylist","setCurrentPlaylist","setSearchArr","dropdown","setDropDown","showDeletedModal","setShowDeletedModal","showAddModal","setShowAddModal","setSelected","setRefresh","setFilteredSearch","setDeletedArr","path","getPlaylists","searchBarText","navbar","searchBar","getPlaylistsArr","searchArrCopy","selectedArr","selectedAllIdsCopy","findId","prevCopy","playlistIndex","closeAddModal","scroll","copyAll","copySelected","filteredArr","filteredSearchArr","onChange","arrToSearch","tempArr","searchComp","text","value","trim","replace","regex","RegExp","test","arrNest","trackNest","PlaylistDeleteModal","copy","filteredselected","deleted","concat","App","history","useHistory","split","href","encodeURIComponent","exact","addTracksTrack","action","stateCopy","deleteTrackFunc","addTracks","deleteTrackPlaylist","recievePlaylistTracks","rootReducer","combineReducers","loggedIn","isLoggingIn","isFetching","clearSearch","store","composeEnhancers","composeWithDevTools","trace","createStore","applyMiddleware","thunkMiddleware","configureStore","ReactDOM","hydrate"],"mappings":"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","file":"static/js/main.4f41274c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlisttracks_inactive__38Zbe\",\"item-container\":\"playlisttracks_item-container__2A1L3\",\"check-container\":\"playlisttracks_check-container__1CU1_\",\"check-icon\":\"playlisttracks_check-icon__Fjull\",\"track-count\":\"playlisttracks_track-count__OwUYF\",\"check-count-container\":\"playlisttracks_check-count-container__13HqH\",\"check-icon-place\":\"playlisttracks_check-icon-place__3meMX\",\"track-count-container\":\"playlisttracks_track-count-container__3jS-d\",\"item-title-container\":\"playlisttracks_item-title-container__SlBt_\",\"album-image-container\":\"playlisttracks_album-image-container__2Zpwl\",\"album-image\":\"playlisttracks_album-image__14t_Z\",\"title-container\":\"playlisttracks_title-container__DKiHx\",\"track-title-container\":\"playlisttracks_track-title-container__ehpzA\",\"track-title\":\"playlisttracks_track-title__252a6\",\"track-artist\":\"playlisttracks_track-artist__3-SXk\",\"artist-name\":\"playlisttracks_artist-name__2wfvz\",\"track-album-container\":\"playlisttracks_track-album-container__26h3K\",\"track-album\":\"playlisttracks_track-album__abvD6\",\"track-playlist-container\":\"playlisttracks_track-playlist-container__JLlQn\",\"track-playlist\":\"playlisttracks_track-playlist__3UCMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item-wrapper\":\"singlePlaylist_item-wrapper__1Ndsp\",\"wrapper\":\"singlePlaylist_wrapper__3smAq\",\"header-container\":\"singlePlaylist_header-container__3kRNj\",\"album-cover-container\":\"singlePlaylist_album-cover-container__39iEV\",\"album-cover\":\"singlePlaylist_album-cover__oYNWZ\",\"album-mask\":\"singlePlaylist_album-mask__13o5R\",\"playlist-info-container\":\"singlePlaylist_playlist-info-container__1aKG1\",\"playlist-title\":\"singlePlaylist_playlist-title__1Wx71\",\"playlist-creator\":\"singlePlaylist_playlist-creator__2GiqR\",\"inactive\":\"singlePlaylist_inactive__1mmTD\",\"tracks-container\":\"singlePlaylist_tracks-container__CNdsy\",\"label-container\":\"singlePlaylist_label-container__3tBJj\",\"label-check-container\":\"singlePlaylist_label-check-container__26SRK\",\"label-count\":\"singlePlaylist_label-count__1fnoS\",\"check-box\":\"singlePlaylist_check-box__3mZGW\",\"track-count\":\"singlePlaylist_track-count__5OyIw\",\"label-item\":\"singlePlaylist_label-item__2jap0\",\"label-title\":\"singlePlaylist_label-title__2b3F4\",\"label-album\":\"singlePlaylist_label-album__XkA98\",\"label-playlist\":\"singlePlaylist_label-playlist__9NOB5\",\"label-artist\":\"singlePlaylist_label-artist__38exh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__3wJQ9\",\"content\":\"Navbar_content__2Db6D\",\"logo\":\"Navbar_logo__jk-dN\",\"menu-container\":\"Navbar_menu-container__2D5CH\",\"menu-item\":\"Navbar_menu-item__3ndlx\",\"playlist-icon\":\"Navbar_playlist-icon__31Niq\",\"burger-input\":\"Navbar_burger-input__24utA\",\"burger-label\":\"Navbar_burger-label__3KbcG\",\"main-trigger-icon-container\":\"Navbar_main-trigger-icon-container__2JyYy\",\"main-trigger-icon\":\"Navbar_main-trigger-icon__32rIc\",\"navbar-mask\":\"Navbar_navbar-mask__30cer\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistOptionsModal_inactive__3HWX9\",\"container-mask\":\"playlistOptionsModal_container-mask__PYwTR\",\"container\":\"playlistOptionsModal_container__1i1bA\",\"modal-container\":\"playlistOptionsModal_modal-container__L3T2G\",\"header-container\":\"playlistOptionsModal_header-container__2WjGd\",\"cancel-icon-container\":\"playlistOptionsModal_cancel-icon-container__1cRDj\",\"main-trigger-icon-container\":\"playlistOptionsModal_main-trigger-icon-container__ZjI0K\",\"button-container\":\"playlistOptionsModal_button-container__3dpZK\",\"cancel-button\":\"playlistOptionsModal_cancel-button__27tjm\",\"delete-button\":\"playlistOptionsModal_delete-button__1l_4T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlist_inactive__zNP4O\",\"playlist-container\":\"playlist_playlist-container__3hMve\",\"playlist-content\":\"playlist_playlist-content__1-WlW\",\"fallback-image-container\":\"playlist_fallback-image-container__1dG9F\",\"playlist-image-container\":\"playlist_playlist-image-container__3l9F7\",\"playlist-image\":\"playlist_playlist-image__2y3tW\",\"description-container\":\"playlist_description-container__3dYli\",\"playlist-title\":\"playlist_playlist-title__2LCMJ\",\"playlist-description\":\"playlist_playlist-description__N-adY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track-container\":\"track_track-container__19w3l\",\"album-cover-container\":\"track_album-cover-container__Y7P2L\",\"album-cover\":\"track_album-cover__816PU\",\"info-container\":\"track_info-container__nZlmV\",\"album-title\":\"track_album-title__38wDc\",\"track-title\":\"track_track-title__15gdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistWrapper_inactive__S6c6O\",\"label-container\":\"playlistWrapper_label-container__3d7s7\",\"label-item\":\"playlistWrapper_label-item__1WvPI\",\"label-title\":\"playlistWrapper_label-title__f8RMt\",\"label-album\":\"playlistWrapper_label-album__1i2_W\",\"label-playlist\":\"playlistWrapper_label-playlist__1NS48\",\"label-check-container\":\"playlistWrapper_label-check-container__2xl-X\",\"item-wrapper\":\"playlistWrapper_item-wrapper__J_aFI\",\"options-container\":\"playlistWrapper_options-container__2O909\",\"hide-drop-down\":\"playlistWrapper_hide-drop-down__3UsxC\",\"drop-down-container\":\"playlistWrapper_drop-down-container__2jxgJ\",\"drop-down-left-container\":\"playlistWrapper_drop-down-left-container__-9L4f\",\"drop-down-content\":\"playlistWrapper_drop-down-content__1BHMZ\",\"selected-count\":\"playlistWrapper_selected-count__2C-yL\",\"cancel-icon-container\":\"playlistWrapper_cancel-icon-container__2zV8Q\",\"main-trigger-icon-container\":\"playlistWrapper_main-trigger-icon-container__AdE4w\",\"main-options-icons\":\"playlistWrapper_main-options-icons__2CIdG\",\"add-icon-container\":\"playlistWrapper_add-icon-container__39hUK\",\"container-container\":\"playlistWrapper_container-container__3v2ZE\",\"wrapper\":\"playlistWrapper_wrapper__TS0Ka\",\"container\":\"playlistWrapper_container__3RoNr\",\"item-container\":\"playlistWrapper_item-container__2F-o-\",\"title-text\":\"playlistWrapper_title-text__2_HIZ\",\"playlist-content\":\"playlistWrapper_playlist-content__1GlNm\",\"playlist-container\":\"playlistWrapper_playlist-container__mXSsD\",\"fallback-image-container\":\"playlistWrapper_fallback-image-container__1NJXi\",\"playlist-image-container\":\"playlistWrapper_playlist-image-container__1IYgr\",\"playlist-image\":\"playlistWrapper_playlist-image__23YjI\",\"description-container\":\"playlistWrapper_description-container__28JKe\",\"playlist-title\":\"playlistWrapper_playlist-title__hKktu\",\"playlist-description\":\"playlistWrapper_playlist-description__3fj_3\",\"header-container\":\"playlistWrapper_header-container__2iUq6\",\"title-options-container\":\"playlistWrapper_title-options-container__3Txju\",\"title-container\":\"playlistWrapper_title-container__39wTA\",\"input-container\":\"playlistWrapper_input-container__1b3NW\",\"input-searchbar\":\"playlistWrapper_input-searchbar__2AcQV\",\"input-content-container\":\"playlistWrapper_input-content-container__2G4AR\",\"search-icon\":\"playlistWrapper_search-icon__1v8RW\",\"track-count\":\"playlistWrapper_track-count__2-okV\",\"label-count\":\"playlistWrapper_label-count__1Qvft\",\"check-box\":\"playlistWrapper_check-box__3v15L\",\"tracks-container\":\"playlistWrapper_tracks-container__1ghaJ\",\"label-artist\":\"playlistWrapper_label-artist__2RZ75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"home_inactive__19yDr\",\"container\":\"home_container__1APdC\",\"dropdown-container\":\"home_dropdown-container__4--TS\",\"user-container\":\"home_user-container__2MISo\",\"user-dropdown-input\":\"home_user-dropdown-input__1q4x5\",\"arrow-up\":\"home_arrow-up__2eopt\",\"dropdown-content-container\":\"home_dropdown-content-container__30RYO\",\"dropdown-button\":\"home_dropdown-button__17n6u\",\"user-icon-header-container\":\"home_user-icon-header-container__3FHIU\",\"user-icon-container\":\"home_user-icon-container__3E9bc\",\"user-image-container\":\"home_user-image-container__2CQYn\",\"user-image\":\"home_user-image__9LpmQ\",\"user-displayName\":\"home_user-displayName__xJ9eM\",\"arrow-container\":\"home_arrow-container__3hYlM\",\"user-arrow-trigger\":\"home_user-arrow-trigger__2Rquj\",\"user-icon-box\":\"home_user-icon-box__mCw_O\",\"user-info-container\":\"home_user-info-container__scT1M\",\"profile-picture-container\":\"home_profile-picture-container__p3wSC\",\"profile-picture\":\"home_profile-picture__3uhE5\",\"track-divisor-container\":\"home_track-divisor-container__1RJBs\",\"top-tracks-container\":\"home_top-tracks-container__3zApe\",\"recent-tracks-container\":\"home_recent-tracks-container__3GKig\",\"top-tracks-title\":\"home_top-tracks-title__2QYBn\",\"recently-played-title\":\"home_recently-played-title__13l2-\",\"show-more-container\":\"home_show-more-container__3ieWu\",\"showmore-input\":\"home_showmore-input__3T0R_\",\"showmore-label\":\"home_showmore-label__1AiHY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"wrapper_container__1aLqH\"};","export const REQUEST_TOP_TRACKS = \"REQUEST_TOP_TRACKS\";\r\nexport const RECIEVE_TOP_TRACKS = \"RECIEVE_TOP_TRACKS\";\r\nexport const REQUEST_PLAYLISTS = \"REQUEST_PLAYLISTS\";\r\nexport const RECIEVE_PLAYLISTS = \"RECIEVE_PLAYLISTS\";\r\nexport const RECIEVE_RECENT_TRACKS = \"RECIEVE_RECENT_TRACKS\";\r\nexport const REQUEST_RECENT_TRACKS = \"REQUEST_RECENT_TRACKS\";\r\nexport const NAVBAR_LINK_CLICKED = \"NAVBAR_LINK_CLICKED\";\r\nexport const DELETE_TRACK_REQUEST = \"DELETE_TRACK_REQUEST\";\r\nexport const DELETE_TRACK_SUCCESS = \"DELETE_TRACK_SUCCESS\";\r\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const USER_INFO_REQUEST = \"USER_INFO_REQUEST\";\r\nexport const USER_INFO_SUCCESS = \"USER_INFO_SUCCESS\";\r\nexport const ACCESS_TOKEN_RECIEVED = \"ACCESS_TOKEN_RECIEVED\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\nexport const ADD_TRACK_REQUEST = \"ADD_TRACK_REQUEST\";\r\nexport const ADD_TRACK_SUCCESS = \"ADD_TRACK_SUCCESS\";\r\nexport const REQUEST_TRACKS = \"REQUEST_TRACKS\";\r\nexport const RECIEVE_TRACKS = \"RECIEVE_TRACKS\";\r\nexport const REQUEST_PLAYLIST_TRACKS = \"REQUEST_PLAYLIST_TRACKS\";\r\nexport const RECIEVE_PLAYLIST_TRACKS = \"RECIEVE_PLAYLIST_TRACKS\";\r\nexport const SELECT_ALL = \"SELECT_ALL\";\r\nexport const GET_SINGLE_PLAYLIST = \"GET_SINGLE_PLAYLIST\";\r\n","import axios from \"axios\";\r\naxios.interceptors.response.use(\r\n  function (request) {\r\n    return request;\r\n  },\r\n  function (err) {\r\n    const originalRequest = err.config;\r\n    if (\r\n      (err.response.status === 401 || err.response.status === 403) &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true;\r\n      return axios({\r\n        url: \"/api/refresh\",\r\n        method: \"POST\",\r\n        withCredentials: true,\r\n      }).then((data) => {\r\n        if (data.data) {\r\n          localStorage.setItem(\"access_token\", data.data.access_token);\r\n          axios.defaults.headers.common[\"Authorization\"] =\r\n            \"Bearer \" + data.access_token;\r\n          originalRequest.headers[\"Authorization\"] =\r\n            \"Bearer \" + data.data.access_token;\r\n          return axios(originalRequest);\r\n        }\r\n      });\r\n    } else {\r\n      return err;\r\n    }\r\n  }\r\n);\r\naxios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\r\n  \"access_token\"\r\n)}`;\r\nconst logoutApi = () => {\r\n  return axios({\r\n    url: \"/api/logout\",\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst authorization = (decodedToken) => {\r\n  return axios({\r\n    url: \"/api/authorization\",\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    data: {\r\n      code: decodedToken,\r\n    },\r\n  });\r\n};\r\nconst addTracksToPlaylistsCall = (id, tracks) => {\r\n  return axios({\r\n    url: `/api/playlists/${id}/track`,\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    data: {\r\n      tracks: tracks,\r\n    },\r\n  });\r\n};\r\nconst fetchSinglePlaylist = (id) => {\r\n  return axios({\r\n    url: `/api/single/playlists/${id}`,\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getUserInfo = () => {\r\n  return axios({\r\n    url: \"/api/user-info\",\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getRecentTracks = (cursor) => {\r\n  return axios({\r\n    url: `/api/recently-played?${cursor ? `before=${cursor.before}` : \"\"}`,\r\n    method: \"GET\",\r\n  });\r\n};\r\nconst getTopTracks = () => {\r\n  return axios({\r\n    url: \"/api/top-tracks\",\r\n    method: \"GET\",\r\n  });\r\n};\r\nconst getTrack = (trackId) => {\r\n  return axios({\r\n    url: `/api/track/${trackId.id}`,\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst getPlaylists = () => {\r\n  return axios({\r\n    url: `/api/playlists`,\r\n    method: \"GET\",\r\n  });\r\n};\r\nconst getPlayListTracks = (id, offset) => {\r\n  return axios({\r\n    url: `/api/playlists/${id}${offset ? `?offset=${offset}` : \"\"}`,\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n  });\r\n};\r\nconst deleteFromPlaylist = (playlist) => {\r\n  return axios({\r\n    url: `/api/playlists/${playlist.id}/track`,\r\n    method: \"DELETE\",\r\n    data: {\r\n      playlist_id: playlist.id,\r\n      tracks: playlist.tracksToDelete,\r\n    },\r\n    withCredentials: true,\r\n  });\r\n};\r\nexport {\r\n  fetchSinglePlaylist,\r\n  deleteFromPlaylist,\r\n  getUserInfo,\r\n  logoutApi,\r\n  authorization,\r\n  getRecentTracks,\r\n  getTopTracks,\r\n  getPlayListTracks,\r\n  getTrack,\r\n  addTracksToPlaylistsCall,\r\n  getPlaylists,\r\n};\r\n","import {\r\n  RECIEVE_RECENT_TRACKS,\r\n  RECIEVE_TOP_TRACKS,\r\n  REQUEST_RECENT_TRACKS,\r\n  REQUEST_TOP_TRACKS,\r\n} from \"../types/types\";\r\nimport { getRecentTracks, getTopTracks } from \"./calls\";\r\n\r\nfunction requestTopTracks() {\r\n  return {\r\n    type: REQUEST_TOP_TRACKS,\r\n  };\r\n}\r\nfunction requestRecentTracks() {\r\n  return {\r\n    type: REQUEST_RECENT_TRACKS,\r\n  };\r\n}\r\nexport function recieveTopTracks() {\r\n  return (dispatch, getState) => {\r\n    const getAllTracks = Object.keys(getState().tracks.byIds);\r\n    const filtered = {};\r\n    dispatch(requestTopTracks());\r\n\r\n    getTopTracks().then((data) => {\r\n      if (data) {\r\n        const toptracks = data.data.items;\r\n\r\n        const obj = {};\r\n        toptracks.forEach((track) => {\r\n          obj[track.uid] = track;\r\n          if (!getAllTracks.includes(track.uid)) {\r\n            filtered[track.uid] = track;\r\n          }\r\n        });\r\n\r\n        dispatch({\r\n          byIds: filtered,\r\n          type: RECIEVE_TOP_TRACKS,\r\n          top_tracks: obj,\r\n          allIds: Object.keys(obj),\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\nexport function recieveRecentTracks() {\r\n  return (dispatch, getState) => {\r\n    const cursors = getState().tracks.cursor;\r\n    dispatch(requestRecentTracks());\r\n    const getAllTracks = Object.keys(getState().tracks.byIds);\r\n    const filtered = {};\r\n\r\n    getRecentTracks(cursors).then((data) => {\r\n      if (data) {\r\n        const recentTracks = data.data.items;\r\n\r\n        const obj = {};\r\n        recentTracks.forEach((track) => {\r\n          obj[track.track.uid] = track.track;\r\n          if (!getAllTracks.includes(track.track.uid)) {\r\n            filtered[track.track.uid] = track.track;\r\n          }\r\n        });\r\n\r\n        dispatch({\r\n          byIds: filtered,\r\n          cursors: data.data.cursors,\r\n          type: RECIEVE_RECENT_TRACKS,\r\n          recent_tracks: obj,\r\n          allIds: Object.keys(obj),\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\n","import {\r\n  ACCESS_TOKEN_RECIEVED,\r\n  LOG_OUT,\r\n  USER_INFO_REQUEST,\r\n  USER_INFO_SUCCESS,\r\n} from \"../types/types\";\r\nimport { authorization, getUserInfo, logoutApi } from \"./calls\";\r\n\r\nexport function loginCheck() {\r\n  return new Promise(function (resolve, reject) {\r\n    let check = localStorage.getItem(\"access_token\");\r\n    if (check) {\r\n      resolve(\"logged In\");\r\n    } else {\r\n      reject(\"not logged In\");\r\n    }\r\n  });\r\n}\r\nexport const logout = () => (dispatch, getState) => {\r\n  localStorage.removeItem(\"access_token\");\r\n  return new Promise(function (resolve, reject) {\r\n    logoutApi().then((data) => {\r\n      if (data.status === 200) {\r\n        dispatch({\r\n          type: LOG_OUT,\r\n        });\r\n        resolve(data.status);\r\n      }\r\n    });\r\n  });\r\n};\r\nexport const getAccessToken = (code) => (dispatch, getState) => {\r\n  return new Promise((resolve, reject) => {\r\n    authorization(code)\r\n      .then((data) => {\r\n        if (data) {\r\n          dispatch({\r\n            access_token: data.data.access_token,\r\n            type: ACCESS_TOKEN_RECIEVED,\r\n          });\r\n          localStorage.setItem(\"access_token\", data.data.access_token);\r\n          resolve(\"\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  });\r\n};\r\nexport function getUserInfoAction() {\r\n  return (dispatch, getState) => {\r\n    getUserInfo().then((data) => {\r\n      if (data.status === 200) {\r\n        dispatch({\r\n          type: USER_INFO_SUCCESS,\r\n          user: data.data,\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\n","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHomeIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHomeIcon);\nexport default __webpack_public_path__ + \"static/media/home-icon.66b71da2.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport style from \"./styles/track.module.scss\";\r\nconst Track = (props) => {\r\n  if (!props.image[0]) {\r\n    return null;\r\n  }\r\n  const handleRoute = () => {\r\n    window.open(props.track.external_urls.spotify, \"_blank\");\r\n  };\r\n  return (\r\n    <a onClick={handleRoute} className={style[\"track-container\"]}>\r\n      <div className={style[\"album-cover-container\"]}>\r\n        <img className={style[\"album-cover\"]} src={props.image[0].url} alt=\"\" />\r\n      </div>\r\n      <div className={style[\"info-container\"]}>\r\n        {\" \"}\r\n        <p className={style[\"track-title\"]}>{props.track.name}</p>\r\n        <p className={style[\"album-title\"]}>{props.track.album.name}</p>\r\n      </div>\r\n    </a>\r\n  );\r\n};\r\nexport default Track;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createSelector } from \"reselect\";\r\nimport {\r\n  recieveRecentTracks,\r\n  recieveTopTracks,\r\n} from \"./spotify-redux/actions/trackActions\";\r\nimport { logout } from \"./spotify-redux/actions/userActions\";\r\nimport style from \"./styles/home.module.scss\";\r\nimport Track from \"./Track\";\r\nconst getUser = (state) => {\r\n  return state.current_user;\r\n};\r\nconst getTop = (state) => {\r\n  return state.tracks.top_tracks;\r\n};\r\nconst getRecent = (state) => {\r\n  return state.tracks.recent_tracks;\r\n};\r\nconst topTracksSelector = createSelector(getTop, (state) => {\r\n  return state;\r\n});\r\nconst recentTracksSelector = createSelector(getRecent, (state) => {\r\n  return state;\r\n});\r\nconst userSelectorMem = createSelector(getUser, (state) => {\r\n  return state;\r\n});\r\nconst Home = () => {\r\n  const userSelector = useSelector(userSelectorMem);\r\n  const topTrackSel = useSelector(topTracksSelector);\r\n  const recentTracksSel = useSelector(recentTracksSelector);\r\n  const currentUser = userSelector;\r\n  const currentUserInfo = currentUser.userInfo;\r\n  const dispatch = useDispatch();\r\n  const getTopTracks = topTrackSel;\r\n  const getRecentTracks = recentTracksSel;\r\n  let topTracksArr;\r\n  if (getTopTracks) {\r\n    topTracksArr = Object.keys(getTopTracks).map((id) => {\r\n      return getTopTracks[id];\r\n    });\r\n  }\r\n  let recentTracksArr;\r\n  if (getRecentTracks) {\r\n    recentTracksArr = Object.keys(getRecentTracks).map((id) => {\r\n      return getRecentTracks[id];\r\n    });\r\n  }\r\n  const handleLogout = () => {\r\n    dispatch(logout()).then((status) => {\r\n      if (status === 200) {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    dispatch(recieveTopTracks());\r\n    dispatch(recieveRecentTracks());\r\n  }, [currentUser.access_token]);\r\n  if (!getTopTracks || !getRecentTracks || !currentUserInfo) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={style[\"container\"]}>\r\n      <div className={style[\"user-container\"]}>\r\n        <input\r\n          className={style[\"user-dropdown-input\"]}\r\n          type=\"checkbox\"\r\n          id=\"user-dropdown\"\r\n        />\r\n        <label\r\n          htmlFor=\"user-dropdown\"\r\n          className={style[\"user-icon-header-container\"]}\r\n        >\r\n          <div className={style[\"user-icon-box\"]}>\r\n            <div className={style[\"user-icon-container\"]}>\r\n              <div className={style[\"user-image-container\"]}>\r\n                <img\r\n                  className={style[\"user-image\"]}\r\n                  src={currentUserInfo.images[0].url}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <p className={style[\"user-displayName\"]}>\r\n                {currentUserInfo.display_name}\r\n              </p>\r\n              <div className={style[\"arrow-container\"]}>\r\n                <span className={style[\"user-arrow-trigger\"]}></span>{\" \"}\r\n              </div>\r\n            </div>\r\n            <div className={style[\"dropdown-container\"]}>\r\n              <span className={style[\"arrow-up\"]}></span>\r\n              <div className={style[\"dropdown-content-container\"]}>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className={style[\"dropdown-button\"]}\r\n                >\r\n                  Log out\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </label>\r\n      </div>\r\n      <div className={style[\"content\"]}>\r\n        <div className={style[\"user-info-container\"]}>\r\n          <div className={style[\"profile-picture-container\"]}>\r\n            <img\r\n              src={currentUserInfo && currentUserInfo.images[0].url}\r\n              className={style[\"profile-picture\"]}\r\n            ></img>\r\n          </div>\r\n          <h2 className={style[\"profile-name\"]}>\r\n            {currentUserInfo && currentUserInfo.display_name}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"track-divisor-container\"]}>\r\n        <div>\r\n          <p className={style[\"top-tracks-title\"]}>your top tracks</p>\r\n          <div className={style[\"top-tracks-container\"]}>\r\n            {\" \"}\r\n            {recentTracksArr.length > 0 && topTracksArr.length > 0\r\n              ? topTracksArr.map((track) => {\r\n                  return (\r\n                    <Track\r\n                      key={track.uid}\r\n                      track={track}\r\n                      image={track.album.images}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className={style[\"recently-played-title\"]}>recently played</p>\r\n          <div className={style[\"recent-tracks-container\"]}>\r\n            {recentTracksArr.length > 0 && topTracksArr.length > 0\r\n              ? recentTracksArr.map((track) => {\r\n                  return (\r\n                    <Track\r\n                      key={track.uid}\r\n                      track={track}\r\n                      image={track.album.images}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 63 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    preserveAspectRatio: \"xMidYMin meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    className: \"svelte-1gcdbl9\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M61.842 9.506a1.02 1.02 0 0 1-1.023-1.024c0-.562.453-1.03 1.029-1.03a1.02 1.02 0 0 1 1.023 1.024 1.03 1.03 0 0 1-1.029 1.03m.006-1.952a.915.915 0 0 0-.922.928c0 .51.394.921.916.921a.916.916 0 0 0 .922-.927.908.908 0 0 0-.916-.922m.226 1.027l.29.406h-.244l-.26-.372h-.225v.372h-.204V7.912h.48c.249 0 .413.128.413.343 0 .176-.102.284-.25.326m-.172-.485h-.267v.34h.267c.133 0 .212-.065.212-.17 0-.11-.08-.17-.212-.17m-12.804-3.52a1.043 1.043 0 1 0-.001 2.086 1.043 1.043 0 0 0 0-2.087m.72 2.89h-1.454a.107.107 0 0 0-.106.107v6.346c0 .06.047.107.106.107h1.455a.107.107 0 0 0 .107-.107V7.572a.107.107 0 0 0-.107-.107m3.233.006v-.2c0-.592.227-.856.736-.856.303 0 .546.06.82.152a.106.106 0 0 0 .14-.102V5.24a.107.107 0 0 0-.076-.102 3.993 3.993 0 0 0-1.21-.174c-1.343 0-2.053.757-2.053 2.188v.308h-.699a.107.107 0 0 0-.107.106v1.257c0 .059.048.107.107.107h.699v4.99c0 .058.047.106.106.106h1.455a.107.107 0 0 0 .106-.107v-4.99h1.358l2.081 4.99c-.236.523-.468.628-.785.628-.257 0-.527-.077-.803-.228a.109.109 0 0 0-.084-.008.106.106 0 0 0-.063.058l-.493 1.081a.106.106 0 0 0 .045.138c.515.279.98.398 1.554.398 1.074 0 1.668-.5 2.191-1.847L60.6 7.617a.106.106 0 0 0-.099-.146h-1.514a.107.107 0 0 0-.1.072l-1.552 4.431-1.7-4.434a.106.106 0 0 0-.099-.069h-2.485m-5.577-.006h-1.6V5.828a.106.106 0 0 0-.107-.106h-1.455a.107.107 0 0 0-.106.106v1.637h-.7a.106.106 0 0 0-.106.107v1.25c0 .059.048.107.106.107h.7v3.234c0 1.308.65 1.97 1.934 1.97.522 0 .954-.107 1.362-.338a.106.106 0 0 0 .054-.093v-1.19a.106.106 0 0 0-.154-.096c-.28.141-.551.206-.854.206-.467 0-.675-.211-.675-.686V8.929h1.6a.106.106 0 0 0 .107-.107v-1.25a.106.106 0 0 0-.106-.107m-7.671-.133c-1.96 0-3.497 1.51-3.497 3.437 0 1.907 1.526 3.4 3.473 3.4 1.967 0 3.508-1.504 3.508-3.424 0-1.914-1.53-3.413-3.484-3.413m0 5.362c-1.043 0-1.83-.838-1.83-1.95 0-1.115.76-1.924 1.806-1.924 1.05 0 1.84.838 1.84 1.95 0 1.115-.763 1.924-1.816 1.924m-7.014-5.362c-.82 0-1.492.323-2.046.984v-.744a.107.107 0 0 0-.106-.107h-1.455a.107.107 0 0 0-.106.107v8.27c0 .058.048.106.106.106h1.455a.107.107 0 0 0 .106-.106v-2.61c.555.621 1.227.925 2.046.925 1.522 0 3.063-1.172 3.063-3.412s-1.54-3.413-3.063-3.413m1.372 3.413c0 1.14-.703 1.937-1.709 1.937-.995 0-1.745-.833-1.745-1.937s.75-1.937 1.745-1.937c.99 0 1.71.814 1.71 1.937m-8.437-1.81c-1.624-.388-1.913-.66-1.913-1.231 0-.54.508-.903 1.264-.903.732 0 1.459.275 2.22.843a.107.107 0 0 0 .15-.023l.794-1.119a.107.107 0 0 0-.02-.144c-.906-.728-1.927-1.081-3.12-1.081-1.755 0-2.98 1.052-2.98 2.559 0 1.615 1.057 2.187 2.884 2.628 1.554.358 1.817.658 1.817 1.195 0 .594-.53.963-1.385.963-.948 0-1.721-.32-2.587-1.068a.11.11 0 0 0-.078-.026.105.105 0 0 0-.073.038l-.89 1.058a.105.105 0 0 0 .011.148 5.303 5.303 0 0 0 3.581 1.373c1.89 0 3.112-1.033 3.112-2.631 0-1.351-.807-2.098-2.787-2.58M9.507.305a9.41 9.41 0 1 0 0 18.82 9.41 9.41 0 0 0 0-18.82m4.316 13.572a.586.586 0 0 1-.807.195c-2.21-1.35-4.99-1.655-8.266-.907a.586.586 0 1 1-.261-1.143c3.584-.82 6.659-.467 9.139 1.049.276.169.363.53.195.806m1.15-2.562a.734.734 0 0 1-1.008.242c-2.529-1.555-6.385-2.005-9.377-1.097a.735.735 0 0 1-.426-1.404c3.418-1.037 7.666-.534 10.57 1.25a.734.734 0 0 1 .242 1.01m.1-2.669C12.04 6.846 7.036 6.68 4.141 7.56a.88.88 0 1 1-.511-1.684c3.323-1.01 8.849-.814 12.34 1.258a.88.88 0 0 1-.898 1.514\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.c26ab11c.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlaylistIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaylistIcon);\nexport default __webpack_public_path__ + \"static/media/playlist-icon.29989b5e.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAddIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14,10H3v2h11V10z M14,6H3v2h11V6z M18,14v-4h-2v4h-4v2h4v4h2v-4h4v-2H18z M3,16h7v-2H3V16z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddIcon);\nexport default __webpack_public_path__ + \"static/media/add-icon.6379aaf5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as HomeIcon } from \"./images/home-icon.svg\";\r\nimport { ReactComponent as Logo } from \"./images/logo.svg\";\r\nimport { ReactComponent as PlaylistIcon } from \"./images/playlist-icon.svg\";\r\nimport style from \"./styles/Navbar.module.scss\";\r\nconst Navbar = () => {\r\n  const [checkedState, setChecked] = useState(false);\r\n  const handleClose = () => {\r\n    let trigger = document.getElementById(\"trigger\");\r\n    if (trigger.checked) {\r\n      setChecked(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleClose);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleClose);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <input\r\n        readOnly\r\n        checked={checkedState}\r\n        type=\"checkbox\"\r\n        id=\"trigger\"\r\n        className={style[\"burger-input\"]}\r\n      />\r\n      <label\r\n        onClick={() => setChecked(!checkedState)}\r\n        htmlFor=\"trigger\"\r\n        className={style[\"burger-label\"]}\r\n      >\r\n        <div className={style[\"main-trigger-icon-container\"]}>\r\n          <span className={style[\"main-trigger-icon\"]}></span>\r\n        </div>\r\n      </label>\r\n      <div\r\n        onClick={() => setChecked(false)}\r\n        id=\"nav-mask\"\r\n        className={style[\"navbar-mask\"]}\r\n      ></div>\r\n      <div className={style.container}>\r\n        <div className={style.content}>\r\n          <Link\r\n            onClick={() => setChecked(false)}\r\n            name=\"menu-item\"\r\n            className={style[\"menu-item\"]}\r\n            to={{ pathname: \"/\" }}\r\n          >\r\n            <Logo className={style[\"logo\"]} />\r\n          </Link>\r\n          <div className={style[\"menu-container\"]}>\r\n            <Link\r\n              name=\"menu-item\"\r\n              onClick={() => setChecked(false)}\r\n              to={{\r\n                pathname: \"/\",\r\n              }}\r\n              className={style[\"menu-item\"]}\r\n            >\r\n              <HomeIcon className={style[\"playlist-icon\"]} />\r\n              <p>Home</p>\r\n            </Link>\r\n            <Link\r\n              name=\"menu-item\"\r\n              onClick={() => setChecked(false)}\r\n              to={{\r\n                pathname: \"/playlists\",\r\n              }}\r\n              className={style[\"menu-item\"]}\r\n            >\r\n              {\" \"}\r\n              <PlaylistIcon className={style[\"playlist-icon\"]} />\r\n              <p>Playlists</p>\r\n            </Link>\r\n          </div>{\" \"}\r\n        </div>{\" \"}\r\n        <div></div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Navbar;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.091a5f52.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    role: \"img\",\n    width: 24,\n    viewBox: \"0 0 512 512\",\n    className: \"_08f8133e4f703ce562826348eb158f87-scss\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.d5dc7a02.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    className: \"v1262d JUQOtc\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.00f75894.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMusicNote(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 32,\n    role: \"img\",\n    width: 32,\n    viewBox: \"-20 -25 100 100\",\n    \"data-testid\": \"card-image-fallback\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 7.494v28.362A8.986 8.986 0 0 0 9 32.5c-4.962 0-9 4.038-9 9s4.038 9 9 9 9-4.038 9-9V9.113l30-6.378v27.031a8.983 8.983 0 0 0-7-3.356c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9s9-4.037 9-9V.266L16 7.494zM9 48.5c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.859-3.141 7-7 7zm32-6.09c-3.86 0-7-3.14-7-7 0-3.859 3.14-7 7-7s7 3.141 7 7c0 3.861-3.141 7-7 7z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMusicNote);\nexport default __webpack_public_path__ + \"static/media/music-note.48ec1c79.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckIconPlaceH(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    className: \"v1262d JUQOtc rqet2b\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckIconPlaceH);\nexport default __webpack_public_path__ + \"static/media/checkIconPlaceH.7fc9c27f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport { ReactComponent as MusicIcon } from \"./images/music-note.svg\";\r\nimport style from \"./styles/playlist.module.scss\";\r\nconst Playlist = (props) => {\r\n  const item = props.playlist;\r\n  let { url } = useRouteMatch();\r\n  if (!props.playlist) {\r\n    return <div></div>;\r\n  }\r\n  let imageUrl = item.images[0] ? (\r\n    <img className={style[\"playlist-image\"]} src={item.images[0].url} alt=\"\" />\r\n  ) : (\r\n    <div className={style[\"fallback-image-container\"]}>\r\n      <MusicIcon className={style[\"playlist-image\"]} />\r\n    </div>\r\n  );\r\n  return (\r\n    <Link\r\n      key={item.uid}\r\n      to={{\r\n        pathname: `${url}/${item.id}`,\r\n      }}\r\n      className={style[\"playlist-container\"]}\r\n    >\r\n      <div className={style[\"playlist-content\"]}>\r\n        <div className={style[\"playlist-image-container\"]}>{imageUrl}</div>\r\n        <div className={style[\"description-container\"]}>\r\n          <p className={style[\"playlist-title\"]}>{item.name}</p>\r\n          <p className={style[\"playlist-description\"]}>\r\n            {item.description\r\n              ? item.description\r\n              : `By ${item.owner.display_name}`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\nexport default React.memo(Playlist);\r\n","import React, { useState } from \"react\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { ReactComponent as CheckIconPlaceH } from \"./images/checkIconPlaceH.svg\";\r\nimport style from \"./styles/playlistAddModal.module.scss\";\r\nconst PlaylistAddModal = (props) => {\r\n  const [selectedPlaylists, setSelectedPlaylists] = useState([]);\r\n  let filteredPlaylists = props.playlist;\r\n  const handlePlaylistSelect = (id) => {\r\n    const selected = [...selectedPlaylists];\r\n    let obj = {};\r\n    obj[\"playlistid\"] = id;\r\n    const findId = selected.find((obj) => {\r\n      return obj.playlistid === id;\r\n    });\r\n    if (!findId) {\r\n      selected.push(obj);\r\n    } else {\r\n      let index = selected.findIndex((obj) => {\r\n        return obj.playlistid === id;\r\n      });\r\n      selected.splice(index, 1);\r\n    }\r\n    setSelectedPlaylists(selected);\r\n  };\r\n  const handleAdd = () => {\r\n    props.handleAdd(selectedPlaylists);\r\n  };\r\n  return (\r\n    <div className={style[props.showModal ? \"\" : \"inactive\"]}>\r\n      <div onClick={props.closeModal} className={style[\"container-mask\"]}></div>\r\n      <div className={style[props.showModal ? \"container\" : \"inactive\"]}>\r\n        <div className={style[\"modal-container\"]}>\r\n          <div className={style[\"header-container\"]}>\r\n            <div\r\n              onClick={props.closeModal}\r\n              className={style[\"cancel-icon-container\"]}\r\n            >\r\n              <span className={style[\"main-trigger-icon-container\"]}>\r\n                <i className={style[\"main-trigger-icon\"]}></i>\r\n              </span>{\" \"}\r\n            </div>\r\n          </div>\r\n          <p className={style[\"modal-title\"]}>Add to playlists</p>\r\n          <div className={style[\"playlist-container\"]}>\r\n            {filteredPlaylists.map((playlist, i) => {\r\n              return (\r\n                <div\r\n                  key={playlist.id}\r\n                  className={style[\"playlist-item-container\"]}\r\n                >\r\n                  <div className={style[\"playlist-item\"]}>\r\n                    <div className={style[\"check-index-container\"]}>\r\n                      <p\r\n                        className={\r\n                          style[\r\n                            selectedPlaylists.length > 0\r\n                              ? \"inactive\"\r\n                              : \"playlist-count\"\r\n                          ]\r\n                        }\r\n                      >\r\n                        {i + 1}\r\n                      </p>\r\n                      <CheckIconPlaceH\r\n                        key={playlist.id}\r\n                        style={{\r\n                          display:\r\n                            selectedPlaylists.length > 0 ? \"flex\" : \"none\",\r\n                        }}\r\n                        className={style[\"check-icon-place\"]}\r\n                      />\r\n                      <CheckIcon\r\n                        style={{\r\n                          display: selectedPlaylists.find((obj) => {\r\n                            return obj.playlistid === playlist.id;\r\n                          })\r\n                            ? \"flex\"\r\n                            : \"none\",\r\n                          fill: selectedPlaylists.find((obj) => {\r\n                            return obj.playlistid === playlist.id;\r\n                          })\r\n                            ? \"#1db954\"\r\n                            : \"white\",\r\n                        }}\r\n                        onClick={() => handlePlaylistSelect(playlist.id)}\r\n                        className={style[\"check-icon\"]}\r\n                      />\r\n                    </div>\r\n                    <p className={style[\"playlist-title\"]}>{playlist.name}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className={style[\"button-container\"]}>\r\n            <button\r\n              onClick={props.closeModal}\r\n              className={style[\"cancel-button\"]}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() => handleAdd()}\r\n              className={style[\"delete-button\"]}\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(PlaylistAddModal, (prev, next) => {\r\n  return prev.showModal === next.showModal;\r\n});\r\n","import React from \"react\";\r\nimport style from \"./styles/playlistOptionsModal.module.scss\";\r\nconst PlaylistOptionsModal = (props) => {\r\n  const handleDelete = () => {\r\n    props.handleDelete();\r\n  };\r\n  const closeModal = () => {\r\n    props.closeModal();\r\n  };\r\n  return (\r\n    <div className={style[props.showModal ? \"container\" : \"inactive\"]}>\r\n      <div onClick={props.closeModal} className={style[\"container-mask\"]}></div>\r\n      <div className={style[\"modal-container\"]}>\r\n        <div className={style[\"header-container\"]}>\r\n          <div\r\n            onClick={props.closeModal}\r\n            className={style[\"cancel-icon-container\"]}\r\n          >\r\n            <span className={style[\"main-trigger-icon-container\"]}>\r\n              <i className={style[\"main-trigger-icon\"]}></i>\r\n            </span>{\" \"}\r\n          </div>\r\n        </div>\r\n        <p>Are you sure you want to delete these tracks?</p>\r\n        <div className={style[\"button-container\"]}>\r\n          <button onClick={closeModal} className={style[\"cancel-button\"]}>\r\n            Cancel\r\n          </button>\r\n          <button onClick={handleDelete} className={style[\"delete-button\"]}>\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(PlaylistOptionsModal, (prev, next) => {\r\n  if (prev.showModal === next.showModal) {\r\n    return true;\r\n  } else if (prev.checkAll !== next.checkAll) {\r\n    return true;\r\n  }\r\n});\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { ReactComponent as CheckIconPlaceH } from \"./images/checkIconPlaceH.svg\";\r\nimport { useFunction } from \"./PlaylistWrapper\";\r\nimport style from \"./styles/playlisttracks.module.scss\";\r\nconst PlaylistTrack = (props) => {\r\n  const [checkUI, setUI] = useState(false);\r\n  let track = props.playlistSet;\r\n  const handleCheckClick = (trackid, playlistid, uri) => {\r\n    props.handleCheckSelected(\r\n      trackid,\r\n      playlistid,\r\n      uri,\r\n      props.changed,\r\n      props.index\r\n    );\r\n  };\r\n  if (\r\n    !props.playlistSet ||\r\n    !props.playlistSet.track ||\r\n    !props.playlistSet.track.album.images[0]\r\n  ) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div\r\n      className={\r\n        style[\r\n          props.deletedArr.find((obj) => {\r\n            return obj.trackid === props.playlistSet.track.uid;\r\n          })\r\n            ? \"inactive\"\r\n            : \"item-container\"\r\n        ]\r\n      }\r\n      className={style[\"item-container\"]}\r\n    >\r\n      <div className={style[\"check-count-container\"]}>\r\n        <div htmlFor=\"test\" className={style[\"check-container\"]}>\r\n          <CheckIconPlaceH\r\n            style={{\r\n              display: props.checkAll ? \"flex\" : \"none\",\r\n            }}\r\n            className={style[\"check-icon-place\"]}\r\n          />\r\n          <CheckIcon\r\n            onClick={(e) => {\r\n              handleCheckClick(\r\n                props.playlistSet.track.uid,\r\n                props.playlistSet.playlist.id,\r\n                props.playlistSet.track.uri,\r\n                props.getTracks\r\n              );\r\n            }}\r\n            style={{\r\n              display: props.selected.find((obj) => {\r\n                return obj.trackid === props.playlistSet.track.uid;\r\n              })\r\n                ? \"flex\"\r\n                : \"none\",\r\n              fill: props.isSelected ? \"#1db954\" : \"white\",\r\n            }}\r\n            className={\r\n              style[\r\n                props.playlistSet.playlist.owner.display_name === \"Spotify\"\r\n                  ? \"check-icon\"\r\n                  : \"check-icon\"\r\n              ]\r\n            }\r\n          />\r\n        </div>\r\n        <div className={style[\"track-count-container\"]}>\r\n          <span className={style[props.checkAll ? \"inactive\" : \"track-count\"]}>\r\n            {props.index + 1}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"item-title-container\"]}>\r\n        <div className={style[\"album-image-container\"]}>\r\n          <img\r\n            className={style[\"album-image\"]}\r\n            src={\r\n              props.imageSelection && props.playlistSet\r\n                ? props.playlistSet.track.album.images[0] &&\r\n                  props.playlistSet.track.album.images[0].url\r\n                : props.playlistSet.playlist.images[0] &&\r\n                  props.playlistSet.playlist.images[0].url\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className={style[\"title-container\"]}>\r\n          <div className={style[\"track-title-container\"]}>\r\n            <p className={style[\"track-title\"]}>{track.track.name}</p>\r\n          </div>\r\n          <span className={style[\"track-artist\"]}>\r\n            {track.track.artists.map((artist, i) => {\r\n              return (\r\n                <span key={artist.id}>\r\n                  <a>\r\n                    <span className={style[\"artist-name\"]}>{artist.name}</span>\r\n                  </a>\r\n                  {track.track.artists.length - 1 !== i && \", \"}\r\n                </span>\r\n              );\r\n            })}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"track-album-container\"]}>\r\n        <p className={style[\"track-album\"]}>{track.track.album.name}</p>\r\n      </div>\r\n      <div\r\n        to={`playlists/${track.playlist.id}`}\r\n        className={style[\"track-playlist-container\"]}\r\n      >\r\n        <p className={style[\"track-playlist\"]}>{track.playlist.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(PlaylistTrack, (prev, next) => {\r\n  if (prev.isSelected === next.isSelected) {\r\n    return true;\r\n  }\r\n});\r\n","import axios from \"axios\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport {\r\n  ADD_TRACK_REQUEST,\r\n  ADD_TRACK_SUCCESS,\r\n  DELETE_TRACK_REQUEST,\r\n  DELETE_TRACK_SUCCESS,\r\n  RECIEVE_PLAYLISTS,\r\n  RECIEVE_PLAYLIST_TRACKS,\r\n  RECIEVE_TRACKS,\r\n  REQUEST_PLAYLISTS,\r\n  REQUEST_PLAYLIST_TRACKS,\r\n  REQUEST_TRACKS,\r\n  GET_SINGLE_PLAYLIST,\r\n} from \"../types/types\";\r\nimport {\r\n  addTracksToPlaylistsCall,\r\n  deleteFromPlaylist,\r\n  getPlaylists,\r\n  getPlayListTracks,\r\n  fetchSinglePlaylist,\r\n} from \"./calls\";\r\nconst requestPlaylists = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: REQUEST_PLAYLISTS });\r\n    dispatch({ type: REQUEST_PLAYLIST_TRACKS });\r\n  };\r\n};\r\nfunction deleteTrackRequest() {\r\n  return {\r\n    type: DELETE_TRACK_REQUEST,\r\n  };\r\n}\r\nexport const addTracksToPlaylists = (playlist, tracks) => (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: ADD_TRACK_REQUEST });\r\n  let obj = {};\r\n  const allTracks = { ...getState().tracks.byIds };\r\n  const tracksToAdd = tracks.map((track) => {\r\n    const foundTracks = { ...allTracks[track.trackid] };\r\n    foundTracks.uid = uuidv4();\r\n    return foundTracks;\r\n  });\r\n  tracksToAdd.forEach((track) => {\r\n    obj[track.uid] = track;\r\n  });\r\n  const trackIds = tracksToAdd.map((item) => {\r\n    return item.uid;\r\n  });\r\n  const playlistsToChange = playlist.map((item) => {\r\n    return item.playlistid;\r\n  });\r\n  let arr = [];\r\n  let playlists;\r\n  playlistsToChange.forEach((id) => {\r\n    playlists = { ...getState().playlists.byIds[id] };\r\n    playlists.tracks = [...playlists.tracks, ...tracksToAdd];\r\n    arr.push(playlists);\r\n  });\r\n  const trackUris = tracks.map((track) => {\r\n    return track.uri;\r\n  });\r\n  const promiseArr = new Promise((resolve) => {\r\n    playlistsToChange.forEach((playlist) => {\r\n      addTracksToPlaylistsCall(playlist, trackUris)\r\n        .then((data) => {\r\n          if (data.status === 200) {\r\n            resolve(200);\r\n          }\r\n        })\r\n        .then(() => {});\r\n    });\r\n  });\r\n  return new Promise((resolve) => {\r\n    promiseArr.then((status) => {\r\n      if (status === 200) {\r\n        dispatch({\r\n          type: ADD_TRACK_SUCCESS,\r\n          trackObjs: obj,\r\n          playlists: playlistsToChange,\r\n          tracksToAdd: trackIds,\r\n        });\r\n        resolve(status);\r\n      }\r\n    });\r\n  });\r\n};\r\nexport const deleteTrackFromPlaylists = (playlistTracks) => (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  let allTracks = getState().tracks.byIds;\r\n  let tracksArr = Object.keys(allTracks).map((id) => {\r\n    return allTracks[id];\r\n  });\r\n  return new Promise((resolve) => {\r\n    const playlistTracksCopy = [...playlistTracks];\r\n    dispatch(deleteTrackRequest());\r\n    let length = playlistTracksCopy.length;\r\n    let arr = [];\r\n    let obj = {};\r\n    for (let i = 0; i < length; i++) {\r\n      let idCheck = arr.findIndex((playlist) => {\r\n        return playlist.id === playlistTracksCopy[i].playlistid;\r\n      });\r\n      if (idCheck < 0) {\r\n        obj[\"id\"] = playlistTracksCopy[i].playlistid;\r\n        obj[\"playlist\"] = playlistTracksCopy[i].playlist;\r\n        obj[\"tracksToDelete\"] = [playlistTracksCopy[i]];\r\n        arr.push(obj);\r\n        obj = {};\r\n      } else {\r\n        arr[idCheck][\"tracksToDelete\"].push(playlistTracksCopy[i]);\r\n      }\r\n    }\r\n    let filteredTracks = tracksArr.filter((tracks) => {\r\n      let find = playlistTracks.find((set) => {\r\n        if (set.trackid === tracks.uid) {\r\n          return set;\r\n        }\r\n      });\r\n      if (!find) {\r\n        return tracks;\r\n      }\r\n    });\r\n    let filteredObj = {};\r\n    filteredTracks.forEach((tracks) => {\r\n      filteredObj[tracks.uid] = tracks;\r\n    });\r\n    if (arr.length > 0) {\r\n      arr.forEach((playlist) => {\r\n        deleteFromPlaylist(playlist)\r\n          .then((data) => {\r\n            resolve({\r\n              status: data.status,\r\n            });\r\n          })\r\n          .catch(() => {});\r\n      });\r\n    } else {\r\n      resolve(\"Some tracks were not deleted.\");\r\n    }\r\n    dispatch({\r\n      type: DELETE_TRACK_SUCCESS,\r\n      tracksArr,\r\n      filteredTracks,\r\n      filteredObj,\r\n      items: [...playlistTracks],\r\n    });\r\n  });\r\n};\r\nexport function getSinglePlaylist(id) {\r\n  return (dispatch) => {\r\n    fetchSinglePlaylist(id)\r\n      .then((data) => {\r\n        if (data.status === 200) {\r\n          dispatch({ type: GET_SINGLE_PLAYLIST, data: data.data });\r\n        }\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n}\r\nexport function getTracksScroll(playlist, mainOffSet) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: REQUEST_TRACKS,\r\n    });\r\n    return getPlayListTracks(playlist.id, mainOffSet).then((data) => {\r\n      let tracks = {};\r\n      data.data.items.forEach((track) => {\r\n        tracks[track.uid] = track;\r\n      });\r\n      if (data.status === 200) {\r\n        dispatch({\r\n          type: RECIEVE_TRACKS,\r\n          trackIds: data.data.items.map((tracks) => {\r\n            return tracks.uid;\r\n          }),\r\n          tracks,\r\n          page: data.data.page,\r\n          playlist,\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\nexport function recievePlaylists() {\r\n  return (dispatch, getState) => {\r\n    dispatch(requestPlaylists());\r\n    getPlaylists().then((data) => {\r\n      let tracksArr = [];\r\n      let length = data.data.playlists.length;\r\n      let playlists = data.data.playlists;\r\n      let tracksObj = {};\r\n      let allTracksObj = {};\r\n      let playlistObj = {};\r\n      playlists.forEach((playlist) => {\r\n        playlist.tracks = [];\r\n        playlistObj[playlist.id] = playlist;\r\n      });\r\n      dispatch({\r\n        byIds: playlistObj,\r\n        type: RECIEVE_PLAYLISTS,\r\n        allIds: Object.keys(playlistObj),\r\n      });\r\n      for (let i = 0; i < length; i++) {\r\n        tracksArr.push(getPlayListTracks(playlists[i].id));\r\n      }\r\n      Promise.all(tracksArr).then((trackData) => {\r\n        let playlistIds = [];\r\n        let length = trackData.length;\r\n        let toArr = {};\r\n        let trackIds = [];\r\n        let pageInfo = {};\r\n        for (let i = 0; i < length; i++) {\r\n          let itemLength = trackData[i].data.items.length;\r\n          playlistIds.push(trackData[i].data.playlistId);\r\n          pageInfo[trackData[i].data.playlistId] = trackData[i].data.page;\r\n          for (let j = 0; j < itemLength; j++) {\r\n            let track = trackData[i].data.items[j];\r\n            trackIds.push(track.uid);\r\n            allTracksObj[track.uid] = track;\r\n            track[\"playlistid\"] = trackData[i].data.playlistId;\r\n            tracksObj[track.uid] = track;\r\n            if (!toArr[trackData[i].data.playlistId]) {\r\n              toArr[trackData[i].data.playlistId] = [track.uid];\r\n            } else {\r\n              toArr[trackData[i].data.playlistId] = [\r\n                ...toArr[trackData[i].data.playlistId],\r\n                track.uid,\r\n              ];\r\n            }\r\n          }\r\n        }\r\n        dispatch({\r\n          pageInfo,\r\n          allTracksObj,\r\n          trackIds: trackIds,\r\n          tracks: toArr,\r\n          playlists: playlistIds,\r\n          type: RECIEVE_PLAYLIST_TRACKS,\r\n          allIds: Object.keys(playlistObj),\r\n        });\r\n      });\r\n    });\r\n  };\r\n}\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useMemo,\r\n} from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getColor } from \"./colorMatch\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport PlaylistTracks from \"./PlaylistTracks\";\r\nimport { getTracksScroll } from \"./spotify-redux/actions/playlistActions\";\r\nimport style from \"./styles/singlePlaylist.module.scss\";\r\nconst SinglePlaylist = (props) => {\r\n  const [mainColor, setMainColor] = useState();\r\n  const [playlist, setPlaylist] = useState();\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const getTracksRef = useRef();\r\n  const testRef = useRef();\r\n  testRef.current = 3;\r\n  const currentPlayList = props.playlist[params.id];\r\n  useEffect(() => {\r\n    setPlaylist(currentPlayList);\r\n    if (currentPlayList && currentPlayList.images[0]) {\r\n      let myImage = new Image();\r\n      myImage.src = currentPlayList.images[0].url;\r\n      myImage.crossOrigin = \"\";\r\n      myImage.onload = function () {\r\n        let rgb = getColor(myImage);\r\n        let formatted = rgb;\r\n        setMainColor(formatted);\r\n      };\r\n    }\r\n    props.findCurrentPlaylist(params.id);\r\n  }, [currentPlayList]);\r\n  const handleFetchScroll = (e) => {\r\n    if (currentPlayList.page.next) {\r\n      let tracks = getTracks.map((item) => {\r\n        return {\r\n          trackid: item.track.uid,\r\n          playlistid: item.playlist.id,\r\n          index: item.track.index,\r\n          uri: item.track.uri,\r\n        };\r\n      });\r\n      const next = currentPlayList.page.next;\r\n      const url = new URL(next);\r\n      const query = new URLSearchParams(url.search);\r\n      const mainOffSet = query.get(\"offset\");\r\n      let scrollPos = Math.round(e.target.scrollHeight - e.target.scrollTop);\r\n      let clientHeight = e.target.clientHeight;\r\n      if (\r\n        scrollPos === clientHeight &&\r\n        currentPlayList.page.offset < currentPlayList.page.total &&\r\n        currentPlayList.page.next\r\n      ) {\r\n        props.handleCheckAll(tracks, currentPlayList.id, true);\r\n        if (\r\n          currentPlayList &&\r\n          currentPlayList.page.offset < currentPlayList.page.total &&\r\n          currentPlayList.page.next\r\n        ) {\r\n          dispatch(getTracksScroll(currentPlayList, mainOffSet));\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const handleCheckAll = useCallback(() => {\r\n    let tracks = getTracks.map((item) => {\r\n      return {\r\n        trackid: item.track.uid,\r\n        playlistid: item.playlist.id,\r\n        index: item.track.index,\r\n        uri: item.track.uri,\r\n      };\r\n    });\r\n    props.handleCheckAll(tracks, currentPlayList.id);\r\n  }, [currentPlayList]);\r\n  useEffect(() => {\r\n    let scrollContainer = document.getElementById(\"scroll-container\");\r\n    if (scrollContainer) {\r\n      scrollContainer.addEventListener(\"scroll\", handleFetchScroll);\r\n    }\r\n    return () => {\r\n      scrollContainer.removeEventListener(\"scroll\", handleFetchScroll);\r\n    };\r\n  }, [playlist]);\r\n  let getTracks = [];\r\n  if (currentPlayList) {\r\n    getTracks = currentPlayList.tracks.reduce((arr, id) => {\r\n      let obj = {};\r\n      obj[\"playlist\"] = currentPlayList;\r\n      obj[\"track\"] = props.allTracks[id];\r\n      obj[\"uid\"] = props.allTracks[id].uid;\r\n      if (obj.track.name.length > 0) {\r\n        arr.push(obj);\r\n      }\r\n      return arr;\r\n    }, []);\r\n  }\r\n  const tracksMem = useMemo(() => {\r\n    getTracks.filter((track) => {\r\n      let findDeleted = props.deletedArr.find((obj) => {\r\n        return obj.trackid === track.track.uid;\r\n      });\r\n      if (!findDeleted) {\r\n        return track;\r\n      }\r\n    });\r\n    return getTracks;\r\n  }, [getTracks.length]);\r\n  if (\r\n    !currentPlayList ||\r\n    !currentPlayList.tracks.length > 0 ||\r\n    currentPlayList.length <= 0 ||\r\n    !currentPlayList.images[0] ||\r\n    !props.allTracks\r\n  ) {\r\n    return null;\r\n  }\r\n  let checkAllFiltered = getTracks.filter((track) => {\r\n    let findId = props.selected.find((item) => {\r\n      return item.trackid === track.track.uid;\r\n    });\r\n    if (!findId) {\r\n      return track;\r\n    }\r\n  });\r\n  const isSelected = (trackId) => {\r\n    const findId = props.selected.some((set) => {\r\n      return set.trackid === trackId;\r\n    });\r\n    return findId;\r\n  };\r\n  return (\r\n    <div\r\n      className={\r\n        style[props.searchArr && props.searchText > 0 ? \"inactive\" : \"wrapper\"]\r\n      }\r\n    >\r\n      <div className={style[\"header-container\"]}>\r\n        <div\r\n          style={{\r\n            background: mainColor ? mainColor.formattedMain : \"transparent\",\r\n          }}\r\n          className={style[\"album-cover-container\"]}\r\n        >\r\n          <img\r\n            id=\"playlistImage\"\r\n            className={style[\"album-cover\"]}\r\n            src={currentPlayList.images[0].url}\r\n            alt=\"\"\r\n          />{\" \"}\r\n          <div className={style[\"album-mask\"]}></div>\r\n        </div>\r\n        <div className={style[\"playlist-info-container\"]}>\r\n          <h3 className={style[\"playlist-title\"]}>{currentPlayList.name}</h3>\r\n          <p className={style[\"playlist-creator\"]}>\r\n            Created By {currentPlayList.owner.display_name}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"tracks-container\"]}>\r\n        <div className={style[\"label-container\"]}>\r\n          <div className={style[\"label-check-container\"]}>\r\n            <p\r\n              style={{\r\n                display: checkAllFiltered.length === 0 ? \"none\" : \"block\",\r\n              }}\r\n              className={style[\"label-count\"]}\r\n            >\r\n              #\r\n            </p>\r\n            <CheckIcon\r\n              style={{\r\n                fill: checkAllFiltered.length === 0 ? \"#1db954\" : \"white\",\r\n                display: checkAllFiltered.length === 0 ? \"block\" : \"none\",\r\n              }}\r\n              onClick={handleCheckAll}\r\n              className={style[\"check-box\"]}\r\n            />\r\n          </div>\r\n          <div className={style[\"label-title\"]}>title</div>\r\n          <div className={style[\"label-album\"]}>album</div>\r\n          <div className={style[\"label-playlist\"]}>playlist</div>{\" \"}\r\n        </div>\r\n        <div className={style[\"item-wrapper\"]}>\r\n          {tracksMem.map((track, i) => {\r\n            if (track.track.name.length > 0) {\r\n              return (\r\n                <PlaylistTracks\r\n                  testArr={props.testArr}\r\n                  testRef={testRef}\r\n                  changed={tracksMem}\r\n                  key={track.uid}\r\n                  index={i}\r\n                  checkAll={props.selected.length > 0}\r\n                  isSelected={isSelected(track.uid)}\r\n                  getTracks={getTracksRef}\r\n                  deletedArr={props.deletedArr}\r\n                  selected={props.selected}\r\n                  handleCheckSelected={props.handleCheckSelected}\r\n                  playlistSet={track}\r\n                  imageSelection=\"album\"\r\n                />\r\n              );\r\n            }\r\n          })}{\" \"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SinglePlaylist;\r\n","import quantize from \"quantize\";\r\nexport const getPixelArray = (data, pixelCount, qual) => {\r\n  const pixels = data;\r\n  const pixelArr = [];\r\n  for (let i = 0, offset, r, g, b, a; i < pixelCount; i = i + qual) {\r\n    offset = i * 4;\r\n    r = pixels[offset + 0];\r\n    g = pixels[offset + 1];\r\n    b = pixels[offset + 2];\r\n    a = pixels[offset + 3];\r\n    if (typeof a === \"undefined\" || a >= 125) {\r\n      if (!(r > 250 && g > 250 && b > 250)) {\r\n        pixelArr.push([r, g, b]);\r\n      }\r\n    }\r\n  }\r\n  return pixelArr;\r\n};\r\nexport const getColor = (myImage) => {\r\n  let canvas = document.createElement(\"canvas\");\r\n  let context = canvas.getContext(\"2d\");\r\n  let width = (canvas.width = myImage.naturalWidth);\r\n  let height = (canvas.height = myImage.naturalHeight);\r\n  let pixelCount = width * height;\r\n  context.drawImage(myImage, 0, 0, width, height);\r\n  const getImageData = context.getImageData(0, 0, width, height);\r\n  let data = getImageData.data;\r\n  const pixelArr = getPixelArray(data, pixelCount, 10);\r\n  const cmap = quantize(pixelArr, 4);\r\n  const palette = cmap ? cmap.palette() : null;\r\n  const paletteObj = {};\r\n  paletteObj[\r\n    \"formattedMain\"\r\n  ] = `rgba(${palette[0][0]},${palette[0][1]},${palette[0][2]})`;\r\n  paletteObj[\r\n    \"formattedSecondary\"\r\n  ] = `rgba(${palette[1][0]},${palette[1][1]},${palette[1][2]})`;\r\n  return paletteObj;\r\n};\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, Switch, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { ReactComponent as AddIcon } from \"./images/add-icon.svg\";\r\nimport { ReactComponent as CheckIcon } from \"./images/check.svg\";\r\nimport { ReactComponent as SearchIcon } from \"./images/search.svg\";\r\nimport { ReactComponent as TrashIcon } from \"./images/trash.svg\";\r\nimport Playlist from \"./Playlist\";\r\nimport PlaylistAddModal from \"./PlaylistAddModal\";\r\nimport PlaylistDeleteModal from \"./PlaylistDeleteModal\";\r\nimport PlaylistTrack from \"./PlaylistTracks\";\r\nimport SinglePlaylist from \"./SinglePlaylist\";\r\nimport {\r\n  addTracksToPlaylists,\r\n  deleteTrackFromPlaylists,\r\n  recievePlaylists,\r\n} from \"./spotify-redux/actions/playlistActions\";\r\nimport style from \"./styles/playlistWrapper.module.scss\";\r\nexport function useFunction(callback) {\r\n  const ref = useRef();\r\n  ref.current = callback;\r\n  return useCallback(function () {\r\n    const callback = ref.current;\r\n    if (typeof callback === \"function\") {\r\n      return callback.apply(this, arguments);\r\n    }\r\n  }, []);\r\n}\r\nconst PlaylistWrapper = (props) => {\r\n  const location = useLocation();\r\n  const [selectedAllIds, setSelectedAllIds] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [currentPlaylist, setCurrentPlaylist] = useState();\r\n  const [searchArr, setSearchArr] = useState([]);\r\n  const [dropdown, setDropDown] = useState(false);\r\n  const [showDeletedModal, setShowDeletedModal] = useState(false);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [selected, setSelected] = useState([]);\r\n  const [, setRefresh] = useState(false);\r\n  const [testArr, setTestArr] = useState([]);\r\n  const [, setFilteredSearch] = useState([]);\r\n  const [deletedArr, setDeletedArr] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const closeDeletedModal = () => {\r\n    setShowDeletedModal(false);\r\n  };\r\n  let { path } = useRouteMatch();\r\n  let getPlaylists = useSelector((state) => {\r\n    return state.playlists.byIds;\r\n  });\r\n  let getAllTracks = useSelector((state) => {\r\n    return state.tracks.byIds;\r\n  });\r\n  const searchBarText = useSelector((state) => {\r\n    return state.navbar.searchBar;\r\n  });\r\n  let getPlaylistsArr = Object.keys(getPlaylists).map((playlist) => {\r\n    return getPlaylists[playlist];\r\n  });\r\n  const findCurrentPlaylist = (id) => {\r\n    setCurrentPlaylist(id);\r\n  };\r\n  const handleCheckSelected = (trackid, playlistid, uri, allTracks, index) => {\r\n    setSelected((prev) => {\r\n      let searchArrCopy = [...searchArr];\r\n      let selectedArr = [...prev];\r\n      let selectedAllIdsCopy = [...selectedAllIds];\r\n      let obj = {};\r\n      obj[\"trackid\"] = trackid;\r\n      obj[\"playlistid\"] = playlistid;\r\n      obj[\"uri\"] = uri;\r\n      obj[\"index\"] = index;\r\n      const findId = selectedArr.find((obj) => {\r\n        return obj.trackid === trackid;\r\n      });\r\n      const prevCopy = [...prev];\r\n      if (!findId) {\r\n        prevCopy.push(obj);\r\n        let getTracks = allTracks;\r\n      } else {\r\n        let index = prevCopy.findIndex((obj) => {\r\n          return obj.trackid === trackid;\r\n        });\r\n        if (selectedAllIdsCopy.includes(playlistid)) {\r\n          let playlistIndex = selectedAllIdsCopy.indexOf(playlistid);\r\n          selectedAllIdsCopy.splice(playlistIndex, 1);\r\n        } else if (selectedAllIdsCopy.includes(\"search\")) {\r\n          let playlistIndex = selectedAllIdsCopy.indexOf(\"search\");\r\n          selectedAllIdsCopy.splice(playlistIndex, 1);\r\n        }\r\n        prevCopy.splice(index, 1);\r\n      }\r\n      let checkAllFiltered = searchArrCopy.filter((track) => {\r\n        let findId = prevCopy.find((item) => {\r\n          return item.trackid === track.track.uid;\r\n        });\r\n        if (!findId) {\r\n          return track;\r\n        }\r\n      });\r\n      if (checkAllFiltered.length === 0) {\r\n        selectedAllIdsCopy.push(\"search\");\r\n      }\r\n      setSelectedAllIds(selectedAllIdsCopy);\r\n      return prevCopy;\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    dispatch(recievePlaylists());\r\n    setRefresh();\r\n  }, []);\r\n  useEffect(() => {\r\n    setSearchText(\"\");\r\n  }, [searchBarText]);\r\n  const clearDropDown = () => {\r\n    setDropDown(false);\r\n    setSelectedAllIds([]);\r\n    setSelected([]);\r\n  };\r\n  const openDeletedModal = () => {\r\n    setShowDeletedModal(!showDeletedModal);\r\n  };\r\n  const openAddModal = () => {\r\n    setShowAddModal(true);\r\n  };\r\n  useEffect(() => {\r\n    if (selected.length > 0) {\r\n      setDropDown(true);\r\n    } else {\r\n      setDropDown(false);\r\n    }\r\n  }, []);\r\n  const handleChange = (e) => {\r\n    let tempArr = [];\r\n    setSearchText(\"\");\r\n    setSelected([]);\r\n    let arrToSearch;\r\n    let text = e.target.value.trim();\r\n    const whitespace = /\\s/g;\r\n    let searchComp;\r\n    text = text.replace(whitespace, \"\");\r\n    const regex = new RegExp(\"^\" + text, \"gi\");\r\n    if (location.pathname !== \"/playlists\") {\r\n      arrToSearch = getPlaylistsArr.find((playlist) => {\r\n        return playlist.id === currentPlaylist;\r\n      });\r\n      searchComp = arrToSearch.tracks.reduce((arr, item) => {\r\n        let track = getAllTracks[item];\r\n        let name = track.name;\r\n        if (regex.test(name.trim()) && text.length > 0) {\r\n          arr.push({\r\n            track: track,\r\n            playlist: arrToSearch,\r\n            uid: uuidv4(),\r\n          });\r\n        }\r\n        return arr;\r\n      }, []);\r\n    } else {\r\n      let allTracks = getPlaylistsArr.reduce((arr, playlist) => {\r\n        let tracksArr = playlist.tracks;\r\n        tracksArr.reduce((arrNest, trackNest) => {\r\n          arr.push({\r\n            ...getAllTracks[trackNest],\r\n            playlist: playlist,\r\n          });\r\n        }, []);\r\n        return arr;\r\n      }, []);\r\n      searchComp = allTracks.reduce((arr, track) => {\r\n        let name = track.name;\r\n        if (regex.test(name.trim()) && text.length > 0) {\r\n          arr.push({\r\n            track: track,\r\n            playlist: track.playlist,\r\n            uid: uuidv4(),\r\n          });\r\n        }\r\n        return arr;\r\n      }, []);\r\n    }\r\n    setSearchText(e.target.value);\r\n    setSearchArr(searchComp);\r\n    setFilteredSearch(() => {\r\n      let obj = {};\r\n      for (let i = 0; i < tempArr.length; i++) {\r\n        if (obj[tempArr[i].playlist.id]) {\r\n          obj[tempArr[i].playlist.id].push(tempArr[i].track);\r\n        } else {\r\n          obj[tempArr[i].playlist.id] = [tempArr[i].track];\r\n        }\r\n      }\r\n      let keys = Object.keys(obj);\r\n      let toArray = keys.map((id) => {\r\n        return getPlaylists[id];\r\n      });\r\n      return toArray;\r\n    });\r\n  };\r\n  const handleDelete = () => {\r\n    const copy = [...deletedArr];\r\n    let filteredselected = selected.filter((set) => {\r\n      let playlistToCheck = getPlaylists[set.playlistid];\r\n      if (playlistToCheck.owner.display_name !== \"Spotify\") {\r\n        return set;\r\n      }\r\n    });\r\n    let deleted = copy.concat(filteredselected);\r\n    dispatch(deleteTrackFromPlaylists(filteredselected)).then((status) => {\r\n      if (status.status === 200 || typeof status === \"string\") {\r\n        setDeletedArr(deleted);\r\n        setShowDeletedModal(false);\r\n        setDropDown(false);\r\n        setSelected([]);\r\n      }\r\n    });\r\n  };\r\n  const handleAdd = useCallback(\r\n    (playlists) => {\r\n      dispatch(addTracksToPlaylists(playlists, selected)).then((status) => {\r\n        if (status === 200) {\r\n          setShowAddModal(false);\r\n          setDropDown(false);\r\n          setSelected([]);\r\n          setSelectedAllIds([]);\r\n        }\r\n      });\r\n    },\r\n    [selected]\r\n  );\r\n  const closeAddModal = useCallback(() => {\r\n    setShowAddModal(false);\r\n  }, [selected]);\r\n  const handleCheckAll = (tracks, playlistId, scroll) => {\r\n    tracks =\r\n      playlistId === \"search\"\r\n        ? (tracks = tracks.map((track) => {\r\n            return {\r\n              trackid: track.track.uid,\r\n              playlistid: track.playlist.id,\r\n              uri: track.track.uri,\r\n            };\r\n          }))\r\n        : tracks;\r\n    setSelectedAllIds((prev) => {\r\n      let copyAll = [...prev];\r\n      let copySelected = [...selected];\r\n      let index = copyAll.indexOf(playlistId);\r\n      let filteredArr = [];\r\n      if (!copyAll.includes(playlistId) && !scroll) {\r\n        filteredArr.push(...tracks);\r\n        copyAll.push(playlistId);\r\n        setSelected(() => {\r\n          return filteredArr;\r\n        });\r\n      } else if (copyAll.includes(playlistId) && !scroll) {\r\n        filteredArr = copySelected.filter((item) => {\r\n          return item.playlistid !== playlistId;\r\n        });\r\n        copyAll.splice(index, 1);\r\n        setSelected(() => {\r\n          return [];\r\n        });\r\n      } else if (copyAll.includes(playlistId) && scroll) {\r\n        copyAll.splice(index, 1);\r\n        setSelected((prev) => {\r\n          return prev;\r\n        });\r\n      }\r\n      return copyAll;\r\n    });\r\n  };\r\n  if (!getPlaylistsArr) {\r\n    return null;\r\n  }\r\n  let filteredSearchArr = searchArr.filter((track) => {\r\n    let findDeleted = deletedArr.find((obj) => {\r\n      return obj.trackid === track.track.uid;\r\n    });\r\n    if (!findDeleted) {\r\n      return track;\r\n    }\r\n  });\r\n  const isSelected = (trackId) => {\r\n    const findId = selected.some((set) => {\r\n      return set.trackid === trackId;\r\n    });\r\n    return findId;\r\n  };\r\n  return (\r\n    <div id=\"scroll-container\" className={style[\"container-container\"]}>\r\n      <div className={style[\"header-container\"]}>\r\n        <div\r\n          className={\r\n            style[selected.length > 0 ? \"options-container\" : \"inactive\"]\r\n          }\r\n        >\r\n          <div\r\n            className={\r\n              style[\r\n                dropdown || selected.length > 0\r\n                  ? \"drop-down-container\"\r\n                  : \"inactive\"\r\n              ]\r\n            }\r\n          >\r\n            <div className={style[\"drop-down-content\"]}>\r\n              <div className={style[\"drop-down-left-container\"]}>\r\n                <div\r\n                  onClick={clearDropDown}\r\n                  className={style[\"cancel-icon-container\"]}\r\n                >\r\n                  <span className={style[\"main-trigger-icon-container\"]}>\r\n                    <i className={style[\"main-trigger-icon\"]}></i>\r\n                  </span>\r\n                </div>\r\n                <p className={style[\"selected-count\"]}>\r\n                  Selected {selected.length}\r\n                </p>\r\n              </div>\r\n              <div className={style[\"main-options-icons\"]}>\r\n                <TrashIcon\r\n                  onClick={openDeletedModal}\r\n                  className={style[\"trash-icon\"]}\r\n                />\r\n                <AddIcon\r\n                  onClick={openAddModal}\r\n                  className={style[\"add-icon-container\"]}\r\n                ></AddIcon>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={\r\n            style[selected.length > 0 ? \"inactive\" : \"title-options-container\"]\r\n          }\r\n        >\r\n          <div\r\n            className={\r\n              style[selected.length > 0 ? \"inactive\" : \"title-container\"]\r\n            }\r\n          >\r\n            <p className={style[\"title-text\"]}>Playlists</p>\r\n            <div\r\n              className={\r\n                style[\r\n                  Object.keys(getAllTracks).length > 0\r\n                    ? \"input-container\"\r\n                    : \"inactive\"\r\n                ]\r\n              }\r\n            >\r\n              <input\r\n                onChange={handleChange}\r\n                value={searchText}\r\n                className={style[\"input-searchbar\"]}\r\n                type=\"text\"\r\n                name=\"\"\r\n                id=\"\"\r\n              />\r\n              <div className={style[\"input-content-container\"]}>\r\n                <SearchIcon className={style[\"search-icon\"]} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={style[\"wrapper\"]}>\r\n        <div>\r\n          <PlaylistDeleteModal\r\n            showModal={showDeletedModal}\r\n            handleDelete={handleDelete}\r\n            closeModal={closeDeletedModal}\r\n          />\r\n          <PlaylistAddModal\r\n            current_user={props.current_user}\r\n            playlist={getPlaylistsArr}\r\n            showModal={showAddModal}\r\n            selected={selected}\r\n            handleAdd={handleAdd}\r\n            closeModal={closeAddModal}\r\n          />\r\n          <div className={style[\"container\"]}>\r\n            <div\r\n              className={\r\n                style[\r\n                  location.pathname === \"/playlists\"\r\n                    ? \"search-results-container\"\r\n                    : \"inactive\"\r\n                ]\r\n              }\r\n            >\r\n              <div\r\n                className={\r\n                  style[\r\n                    searchArr.length > 0 && searchText.length > 0\r\n                      ? \"inactive\"\r\n                      : \"item-container\"\r\n                  ]\r\n                }\r\n              >\r\n                {getPlaylistsArr.map((item) => {\r\n                  return <Playlist key={item.id} playlist={item} />;\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={\r\n                style[\r\n                  searchArr.length > 0 && searchText.length > 0\r\n                    ? \"tracks-container\"\r\n                    : \"inactive\"\r\n                ]\r\n              }\r\n            >\r\n              <div className={style[\"label-container\"]}>\r\n                <div className={style[\"label-check-container\"]}>\r\n                  <CheckIcon\r\n                    style={{\r\n                      fill: selectedAllIds.includes(\"search\")\r\n                        ? \"#1db954\"\r\n                        : \"white\",\r\n                      display: selectedAllIds.includes(\"search\")\r\n                        ? \"block\"\r\n                        : \"none\",\r\n                    }}\r\n                    onClick={() => {\r\n                      handleCheckAll(searchArr, \"search\", false);\r\n                    }}\r\n                    className={style[\"check-box\"]}\r\n                  />\r\n                  <li\r\n                    style={{\r\n                      display: selectedAllIds.includes(\"search\")\r\n                        ? \"none\"\r\n                        : \"block\",\r\n                    }}\r\n                    className={style[\"label-count\"]}\r\n                  >\r\n                    #\r\n                  </li>\r\n                </div>\r\n                <li className={style[\"label-title\"]}>title</li>\r\n                <li className={style[\"label-album\"]}>album</li>\r\n                <li className={style[\"label-playlist\"]}>playlist</li>{\" \"}\r\n              </div>\r\n              <div className={style[\"item-wrapper\"]}>\r\n                {filteredSearchArr.map((track, i) => {\r\n                  return (\r\n                    <PlaylistTrack\r\n                      checkAll={selected.length > 0}\r\n                      isSelected={isSelected(track.track.uid)}\r\n                      searchArr={searchArr}\r\n                      deletedArr={deletedArr}\r\n                      key={track.track && track.track.uid + track.playlist.uid}\r\n                      handleCheckSelected={handleCheckSelected}\r\n                      playlistSet={track}\r\n                      selected={selected}\r\n                      index={i}\r\n                    ></PlaylistTrack>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Switch>\r\n          <Route path={`${path}/:id`}>\r\n            <SinglePlaylist\r\n              testArr={testArr}\r\n              selectedAllIds={selectedAllIds}\r\n              handleCheckAll={handleCheckAll}\r\n              deletedArr={deletedArr}\r\n              searchText={searchText.length}\r\n              searchArr={searchArr.length}\r\n              findCurrentPlaylist={findCurrentPlaylist}\r\n              handleCheckSelected={handleCheckSelected}\r\n              playlist={getPlaylists}\r\n              selected={selected}\r\n              allTracks={getAllTracks}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </div>{\" \"}\r\n    </div>\r\n  );\r\n};\r\nexport default PlaylistWrapper;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport Navbar from \"./Navbar\";\r\nimport PlaylistWrapper from \"./PlaylistWrapper\";\r\nimport {\r\n  getAccessToken,\r\n  getUserInfoAction,\r\n  loginCheck,\r\n} from \"./spotify-redux/actions/userActions\";\r\nimport style from \"./styles/wrapper.module.scss\";\r\nfunction App() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector((state) => {\r\n    return state.current_user;\r\n  });\r\n  useEffect(() => {\r\n    const scopes = `user-read-private user-read-email playlist-read-private playlist-modify-private user-top-read user-read-recently-played playlist-modify-public`;\r\n    const url_object = new URL(window.location);\r\n    const token = url_object.search;\r\n    let tokenSplit = token.split(\"=\");\r\n    let decodedToken = tokenSplit[1];\r\n    loginCheck()\r\n      .then(() => {\r\n        dispatch(getUserInfoAction());\r\n      })\r\n      .catch(() => {\r\n        if (decodedToken) {\r\n          dispatch(getAccessToken(decodedToken)).then(() => {\r\n            history.push(\"/\");\r\n            dispatch(getUserInfoAction());\r\n          });\r\n        } else {\r\n          window.location.href = `https://accounts.spotify.com/authorize?client_id=da42a01c50ef409f802caf63a98de4d4&response_type=code&redirect_uri=https://pacific-reef-15984.herokuapp.com/&scope=${encodeURIComponent(\r\n            scopes\r\n          )}&show_dialog=true`;\r\n        }\r\n      });\r\n  }, []);\r\n  if (!currentUser.userInfo) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={style.container}>\r\n      <Navbar />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Home></Home>\r\n        </Route>{\" \"}\r\n        <Route path=\"/playlists\">\r\n          <PlaylistWrapper current_user={currentUser}></PlaylistWrapper>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n  REQUEST_TOP_TRACKS,\r\n  RECIEVE_TOP_TRACKS,\r\n  REQUEST_PLAYLISTS,\r\n  RECIEVE_PLAYLISTS,\r\n  RECIEVE_RECENT_TRACKS,\r\n  REQUEST_RECENT_TRACKS,\r\n  NAVBAR_LINK_CLICKED,\r\n  LOGIN_REQUEST,\r\n  ACCESS_TOKEN_RECIEVED,\r\n  USER_INFO_SUCCESS,\r\n  LOG_OUT,\r\n  ADD_TRACK_REQUEST,\r\n  ADD_TRACK_SUCCESS,\r\n  RECIEVE_TRACKS,\r\n  RECIEVE_PLAYLIST_TRACKS,\r\n  REQUEST_TRACKS,\r\n  DELETE_TRACK_SUCCESS,\r\n  GET_SINGLE_PLAYLIST,\r\n} from \"../types/types\";\r\nimport {} from \"../actions/trackActions\";\r\nfunction addTracksTrack(state, action) {\r\n  const stateCopy = { ...state };\r\n  stateCopy.byIds = {\r\n    ...stateCopy.byIds,\r\n    ...action.trackObjs,\r\n  };\r\n  return stateCopy;\r\n}\r\nfunction deleteTrackFunc(state, action) {\r\n  return {\r\n    ...state,\r\n    byIds: {\r\n      ...action.filteredObj,\r\n    },\r\n  };\r\n}\r\nfunction tracks(\r\n  state = {\r\n    isFetching: false,\r\n    err: null,\r\n    status: \"idle\",\r\n    top_tracks: {},\r\n    recent_tracks: {},\r\n    allIds: [],\r\n    cursor: null,\r\n    byIds: {},\r\n    tracks: {},\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DELETE_TRACK_SUCCESS:\r\n      return deleteTrackFunc(state, action);\r\n    case RECIEVE_TRACKS:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.tracks,\r\n        },\r\n      });\r\n    case ADD_TRACK_SUCCESS:\r\n      return addTracksTrack(state, action);\r\n    case RECIEVE_PLAYLIST_TRACKS:\r\n      return Object.assign({}, state, {\r\n        allIds: [...action.trackIds],\r\n        byIds: {\r\n          ...state.byIds,\r\n          ...action.allTracksObj,\r\n        },\r\n      });\r\n    case REQUEST_TOP_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case REQUEST_RECENT_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case RECIEVE_TOP_TRACKS:\r\n      return Object.assign({}, state, {\r\n        top_tracks: action.top_tracks,\r\n        isFetching: false,\r\n        byIds: { ...state.byIds, ...action.byIds },\r\n      });\r\n    case RECIEVE_RECENT_TRACKS:\r\n      return Object.assign({}, state, {\r\n        recent_tracks: { ...state.recent_tracks, ...action.recent_tracks },\r\n        cursor: action.cursors,\r\n        isFetching: false,\r\n        byIds: { ...state.byIds, ...action.byIds },\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction addTracks(state, action) {\r\n  const { playlists, tracksToAdd } = action;\r\n  let obj = { ...state };\r\n  for (let i of playlists) {\r\n    obj.byIds[i].tracks = [...obj.byIds[i].tracks, ...tracksToAdd];\r\n  }\r\n  return obj;\r\n}\r\nfunction deleteTrackPlaylist(state, action) {\r\n  let obj = { ...state };\r\n  for (let item of action.items) {\r\n    obj.byIds[item.playlistid].tracks = obj.byIds[\r\n      item.playlistid\r\n    ].tracks.filter((id) => {\r\n      if (id !== item.trackid) {\r\n        return id;\r\n      }\r\n    });\r\n  }\r\n  return obj;\r\n}\r\nfunction recievePlaylistTracks(state, action) {\r\n  const tracksObj = action.tracks;\r\n  const pageInfo = action.pageInfo;\r\n  for (let key in tracksObj) {\r\n    state = {\r\n      ...state,\r\n      byIds: {\r\n        ...state.byIds,\r\n        [key]: {\r\n          ...state.byIds[key],\r\n          tracks: [...tracksObj[key]],\r\n          page: {\r\n            ...state.byIds[key].page,\r\n            ...pageInfo[key],\r\n          },\r\n        },\r\n      },\r\n    };\r\n  }\r\n  return state;\r\n}\r\nfunction playlists(\r\n  state = {\r\n    byIds: {},\r\n    allIds: [],\r\n    isFetching: false,\r\n    err: null,\r\n    status: \"idle\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DELETE_TRACK_SUCCESS:\r\n      return deleteTrackPlaylist(state, action);\r\n    case REQUEST_TRACKS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n        status: \"fetching\",\r\n      });\r\n    case GET_SINGLE_PLAYLIST:\r\n      return Object.assign({}, state, {\r\n        byIds: {\r\n          ...state.byIds,\r\n          [action.data.id]: { ...action.data },\r\n        },\r\n        allIds: [...state.allIds, action.data.id],\r\n      });\r\n    case RECIEVE_TRACKS:\r\n      return Object.assign({}, state, {\r\n        status: \"idle\",\r\n        byIds: {\r\n          ...state.byIds,\r\n          [action.playlist.id]: {\r\n            ...state.byIds[action.playlist.id],\r\n            offset:\r\n              state.byIds[action.playlist.id].tracks.length +\r\n              action.trackIds.length,\r\n            page: {\r\n              ...action.page,\r\n            },\r\n            tracks: [\r\n              ...state.byIds[action.playlist.id].tracks,\r\n              ...action.trackIds,\r\n            ],\r\n          },\r\n        },\r\n      });\r\n    case ADD_TRACK_REQUEST:\r\n      return {\r\n        ...state,\r\n      };\r\n    case RECIEVE_PLAYLIST_TRACKS:\r\n      return recievePlaylistTracks(state, action);\r\n    case ADD_TRACK_SUCCESS:\r\n      return addTracks(state, action);\r\n    case REQUEST_PLAYLISTS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n      });\r\n    case RECIEVE_PLAYLISTS:\r\n      return Object.assign({}, state, {\r\n        byIds: action.byIds,\r\n        allIds: action.allIds,\r\n        isFetching: false,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction navbar(\r\n  state = {\r\n    searchBar: false,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case NAVBAR_LINK_CLICKED:\r\n      return Object.assign({}, state, {\r\n        searchBar: action.clearSearch,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction current_user(\r\n  state = {\r\n    access_token: localStorage.getItem(\"access_token\"),\r\n    loggedIn: false,\r\n    isLoggingIn: false,\r\n    userInfo: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: true,\r\n        access_token: action.access_token,\r\n      });\r\n    case ACCESS_TOKEN_RECIEVED:\r\n      return Object.assign({}, state, {\r\n        access_token: action.access_token,\r\n      });\r\n    case LOG_OUT:\r\n      return Object.assign({}, state, {\r\n        access_token: null,\r\n        loggedIn: false,\r\n        isLoggingIn: false,\r\n        userInfo: null,\r\n      });\r\n    case USER_INFO_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        userInfo: action.user,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst rootReducer = combineReducers({\r\n  current_user,\r\n  tracks,\r\n  playlists,\r\n  navbar,\r\n});\r\nexport default rootReducer;\r\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport configureStore from \"./spotify-redux/store\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from \"react-router-dom\";\nconst store = configureStore();\nReactDOM.hydrate(\n  <Router>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./reducers/reducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nexport default function configureStore() {\r\n  const composeEnhancers = composeWithDevTools({ trace: true });\r\n  return createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunkMiddleware))\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"playlistAddModal_inactive__1ukjz\",\"container-mask\":\"playlistAddModal_container-mask__1NMK5\",\"container\":\"playlistAddModal_container__gvBzk\",\"header-container\":\"playlistAddModal_header-container__3b1gw\",\"cancel-icon-container\":\"playlistAddModal_cancel-icon-container__1rbim\",\"main-trigger-icon-container\":\"playlistAddModal_main-trigger-icon-container__29zyZ\",\"modal-title\":\"playlistAddModal_modal-title__2YH5Q\",\"playlist-container\":\"playlistAddModal_playlist-container__3lQV6\",\"playlist-item-container\":\"playlistAddModal_playlist-item-container__3eLQh\",\"playlist-item\":\"playlistAddModal_playlist-item__85gRG\",\"check-index-container\":\"playlistAddModal_check-index-container__BgaId\",\"check-icon\":\"playlistAddModal_check-icon__yNoII\",\"playlist-count\":\"playlistAddModal_playlist-count__ddftW\",\"check-icon-place\":\"playlistAddModal_check-icon-place__2w0nd\",\"button-container\":\"playlistAddModal_button-container__1tuIi\",\"cancel-button\":\"playlistAddModal_cancel-button__cofML\",\"delete-button\":\"playlistAddModal_delete-button__2AynG\"};"],"sourceRoot":""}