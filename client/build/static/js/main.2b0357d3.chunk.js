(this["webpackJsonpspotify-profile"]=this["webpackJsonpspotify-profile"]||[]).push([[0],{11:function(e,t,a){e.exports={inactive:"playlistAddModal_inactive__1ukjz","container-mask":"playlistAddModal_container-mask__1NMK5",container:"playlistAddModal_container__gvBzk","header-container":"playlistAddModal_header-container__3b1gw","cancel-icon-container":"playlistAddModal_cancel-icon-container__1rbim","main-trigger-icon-container":"playlistAddModal_main-trigger-icon-container__29zyZ","modal-title":"playlistAddModal_modal-title__2YH5Q","playlist-container":"playlistAddModal_playlist-container__3lQV6","playlist-item-container":"playlistAddModal_playlist-item-container__3eLQh","playlist-item":"playlistAddModal_playlist-item__85gRG","check-index-container":"playlistAddModal_check-index-container__BgaId","check-icon":"playlistAddModal_check-icon__yNoII","playlist-count":"playlistAddModal_playlist-count__ddftW","check-icon-place":"playlistAddModal_check-icon-place__2w0nd","button-container":"playlistAddModal_button-container__1tuIi","cancel-button":"playlistAddModal_cancel-button__cofML","delete-button":"playlistAddModal_delete-button__2AynG"}},12:function(e,t,a){e.exports={inactive:"playlisttracks_inactive__38Zbe","item-container":"playlisttracks_item-container__2A1L3","check-container":"playlisttracks_check-container__1CU1_","check-icon":"playlisttracks_check-icon__Fjull","track-count":"playlisttracks_track-count__OwUYF","check-count-container":"playlisttracks_check-count-container__13HqH","check-icon-place":"playlisttracks_check-icon-place__3meMX","track-count-container":"playlisttracks_track-count-container__3jS-d","item-title-container":"playlisttracks_item-title-container__SlBt_","album-image-container":"playlisttracks_album-image-container__2Zpwl","album-image":"playlisttracks_album-image__14t_Z","title-container":"playlisttracks_title-container__DKiHx","track-title-container":"playlisttracks_track-title-container__ehpzA","track-title":"playlisttracks_track-title__252a6","track-artist":"playlisttracks_track-artist__3-SXk","artist-name":"playlisttracks_artist-name__2wfvz","track-album-container":"playlisttracks_track-album-container__26h3K","track-album":"playlisttracks_track-album__abvD6","track-playlist-container":"playlisttracks_track-playlist-container__JLlQn","track-playlist":"playlisttracks_track-playlist__3UCMa"}},13:function(e,t,a){e.exports={"item-wrapper":"singlePlaylist_item-wrapper__1Ndsp",wrapper:"singlePlaylist_wrapper__3smAq","header-container":"singlePlaylist_header-container__3kRNj","album-cover-container":"singlePlaylist_album-cover-container__39iEV","album-cover":"singlePlaylist_album-cover__oYNWZ","album-mask":"singlePlaylist_album-mask__13o5R","playlist-info-container":"singlePlaylist_playlist-info-container__1aKG1","playlist-title":"singlePlaylist_playlist-title__1Wx71","playlist-creator":"singlePlaylist_playlist-creator__2GiqR",inactive:"singlePlaylist_inactive__1mmTD","tracks-container":"singlePlaylist_tracks-container__CNdsy","label-container":"singlePlaylist_label-container__3tBJj","label-check-container":"singlePlaylist_label-check-container__26SRK","label-count":"singlePlaylist_label-count__1fnoS","check-box":"singlePlaylist_check-box__3mZGW","track-count":"singlePlaylist_track-count__5OyIw","label-item":"singlePlaylist_label-item__2jap0","label-title":"singlePlaylist_label-title__2b3F4","label-album":"singlePlaylist_label-album__XkA98","label-playlist":"singlePlaylist_label-playlist__9NOB5","label-artist":"singlePlaylist_label-artist__38exh"}},14:function(e,t,a){e.exports={container:"Navbar_container__3wJQ9",content:"Navbar_content__2Db6D",logo:"Navbar_logo__jk-dN","menu-container":"Navbar_menu-container__2D5CH","menu-item":"Navbar_menu-item__3ndlx","playlist-icon":"Navbar_playlist-icon__31Niq","burger-input":"Navbar_burger-input__24utA","burger-label":"Navbar_burger-label__3KbcG","main-trigger-icon-container":"Navbar_main-trigger-icon-container__2JyYy","main-trigger-icon":"Navbar_main-trigger-icon__32rIc","navbar-mask":"Navbar_navbar-mask__30cer"}},21:function(e,t,a){e.exports={inactive:"playlistOptionsModal_inactive__3HWX9","container-mask":"playlistOptionsModal_container-mask__PYwTR",container:"playlistOptionsModal_container__1i1bA","modal-container":"playlistOptionsModal_modal-container__L3T2G","header-container":"playlistOptionsModal_header-container__2WjGd","cancel-icon-container":"playlistOptionsModal_cancel-icon-container__1cRDj","main-trigger-icon-container":"playlistOptionsModal_main-trigger-icon-container__ZjI0K","button-container":"playlistOptionsModal_button-container__3dpZK","cancel-button":"playlistOptionsModal_cancel-button__27tjm","delete-button":"playlistOptionsModal_delete-button__1l_4T"}},22:function(e,t,a){e.exports={inactive:"playlist_inactive__zNP4O","playlist-container":"playlist_playlist-container__3hMve","playlist-content":"playlist_playlist-content__1-WlW","fallback-image-container":"playlist_fallback-image-container__1dG9F","playlist-image-container":"playlist_playlist-image-container__3l9F7","playlist-image":"playlist_playlist-image__2y3tW","description-container":"playlist_description-container__3dYli","playlist-title":"playlist_playlist-title__2LCMJ","playlist-description":"playlist_playlist-description__N-adY"}},25:function(e,t,a){e.exports={"track-container":"track_track-container__19w3l","album-cover-container":"track_album-cover-container__Y7P2L","album-cover":"track_album-cover__816PU","info-container":"track_info-container__nZlmV","album-title":"track_album-title__38wDc","track-title":"track_track-title__15gdH"}},4:function(e,t,a){e.exports={inactive:"playlistWrapper_inactive__S6c6O","label-container":"playlistWrapper_label-container__3d7s7","label-item":"playlistWrapper_label-item__1WvPI","label-title":"playlistWrapper_label-title__f8RMt","label-album":"playlistWrapper_label-album__1i2_W","label-playlist":"playlistWrapper_label-playlist__1NS48","label-check-container":"playlistWrapper_label-check-container__2xl-X","item-wrapper":"playlistWrapper_item-wrapper__J_aFI","options-container":"playlistWrapper_options-container__2O909","hide-drop-down":"playlistWrapper_hide-drop-down__3UsxC","drop-down-container":"playlistWrapper_drop-down-container__2jxgJ","drop-down-left-container":"playlistWrapper_drop-down-left-container__-9L4f","drop-down-content":"playlistWrapper_drop-down-content__1BHMZ","selected-count":"playlistWrapper_selected-count__2C-yL","cancel-icon-container":"playlistWrapper_cancel-icon-container__2zV8Q","main-trigger-icon-container":"playlistWrapper_main-trigger-icon-container__AdE4w","main-options-icons":"playlistWrapper_main-options-icons__2CIdG","add-icon-container":"playlistWrapper_add-icon-container__39hUK","container-container":"playlistWrapper_container-container__3v2ZE",wrapper:"playlistWrapper_wrapper__TS0Ka",container:"playlistWrapper_container__3RoNr","item-container":"playlistWrapper_item-container__2F-o-","title-text":"playlistWrapper_title-text__2_HIZ","playlist-content":"playlistWrapper_playlist-content__1GlNm","playlist-container":"playlistWrapper_playlist-container__mXSsD","fallback-image-container":"playlistWrapper_fallback-image-container__1NJXi","playlist-image-container":"playlistWrapper_playlist-image-container__1IYgr","playlist-image":"playlistWrapper_playlist-image__23YjI","description-container":"playlistWrapper_description-container__28JKe","playlist-title":"playlistWrapper_playlist-title__hKktu","playlist-description":"playlistWrapper_playlist-description__3fj_3","header-container":"playlistWrapper_header-container__2iUq6","title-options-container":"playlistWrapper_title-options-container__3Txju","title-container":"playlistWrapper_title-container__39wTA","input-container":"playlistWrapper_input-container__1b3NW","input-searchbar":"playlistWrapper_input-searchbar__2AcQV","input-content-container":"playlistWrapper_input-content-container__2G4AR","search-icon":"playlistWrapper_search-icon__1v8RW","track-count":"playlistWrapper_track-count__2-okV","tracks-container":"playlistWrapper_tracks-container__1ghaJ","label-count":"playlistWrapper_label-count__1Qvft","check-box":"playlistWrapper_check-box__3v15L","label-artist":"playlistWrapper_label-artist__2RZ75"}},49:function(e,t,a){e.exports={test:"trackInfo_test__3sU5S"}},50:function(e,t,a){e.exports={container:"wrapper_container__1aLqH"}},8:function(e,t,a){e.exports={inactive:"home_inactive__19yDr",container:"home_container__1APdC","dropdown-container":"home_dropdown-container__4--TS","user-container":"home_user-container__2MISo","user-dropdown-input":"home_user-dropdown-input__1q4x5","arrow-up":"home_arrow-up__2eopt","dropdown-content-container":"home_dropdown-content-container__30RYO","dropdown-button":"home_dropdown-button__17n6u","user-icon-header-container":"home_user-icon-header-container__3FHIU","user-icon-container":"home_user-icon-container__3E9bc","user-image-container":"home_user-image-container__2CQYn","user-image":"home_user-image__9LpmQ","user-displayName":"home_user-displayName__xJ9eM","arrow-container":"home_arrow-container__3hYlM","user-arrow-trigger":"home_user-arrow-trigger__2Rquj","user-icon-box":"home_user-icon-box__mCw_O","user-info-container":"home_user-info-container__scT1M","profile-picture-container":"home_profile-picture-container__p3wSC","profile-picture":"home_profile-picture__3uhE5","track-divisor-container":"home_track-divisor-container__1RJBs","top-tracks-container":"home_top-tracks-container__3zApe","recent-tracks-container":"home_recent-tracks-container__3GKig","top-tracks-title":"home_top-tracks-title__2QYBn","recently-played-title":"home_recently-played-title__13l2-","show-more-container":"home_show-more-container__3ieWu","showmore-input":"home_showmore-input__3T0R_","showmore-label":"home_showmore-label__1AiHY"}},87:function(e,t,a){"use strict";a.r(t);var n,c=a(31),i=a.n(c),r=a(7),l=a(3),s=a(1),o=a(14),d=a.n(o);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function b(e,t){var a=e.title,c=e.titleId,i=p(e,["title","titleId"]);return s.createElement("svg",u({viewBox:"0 0 63 20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMin meet",ref:t,"aria-labelledby":c},i),a?s.createElement("title",{id:c},a):null,n||(n=s.createElement("g",{className:"svelte-1gcdbl9"},s.createElement("path",{d:"M61.842 9.506a1.02 1.02 0 0 1-1.023-1.024c0-.562.453-1.03 1.029-1.03a1.02 1.02 0 0 1 1.023 1.024 1.03 1.03 0 0 1-1.029 1.03m.006-1.952a.915.915 0 0 0-.922.928c0 .51.394.921.916.921a.916.916 0 0 0 .922-.927.908.908 0 0 0-.916-.922m.226 1.027l.29.406h-.244l-.26-.372h-.225v.372h-.204V7.912h.48c.249 0 .413.128.413.343 0 .176-.102.284-.25.326m-.172-.485h-.267v.34h.267c.133 0 .212-.065.212-.17 0-.11-.08-.17-.212-.17m-12.804-3.52a1.043 1.043 0 1 0-.001 2.086 1.043 1.043 0 0 0 0-2.087m.72 2.89h-1.454a.107.107 0 0 0-.106.107v6.346c0 .06.047.107.106.107h1.455a.107.107 0 0 0 .107-.107V7.572a.107.107 0 0 0-.107-.107m3.233.006v-.2c0-.592.227-.856.736-.856.303 0 .546.06.82.152a.106.106 0 0 0 .14-.102V5.24a.107.107 0 0 0-.076-.102 3.993 3.993 0 0 0-1.21-.174c-1.343 0-2.053.757-2.053 2.188v.308h-.699a.107.107 0 0 0-.107.106v1.257c0 .059.048.107.107.107h.699v4.99c0 .058.047.106.106.106h1.455a.107.107 0 0 0 .106-.107v-4.99h1.358l2.081 4.99c-.236.523-.468.628-.785.628-.257 0-.527-.077-.803-.228a.109.109 0 0 0-.084-.008.106.106 0 0 0-.063.058l-.493 1.081a.106.106 0 0 0 .045.138c.515.279.98.398 1.554.398 1.074 0 1.668-.5 2.191-1.847L60.6 7.617a.106.106 0 0 0-.099-.146h-1.514a.107.107 0 0 0-.1.072l-1.552 4.431-1.7-4.434a.106.106 0 0 0-.099-.069h-2.485m-5.577-.006h-1.6V5.828a.106.106 0 0 0-.107-.106h-1.455a.107.107 0 0 0-.106.106v1.637h-.7a.106.106 0 0 0-.106.107v1.25c0 .059.048.107.106.107h.7v3.234c0 1.308.65 1.97 1.934 1.97.522 0 .954-.107 1.362-.338a.106.106 0 0 0 .054-.093v-1.19a.106.106 0 0 0-.154-.096c-.28.141-.551.206-.854.206-.467 0-.675-.211-.675-.686V8.929h1.6a.106.106 0 0 0 .107-.107v-1.25a.106.106 0 0 0-.106-.107m-7.671-.133c-1.96 0-3.497 1.51-3.497 3.437 0 1.907 1.526 3.4 3.473 3.4 1.967 0 3.508-1.504 3.508-3.424 0-1.914-1.53-3.413-3.484-3.413m0 5.362c-1.043 0-1.83-.838-1.83-1.95 0-1.115.76-1.924 1.806-1.924 1.05 0 1.84.838 1.84 1.95 0 1.115-.763 1.924-1.816 1.924m-7.014-5.362c-.82 0-1.492.323-2.046.984v-.744a.107.107 0 0 0-.106-.107h-1.455a.107.107 0 0 0-.106.107v8.27c0 .058.048.106.106.106h1.455a.107.107 0 0 0 .106-.106v-2.61c.555.621 1.227.925 2.046.925 1.522 0 3.063-1.172 3.063-3.412s-1.54-3.413-3.063-3.413m1.372 3.413c0 1.14-.703 1.937-1.709 1.937-.995 0-1.745-.833-1.745-1.937s.75-1.937 1.745-1.937c.99 0 1.71.814 1.71 1.937m-8.437-1.81c-1.624-.388-1.913-.66-1.913-1.231 0-.54.508-.903 1.264-.903.732 0 1.459.275 2.22.843a.107.107 0 0 0 .15-.023l.794-1.119a.107.107 0 0 0-.02-.144c-.906-.728-1.927-1.081-3.12-1.081-1.755 0-2.98 1.052-2.98 2.559 0 1.615 1.057 2.187 2.884 2.628 1.554.358 1.817.658 1.817 1.195 0 .594-.53.963-1.385.963-.948 0-1.721-.32-2.587-1.068a.11.11 0 0 0-.078-.026.105.105 0 0 0-.073.038l-.89 1.058a.105.105 0 0 0 .011.148 5.303 5.303 0 0 0 3.581 1.373c1.89 0 3.112-1.033 3.112-2.631 0-1.351-.807-2.098-2.787-2.58M9.507.305a9.41 9.41 0 1 0 0 18.82 9.41 9.41 0 0 0 0-18.82m4.316 13.572a.586.586 0 0 1-.807.195c-2.21-1.35-4.99-1.655-8.266-.907a.586.586 0 1 1-.261-1.143c3.584-.82 6.659-.467 9.139 1.049.276.169.363.53.195.806m1.15-2.562a.734.734 0 0 1-1.008.242c-2.529-1.555-6.385-2.005-9.377-1.097a.735.735 0 0 1-.426-1.404c3.418-1.037 7.666-.534 10.57 1.25a.734.734 0 0 1 .242 1.01m.1-2.669C12.04 6.846 7.036 6.68 4.141 7.56a.88.88 0 1 1-.511-1.684c3.323-1.01 8.849-.814 12.34 1.258a.88.88 0 0 1-.898 1.514"}))))}var j,h,m=s.forwardRef(b);a.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function y(e,t){var a=e.title,n=e.titleId,c=f(e,["title","titleId"]);return s.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,j||(j=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),h||(h=s.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})))}var O,v,k=s.forwardRef(y);a.p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function N(e,t){var a=e.title,n=e.titleId,c=x(e,["title","titleId"]);return s.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,O||(O=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),v||(v=s.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})))}var w=s.forwardRef(N),I=(a.p,a.p,a(15)),S="REQUEST_TOP_TRACKS",E="RECIEVE_TOP_TRACKS",C="REQUEST_PLAYLISTS",A="RECIEVE_PLAYLISTS",M="RECIEVE_RECENT_TRACKS",P="REQUEST_RECENT_TRACKS",T="NAVBAR_LINK_CLICKED",R="DELETE_TRACK_SUCCESS",W="LOGIN_REQUEST",L="USER_INFO_SUCCESS",z="ACCESS_TOKEN_RECIEVED",B="LOG_OUT",H="ADD_TRACK_REQUEST",V="ADD_TRACK_SUCCESS",K="REQUEST_TRACKS",D="RECIEVE_TRACKS",U="RECIEVE_PLAYLIST_TRACKS",F=a(0),Q=function(e){var t=Object(r.b)(),a=function(){t((function(e,t){var a=t().navbar.searchBar;e({type:T,clearSearch:!a})}))},n=function(){var e=document.getElementById("trigger");e.checked&&(e.checked=!1)},c=function(){document.getElementById("trigger").checked=!1},i=function(){document.getElementById("trigger").checked=!1};return Object(s.useEffect)((function(){var e=document.getElementById("nav-mask"),t=document.getElementsByName("menu-item");return t.forEach((function(e){e.addEventListener("click",i)})),e.addEventListener("click",c),window.addEventListener("resize",n),function(){t.forEach((function(e){e.removeEventListener("click",a)})),e.removeEventListener("click",c),window.removeEventListener("resize",n)}}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("input",{type:"checkbox",id:"trigger",className:d.a["burger-input"]}),Object(F.jsx)("label",{htmlFor:"trigger",className:d.a["burger-label"],children:Object(F.jsx)("div",{className:d.a["main-trigger-icon-container"],children:Object(F.jsx)("span",{className:d.a["main-trigger-icon"]})})}),Object(F.jsx)("div",{id:"nav-mask",className:d.a["navbar-mask"]}),Object(F.jsxs)("div",{className:d.a.container,children:[Object(F.jsxs)("div",{className:d.a.content,children:[Object(F.jsx)(I.b,{name:"menu-item",className:d.a["menu-item"],to:{pathname:"/"},children:Object(F.jsx)(m,{className:d.a.logo})}),Object(F.jsxs)("div",{className:d.a["menu-container"],children:[Object(F.jsxs)(I.b,{name:"menu-item",onClick:a,to:{pathname:"/"},className:d.a["menu-item"],children:[Object(F.jsx)(w,{className:d.a["playlist-icon"]}),Object(F.jsx)("p",{children:"Home"})]}),Object(F.jsxs)(I.b,{name:"menu-item",onClick:a,to:{pathname:"/playlists"},className:d.a["menu-item"],children:[" ",Object(F.jsx)(k,{className:d.a["playlist-icon"]}),Object(F.jsx)("p",{children:"Playlists"})]})]})," "]})," ",Object(F.jsx)("div",{})]})]})},G=a(9),Y=a.n(G),J=a(25),Z=a.n(J);Y.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401!==e.response.status&&403!==e.response.status||t._retry?e:(t._retry=!0,Y()({url:"/api/refresh",method:"POST",withCredentials:!0}).then((function(e){if(e.data)return localStorage.setItem("access_token",e.data.access_token),Y.a.defaults.headers.common.Authorization="Bearer "+e.access_token,t.headers.Authorization="Bearer "+e.data.access_token,Y()(t)})))})),Y.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token"));var q=function(e,t){return Y()({url:"/api/playlists/".concat(e,"?").concat(t?"offset=".concat(t):""),method:"GET",withCredentials:!0})},X=function(e){if(!e.image[0])return Object(F.jsx)("div",{});return Object(F.jsxs)("a",{onClick:function(){window.open(e.track.external_urls.spotify,"_blank")},className:Z.a["track-container"],children:[Object(F.jsx)("div",{className:Z.a["album-cover-container"],children:Object(F.jsx)("img",{className:Z.a["album-cover"],src:e.image[0].url,alt:""})}),Object(F.jsxs)("div",{className:Z.a["info-container"],children:[" ",Object(F.jsx)("p",{className:Z.a["track-title"],children:e.track.name}),Object(F.jsx)("p",{className:Z.a["album-title"],children:e.track.album.name})]})]})};function $(){return function(e,t){var a=Object.keys(t().tracks.byIds),n={};e({type:S}),Y()({url:"/api/top-tracks",method:"GET"}).then((function(t){if(t){var c=t.data.items,i={};c.forEach((function(e){i[e.uid]=e,a.includes(e.uid)||(n[e.uid]=e)})),e({byIds:n,type:E,top_tracks:i,allIds:Object.keys(i)})}}))}}function ee(){return function(e,t){var a=t().tracks.cursor;e({type:P});var n,c=Object.keys(t().tracks.byIds),i={};(n=a,Y()({url:"/api/recently-played?".concat(n?"before=".concat(n.before):""),method:"GET"})).then((function(t){if(t){var a=t.data.items,n={};a.forEach((function(e){n[e.track.uid]=e.track,c.includes(e.track.uid)||(i[e.track.uid]=e.track)})),e({byIds:i,cursors:t.data.cursors,type:M,recent_tracks:n,allIds:Object.keys(n)})}}))}}var te=a(8),ae=a.n(te);var ne=function(){return function(e,t){return localStorage.removeItem("access_token"),new Promise((function(t,a){Y()({url:"/api/logout",method:"POST",withCredentials:!0}).then((function(a){200===a.status&&(e({type:B}),t(a.status))}))}))}},ce=function(e){return function(t,a){return new Promise((function(a,n){var c;(c=e,Y()({url:"/api/authorization",method:"POST",withCredentials:!0,data:{code:c}})).then((function(e){e&&(t({access_token:e.data.access_token,type:z}),localStorage.setItem("access_token",e.data.access_token),a(""))})).catch((function(e){localStorage.setItem("access_token",123)}))}))}};function ie(){return function(e,t){Y()({url:"/api/user-info",method:"GET",withCredentials:!0}).then((function(t){200===t.status&&e({type:L,user:t.data})}))}}var re,le=function(e){var t,a=Object(r.c)((function(e){return e.current_user})),n=a.userInfo,c=Object(r.b)(),i=Object(r.c)((function(e){return e.tracks.top_tracks}));i&&(t=Object.keys(i).map((function(e){return i[e]})));var l,o=Object(r.c)((function(e){return e.tracks.recent_tracks}));o&&(l=Object.keys(o).map((function(e){return o[e]})));return Object(s.useEffect)((function(){c($()),c(ee())}),[a.access_token]),i&&o&&n?Object(F.jsxs)("div",{className:ae.a.container,children:[Object(F.jsxs)("div",{className:ae.a["user-container"],children:[Object(F.jsx)("input",{className:ae.a["user-dropdown-input"],type:"checkbox",id:"user-dropdown"}),Object(F.jsx)("label",{htmlFor:"user-dropdown",className:ae.a["user-icon-header-container"],children:Object(F.jsxs)("div",{className:ae.a["user-icon-box"],children:[Object(F.jsxs)("div",{className:ae.a["user-icon-container"],children:[Object(F.jsx)("div",{className:ae.a["user-image-container"],children:Object(F.jsx)("img",{className:ae.a["user-image"],src:n.images[0].url,alt:""})}),Object(F.jsx)("p",{className:ae.a["user-displayName"],children:n.display_name}),Object(F.jsxs)("div",{className:ae.a["arrow-container"],children:[Object(F.jsx)("span",{className:ae.a["user-arrow-trigger"]})," "]})]}),Object(F.jsxs)("div",{className:ae.a["dropdown-container"],children:[Object(F.jsx)("span",{className:ae.a["arrow-up"]}),Object(F.jsx)("div",{className:ae.a["dropdown-content-container"],children:Object(F.jsx)("button",{onClick:function(){c(ne()).then((function(e){200===e&&window.location.reload()}))},className:ae.a["dropdown-button"],children:"Log out"})})]})]})})]}),Object(F.jsx)("div",{className:ae.a.content,children:Object(F.jsxs)("div",{className:ae.a["user-info-container"],children:[Object(F.jsx)("div",{className:ae.a["profile-picture-container"],children:Object(F.jsx)("img",{src:n&&n.images[0].url,className:ae.a["profile-picture"]})}),Object(F.jsx)("h2",{className:ae.a["profile-name"],children:n&&n.display_name})]})}),Object(F.jsxs)("div",{className:ae.a["track-divisor-container"],children:[Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{className:ae.a["top-tracks-title"],children:"your top tracks"}),Object(F.jsxs)("div",{className:ae.a["top-tracks-container"],children:[" ",t.map((function(e){return Object(F.jsx)(X,{track:e,image:e.album.images},e.uid)}))]})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{className:ae.a["recently-played-title"],children:"recently played"}),Object(F.jsx)("div",{className:ae.a["recent-tracks-container"],children:l.map((function(e){return Object(F.jsx)(X,{track:e,image:e.album.images},e.uid)}))})]})]})]}):Object(F.jsx)("div",{})},se=(a(49),a(10)),oe=a(12),de=a.n(oe);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function be(e,t){var a=e.title,n=e.titleId,c=pe(e,["title","titleId"]);return s.createElement("svg",ue({width:"24px",height:"24px",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,re||(re=s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))}var je,he=s.forwardRef(be);a.p;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function fe(e,t){var a=e.title,n=e.titleId,c=_e(e,["title","titleId"]);return s.createElement("svg",me({width:"24px",height:"24px",className:"v1262d JUQOtc rqet2b",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,je||(je=s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var ye,Oe=s.forwardRef(fe),ve=(a.p,function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=(a[0],a[1],e.playlistSet);e.index;Object(s.useEffect)((function(){}),[]);return e.playlistSet&&e.playlistSet.track&&e.playlistSet.track.album.images[0]?Object(F.jsxs)("div",{className:de.a[e.deletedArr.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"inactive":"item-container"],children:[Object(F.jsxs)("div",{className:de.a["check-count-container"],children:[Object(F.jsxs)("div",{htmlFor:"test",className:de.a["check-container"],children:[" ",Object(F.jsx)(Oe,{style:{display:e.selected.find((function(t){return e.playlistSet.playlist.id===t.playlistid}))||e.searchArr&&e.searchArr.length>0&&e.selected.some((function(e){if("search"===e.origin)return e}))?"flex":"none"},className:de.a["check-icon-place"]}),Object(F.jsx)(he,{onClick:function(t){var a,n,c;e.searchArr&&e.searchArr.length>0?e.handleCheckSearch(e.playlistSet.track.uid,e.playlistSet.playlist.id):(a=e.playlistSet.track.uid,n=e.playlistSet.playlist.id,c=e.playlistSet.track.uri,e.getTracks,e.handleCheckSelected(a,n,c,e.getTracks,e.index))},style:{display:e.selected.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"flex":"none",fill:e.selected.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"#1db954":"white"},className:de.a[(e.playlistSet.playlist.owner.display_name,"check-icon")]})]}),Object(F.jsx)("div",{className:de.a["track-count-container"],children:Object(F.jsx)("span",{className:de.a[e.selected.find((function(t){return e.playlistSet.playlist.id===t.playlistid}))||e.searchArr&&e.searchArr.length>0&&e.selected.some((function(e){if("search"===e.origin)return e}))?"inactive":"track-count"],children:e.index+1})})]}),Object(F.jsxs)("div",{className:de.a["item-title-container"],children:[Object(F.jsx)("div",{className:de.a["album-image-container"],children:Object(F.jsx)("img",{className:de.a["album-image"],src:e.imageSelection&&e.playlistSet?e.playlistSet.track.album.images[0]&&e.playlistSet.track.album.images[0].url:e.playlistSet.playlist.images[0]&&e.playlistSet.playlist.images[0].url,alt:""})}),Object(F.jsxs)("div",{className:de.a["title-container"],children:[Object(F.jsx)("div",{className:de.a["track-title-container"],children:Object(F.jsx)("p",{className:de.a["track-title"],children:n.track.name})}),Object(F.jsx)("span",{className:de.a["track-artist"],children:n.track.artists.map((function(e,t){return Object(F.jsxs)("span",{children:[Object(F.jsx)("a",{children:Object(F.jsx)("span",{className:de.a["artist-name"],children:e.name})}),n.track.artists.length-1!==t&&", "]},e.id)}))})]})]}),Object(F.jsx)("div",{className:de.a["track-album-container"],children:Object(F.jsx)("p",{className:de.a["track-album"],children:n.track.album.name})}),Object(F.jsx)("div",{to:"playlists/".concat(n.playlist.id),className:de.a["track-playlist-container"],children:Object(F.jsx)("p",{className:de.a["track-playlist"],children:n.playlist.name})})]}):Object(F.jsx)("div",{})}),ke=a(50),ge=a.n(ke);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function we(e,t){var a=e.title,n=e.titleId,c=Ne(e,["title","titleId"]);return s.createElement("svg",xe({height:32,role:"img",width:32,viewBox:"-20 -25 100 100","data-testid":"card-image-fallback",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,ye||(ye=s.createElement("path",{d:"M16 7.494v28.362A8.986 8.986 0 0 0 9 32.5c-4.962 0-9 4.038-9 9s4.038 9 9 9 9-4.038 9-9V9.113l30-6.378v27.031a8.983 8.983 0 0 0-7-3.356c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9s9-4.037 9-9V.266L16 7.494zM9 48.5c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.859-3.141 7-7 7zm32-6.09c-3.86 0-7-3.14-7-7 0-3.859 3.14-7 7-7s7 3.141 7 7c0 3.861-3.141 7-7 7z",fill:"currentColor",fillRule:"evenodd"})))}var Ie,Se=s.forwardRef(we),Ee=(a.p,a(22)),Ce=a.n(Ee);function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Pe(e,t){var a=e.title,n=e.titleId,c=Me(e,["title","titleId"]);return s.createElement("svg",Ae({height:24,role:"img",width:24,viewBox:"0 0 512 512",className:"_08f8133e4f703ce562826348eb158f87-scss","aria-hidden":"true",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,Ie||(Ie=s.createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"})))}var Te,Re=s.forwardRef(Pe);a.p;function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ze(e,t){var a=e.title,n=e.titleId,c=Le(e,["title","titleId"]);return s.createElement("svg",We({width:"24px",height:"24px",className:"v1262d JUQOtc",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,Te||(Te=s.createElement("path",{d:"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"})))}var Be=s.forwardRef(ze),He=(a.p,a(13)),Ve=a.n(He),Ke=(a.p,a(5)),De=a(2),Ue=a(88);var Fe=function(e,t){return function(a,n){a({type:H});var c={},i=Object(De.a)({},n().tracks.byIds),r=t.map((function(e){var t=Object(De.a)({},i[e.trackid]);return t.uid=Object(Ue.a)(),t}));r.forEach((function(e){c[e.uid]=e}));var l,s=r.map((function(e){return e.uid})),o=e.map((function(e){return e.playlistid})),d=[];o.forEach((function(e){(l=Object(De.a)({},n().playlists.byIds[e])).tracks=[].concat(Object(Ke.a)(l.tracks),Object(Ke.a)(r)),d.push(l)}));var u=t.map((function(e){return e.uri})),p=new Promise((function(e,t){o.forEach((function(t){(function(e,t){return Y()({url:"/api/playlists/".concat(e,"/track"),method:"POST",withCredentials:!0,data:{tracks:t}})})(t,u).then((function(t){200===t.status&&e(200)})).then((function(e){}))}))}));return new Promise((function(e,t){p.then((function(t){200===t&&(a({type:V,trackObjs:c,playlists:o,tracksToAdd:s}),e(t))}))}))}},Qe=function(e){return function(t,a){var n=a().tracks.byIds,c=(a().playlists.byIds,Object.keys(n).map((function(e){return n[e]})));return new Promise((function(a,n){var i=Object(Ke.a)(e);t({type:"DELETE_TRACK_REQUEST"});for(var r=i.length,l=[],s={},o=function(e){var t=l.findIndex((function(t){return t.id===i[e].playlistid}));t<0?(s.id=i[e].playlistid,s.playlist=i[e].playlist,s.tracksToDelete=[i[e]],l.push(s),s={}):l[t].tracksToDelete.push(i[e])},d=0;d<r;d++)o(d);var u=c.filter((function(t){if(!e.find((function(e){if(e.trackid===t.uid)return e})))return t})),p={};u.forEach((function(e){p[e.uid]=e})),l.length>0?l.forEach((function(e){(function(e){return Y()({url:"/api/playlists/".concat(e.id,"/track"),method:"DELETE",data:{playlist_id:e.id,tracks:e.tracksToDelete},withCredentials:!0})})(e).then((function(e){a({status:e.status})})).catch((function(e){}))})):a("Some tracks were not deleted."),t({type:R,tracksArr:c,filteredTracks:u,filteredObj:p,items:Object(Ke.a)(e)})}))}};function Ge(){return function(e,t){Object.keys(t().tracks.byIds);e((function(e,t){e({type:C}),e({type:"REQUEST_PLAYLIST_TRACKS"})})),Y()({url:"/api/playlists",method:"GET"}).then((function(t){var a=[],n=t.data.playlists.length,c=t.data.playlists,i={},r={},l={};c.forEach((function(e){e.tracks=[],l[e.id]=e})),e({byIds:l,type:A,allIds:Object.keys(l)});for(var s=0;s<n;s++)a.push(q(c[s].id));Promise.all(a).then((function(t){for(var a=[],n=t.length,c={},s=[],o=0;o<n;o++){var d=t[o].data.items.length;a.push(t[o].data.playlistId);for(var u=0;u<d;u++){var p=t[o].data.items[u];s.push(p.uid),r[p.uid]=p,p.playlistid=t[o].data.playlistId,i[p.uid]=p,c[t[o].data.playlistId]?c[t[o].data.playlistId]=[].concat(Object(Ke.a)(c[t[o].data.playlistId]),[p.uid]):c[t[o].data.playlistId]=[p.uid]}}e({allTracksObj:r,trackIds:s,tracks:c,playlists:a,type:U,allIds:Object.keys(l)})}))}))}}var Ye,Je=a(51),Ze=a.n(Je),qe=function(e){var t=Object(s.useState)(),a=Object(l.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(),o=Object(l.a)(i,2),d=o[0],u=o[1],p=Object(s.useState)(!1),b=Object(l.a)(p,2),j=(b[0],b[1],Object(se.h)()),h=Object(r.b)(),m=e.playlist[j.id];Object(s.useEffect)((function(){if(u(m),m&&m.images[0]){var t=new Image;t.src=m.images[0].url,t.crossOrigin="",t.onload=function(){var e=function(e){var t=document.createElement("canvas"),a=t.getContext("2d"),n=t.width=e.naturalWidth,c=t.height=e.naturalHeight,i=n*c;a.drawImage(e,0,0,n,c);var r=function(e,t,a){for(var n,c,i,r,l,s=e,o=[],d=0;d<t;d+=a)c=s[0+(n=4*d)],i=s[n+1],r=s[n+2],("undefined"===typeof(l=s[n+3])||l>=125)&&(c>250&&i>250&&r>250||o.push([c,i,r]));return o}(a.getImageData(0,0,n,c).data,i,10),l=Ze()(r,4),s=l?l.palette():null,o={};return o.formattedMain="rgba(".concat(s[0][0],",").concat(s[0][1],",").concat(s[0][2],")"),o.formattedSecondary="rgba(".concat(s[1][0],",").concat(s[1][1],",").concat(s[1][2],")"),o}(t);c(e)}}e.findCurrentPlaylist(j.id)}),[m]);var _,f=function(t){var a=_.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,index:e.track.index,uri:e.track.uri}}));Math.round(t.target.scrollHeight-t.target.scrollTop)===t.target.clientHeight&&m.offset<m.track_count&&(e.handleCheckAll(a,m.id,!0),m&&m.offset<m.track_count&&h(function(e){return function(t,a){return t({type:K}),q(e.id,e.offset).then((function(a){var n={};a.data.forEach((function(e){n[e.uid]=e})),200===a.status&&t({type:D,trackIds:a.data.map((function(e){return e.uid})),tracks:n,playlist:e})}))}}(m)))};if(Object(s.useEffect)((function(){var e=document.getElementById("scroll-container");return e&&e.addEventListener("scroll",f),function(){e.removeEventListener("scroll",f)}}),[d]),!m||!m.tracks.length>0||m.length<=0||!m.images[0]||!e.allTracks)return Object(F.jsx)("div",{});m&&(_=(_=m.tracks.reduce((function(t,a){var n={};return n.playlist=m,n.track=e.allTracks[a],n.uid=e.allTracks[a].uid,n.track.name.length>0&&t.push(n),t}),[])).filter((function(t){if(!e.deletedArr.find((function(e){return e.trackid===t.track.uid})))return t})));var y=_.filter((function(t){if(!e.selected.find((function(e){return e.trackid===t.track.uid})))return t}));return Object(F.jsxs)("div",{className:Ve.a[e.searchArr&&e.searchText>0?"inactive":"wrapper"],children:[Object(F.jsxs)("div",{className:Ve.a["header-container"],children:[Object(F.jsxs)("div",{style:{background:n?n.formattedMain:"transparent"},className:Ve.a["album-cover-container"],children:[Object(F.jsx)("img",{id:"playlistImage",className:Ve.a["album-cover"],src:m.images[0].url,alt:""})," ",Object(F.jsx)("div",{className:Ve.a["album-mask"]})]}),Object(F.jsxs)("div",{className:Ve.a["playlist-info-container"],children:[Object(F.jsx)("h3",{className:Ve.a["playlist-title"],children:m.name}),Object(F.jsxs)("p",{className:Ve.a["playlist-creator"],children:["Created By ",m.owner.display_name]})]})]}),Object(F.jsxs)("div",{className:Ve.a["tracks-container"],children:[Object(F.jsxs)("div",{className:Ve.a["label-container"],children:[Object(F.jsxs)("div",{className:Ve.a["label-check-container"],children:[Object(F.jsx)("p",{style:{display:e.selectedAllIds.includes(m.id)?"none":"block"},className:Ve.a["label-count"],children:"#"}),Object(F.jsx)(he,{style:{fill:0===y.length?"#1db954":"white",display:0===y.length?"block":"none"},onClick:function(){var t=_.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,index:e.track.index,uri:e.track.uri}}));e.handleCheckAll(t,m.id)},className:Ve.a["check-box"]})]}),Object(F.jsx)("div",{className:Ve.a["label-title"],children:"title"}),Object(F.jsx)("div",{className:Ve.a["label-album"],children:"album"}),Object(F.jsx)("div",{className:Ve.a["label-playlist"],children:"playlist"})," "]}),Object(F.jsxs)("div",{className:Ve.a["item-wrapper"],children:[_.map((function(t,a){if(t.track.name.length>0)return Object(F.jsx)(ve,{index:a,getTracks:_,deletedArr:e.deletedArr,selected:e.selected,handleCheckSelected:e.handleCheckSelected,playlistSet:t,imageSelection:"album"},t.uid)}))," "]})]})]})},Xe=a(21),$e=a.n(Xe),et=function(e){Object(r.b)();return Object(F.jsxs)("div",{className:$e.a[e.showModal?"container":"inactive"],children:[Object(F.jsx)("div",{onClick:e.closeModal,className:$e.a["container-mask"]}),Object(F.jsxs)("div",{className:$e.a["modal-container"],children:[Object(F.jsx)("div",{className:$e.a["header-container"],children:Object(F.jsxs)("div",{onClick:e.closeModal,className:$e.a["cancel-icon-container"],children:[Object(F.jsx)("span",{className:$e.a["main-trigger-icon-container"],children:Object(F.jsx)("i",{className:$e.a["main-trigger-icon"]})})," "]})}),Object(F.jsx)("p",{children:"Are you sure you want to delete these tracks?"}),Object(F.jsxs)("div",{className:$e.a["button-container"],children:[Object(F.jsx)("button",{onClick:function(){e.closeModal()},className:$e.a["cancel-button"],children:"Cancel"}),Object(F.jsx)("button",{onClick:function(){e.handleDelete()},className:$e.a["delete-button"],children:"Delete"})]})]})]})},tt=function(e){var t=e.playlist,a=(Object(se.g)(),Object(s.useState)("at")),n=Object(l.a)(a,2),c=(n[0],n[1],Object(s.useState)(!1)),i=Object(l.a)(c,2),o=(i[0],i[1],Object(s.useState)([])),d=Object(l.a)(o,2),u=(d[0],d[1],Object(s.useState)(!1)),p=Object(l.a)(u,2),b=(p[0],p[1],Object(s.useState)([])),j=Object(l.a)(b,2),h=(j[0],j[1],Object(s.useState)(!1)),m=Object(l.a)(h,2),_=(m[0],m[1],Object(s.useState)([])),f=Object(l.a)(_,2),y=(f[0],f[1],Object(r.b)(),Object(se.i)()),O=(y.path,y.url);if(!e.playlist)return Object(F.jsx)("div",{});var v=t.images[0]?Object(F.jsx)("img",{className:Ce.a["playlist-image"],src:t.images[0].url,alt:""}):Object(F.jsx)("div",{className:Ce.a["fallback-image-container"],children:Object(F.jsx)(Se,{className:Ce.a["playlist-image"]})});return Object(F.jsx)(I.b,{to:{pathname:"".concat(O,"/").concat(t.id)},className:Ce.a["playlist-container"],children:Object(F.jsxs)("div",{className:Ce.a["playlist-content"],children:[Object(F.jsx)("div",{className:Ce.a["playlist-image-container"],children:v}),Object(F.jsxs)("div",{className:Ce.a["description-container"],children:[Object(F.jsx)("p",{className:Ce.a["playlist-title"],children:t.name}),Object(F.jsx)("p",{className:Ce.a["playlist-description"],children:t.description?t.description:"By ".concat(t.owner.display_name)})]})]})},t.uid)},at=a(4),nt=a.n(at);function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function rt(e,t){var a=e.title,n=e.titleId,c=it(e,["title","titleId"]);return s.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,Ye||(Ye=s.createElement("g",null,s.createElement("path",{d:"M14,10H3v2h11V10z M14,6H3v2h11V6z M18,14v-4h-2v4h-4v2h4v4h2v-4h4v-2H18z M3,16h7v-2H3V16z"}))))}var lt=s.forwardRef(rt),st=(a.p,a(11)),ot=a.n(st),dt=function(e){Object(r.b)();var t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1],i=e.playlist;return Object(F.jsxs)("div",{className:ot.a[e.showModal?"":"inactive"],children:[Object(F.jsx)("div",{onClick:e.closeModal,className:ot.a["container-mask"]}),Object(F.jsx)("div",{className:ot.a[e.showModal?"container":"inactive"],children:Object(F.jsxs)("div",{className:ot.a["modal-container"],children:[Object(F.jsx)("div",{className:ot.a["header-container"],children:Object(F.jsxs)("div",{onClick:e.closeModal,className:ot.a["cancel-icon-container"],children:[Object(F.jsx)("span",{className:ot.a["main-trigger-icon-container"],children:Object(F.jsx)("i",{className:ot.a["main-trigger-icon"]})})," "]})}),Object(F.jsx)("p",{className:ot.a["modal-title"],children:"Add to playlists"}),Object(F.jsx)("div",{className:ot.a["playlist-container"],children:i.map((function(e,t){return Object(F.jsx)("div",{className:ot.a["playlist-item-container"],children:Object(F.jsxs)("div",{className:ot.a["playlist-item"],children:[Object(F.jsxs)("div",{className:ot.a["check-index-container"],children:[Object(F.jsx)("p",{className:ot.a[n.length>0?"inactive":"playlist-count"],children:t+1}),Object(F.jsx)(Oe,{style:{display:n.length>0?"flex":"none"},className:ot.a["check-icon-place"]}),Object(F.jsx)(he,{style:{display:n.find((function(t){return t.playlistid===e.id}))?"flex":"none",fill:n.find((function(t){return t.playlistid===e.id}))?"#1db954":"white"},onClick:function(){return function(e){var t=Object(Ke.a)(n),a={};if(a.playlistid=e,t.find((function(t){return t.playlistid===e}))){var i=t.findIndex((function(t){return t.playlistid===e}));t.splice(i,1)}else t.push(a);c(t)}(e.id)},className:ot.a["check-icon"]})]}),Object(F.jsx)("p",{className:ot.a["playlist-title"],children:e.name})]})})}))}),Object(F.jsxs)("div",{className:ot.a["button-container"],children:[Object(F.jsx)("button",{onClick:e.closeModal,className:ot.a["cancel-button"],children:"Cancel"}),Object(F.jsx)("button",{onClick:function(){e.handleAdd(n)},className:ot.a["delete-button"],children:"Add"})]})]})})]})},ut=function(e){var t=Object(se.g)(),a=(Object(se.h)(),Object(s.useState)([])),n=Object(l.a)(a,2),c=n[0],i=n[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),u=d[0],p=d[1],b=Object(s.useState)(!1),j=Object(l.a)(b,2),h=(j[0],j[1],Object(s.useState)()),m=Object(l.a)(h,2),_=m[0],f=m[1],y=Object(s.useState)([]),O=Object(l.a)(y,2),v=O[0],k=O[1],g=Object(s.useState)({scrollPos:0,clientHeight:null}),x=Object(l.a)(g,2),N=(x[0],x[1],Object(s.useState)(!1)),w=Object(l.a)(N,2),I=w[0],S=w[1],E=Object(s.useState)(!1),C=Object(l.a)(E,2),A=C[0],M=C[1],P=Object(s.useState)(!1),T=Object(l.a)(P,2),R=T[0],W=T[1],L=Object(s.useState)([]),z=Object(l.a)(L,2),B=z[0],H=z[1],V=Object(s.useState)(!1),K=Object(l.a)(V,2),D=(K[0],K[1]),U=Object(s.useState)([]),Q=Object(l.a)(U,2),G=(Q[0],Q[1]),Y=Object(s.useState)([]),J=Object(l.a)(Y,2),Z=J[0],q=J[1],X=Object(r.b)(),$=Object(se.i)(),ee=$.path,te=($.url,Object(r.c)((function(e){return e.playlists.byIds}))),ae=Object(r.c)((function(e){return e.tracks.byIds})),ne=Object(r.c)((function(e){return e.navbar.searchBar})),ce=Object.keys(te).map((function(e){return te[e]})),ie=function(e,t,a,n,r){var l=Object(Ke.a)(B),s=Object(Ke.a)(c),o={};if(o.trackid=e,o.playlistid=t,o.uri=a,o.index=r,l.find((function(t){return t.trackid===e}))){var d=l.findIndex((function(t){return t.trackid===e}));if(s.includes(t)){var u=s.indexOf(t);s.splice(u,1)}l.splice(d,1)}else{l.push(o),0===n.filter((function(e){if(!l.find((function(t){return t.trackid===e.track.uid})))return e})).length&&s.push(t)}i(s),H(l),l.length>0?S(!0):S(!1)};Object(s.useEffect)((function(){D()}),[]),Object(s.useEffect)((function(){p("")}),[ne]);Object(s.useEffect)((function(){B.length>0?S(!0):S(!1)}),[]);var re=function(e,t){var a=Object(Ke.a)(v),n=Object(Ke.a)(B),r=Object(Ke.a)(c),l=n.find((function(t){return t.trackid===e})),s=a.length;if(c.includes("search")){var o=r.indexOf("search");r.splice(o,1),i(r)}for(var d=te[t].tracks.indexOf(e),u=function(t){if(a[t].track.uid!==e||l)a[t].track.uid===e&&l&&(n=n.filter((function(e){return e.trackid!==a[t].track.uid})));else{n.push({trackid:a[t].track.uid,playlistid:a[t].playlist.id,uri:a[t].track.uri,index:d,origin:"search"});var c=Object(De.a)({},a[t]);a[t]=c,0!==a.filter((function(e){if(!n.find((function(t){return t.trackid===e.track.uid})))return e})).length||r.includes("search")||r.push("search")}i(r),H(n),k(a)},p=0;p<s;p++)u(p)};if(!ce)return Object(F.jsx)("div",{});var le=v.filter((function(e){if(!Z.find((function(t){return t.trackid===e.track.uid})))return e}));return Object(F.jsxs)("div",{id:"scroll-container",className:nt.a["container-container"],children:[Object(F.jsxs)("div",{className:nt.a["header-container"],children:[Object(F.jsx)("div",{className:nt.a[B.length>0?"options-container":"inactive"],children:Object(F.jsx)("div",{className:nt.a[I||B.length>0?"drop-down-container":"inactive"],children:Object(F.jsxs)("div",{className:nt.a["drop-down-content"],children:[Object(F.jsxs)("div",{className:nt.a["drop-down-left-container"],children:[Object(F.jsx)("div",{onClick:function(e){S(!1),i([]),H([])},className:nt.a["cancel-icon-container"],children:Object(F.jsx)("span",{className:nt.a["main-trigger-icon-container"],children:Object(F.jsx)("i",{className:nt.a["main-trigger-icon"]})})}),Object(F.jsxs)("p",{className:nt.a["selected-count"],children:["Selected ",B.length]})]}),Object(F.jsxs)("div",{className:nt.a["main-options-icons"],children:[Object(F.jsx)(Be,{onClick:function(){M(!A)},className:nt.a["trash-icon"]}),Object(F.jsx)(lt,{onClick:function(){W(!0)},className:nt.a["add-icon-container"]})]})]})})}),Object(F.jsx)("div",{className:nt.a[B.length>0?"inactive":"title-options-container"],children:Object(F.jsxs)("div",{className:nt.a[B.length>0?"inactive":"title-container"],children:[Object(F.jsx)("p",{className:nt.a["title-text"],children:"Playlists"}),Object(F.jsxs)("div",{className:nt.a[Object.keys(ae).length>0?"input-container":"inactive"],children:[Object(F.jsx)("input",{onChange:function(e){var a,n=[];p(""),H([]);var c,i=e.target.value.trim();i=i.replace(/\s/g,"");var r=new RegExp("^"+i,"gi");"/playlists"!==t.pathname?c=(a=ce.find((function(e){return e.id===_}))).tracks.reduce((function(e,t){var n=ae[t],c=n.name;return r.test(c.trim())&&i.length>0&&e.push({track:n,playlist:a,uid:Object(Ue.a)()}),e}),[]):c=ce.reduce((function(e,t){return t.tracks.reduce((function(a,n){e.push(Object(De.a)(Object(De.a)({},ae[n]),{},{playlist:t}))}),[]),e}),[]).reduce((function(e,t){var a=t.name;return r.test(a.trim())&&i.length>0&&e.push({track:t,playlist:t.playlist,uid:Object(Ue.a)()}),e}),[]);p(e.target.value),k(c),G((function(){for(var e={},t=0;t<n.length;t++)e[n[t].playlist.id]?e[n[t].playlist.id].push(n[t].track):e[n[t].playlist.id]=[n[t].track];return Object.keys(e).map((function(e){return te[e]}))}))},value:u,className:nt.a["input-searchbar"],type:"text",name:"",id:""}),Object(F.jsx)("div",{className:nt.a["input-content-container"],children:Object(F.jsx)(Re,{className:nt.a["search-icon"]})})]})]})})]}),Object(F.jsxs)("div",{className:nt.a.wrapper,children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(et,{showModal:A,handleDelete:function(){var e=Object(Ke.a)(Z),t=B.filter((function(e){if("Spotify"!==te[e.playlistid].owner.display_name)return e})),a=e.concat(t);X(Qe(t)).then((function(e){200!==e.status&&"string"!==typeof e||(q(a),M(!1),S(!1),H([]))}))},closeModal:function(){M(!1)}}),Object(F.jsx)(dt,{current_user:e.current_user,playlist:ce,showModal:R,selected:B,handleAdd:function(e){X(Fe(e,B)).then((function(e){200===e&&(W(!1),S(!1),H([]),i([]))}))},closeModal:function(){W(!1)}}),Object(F.jsxs)("div",{className:nt.a.container,children:[Object(F.jsx)("div",{className:nt.a["/playlists"===t.pathname?"search-results-container":"inactive"],children:Object(F.jsx)("div",{className:nt.a[v.length>0&&u.length>0?"inactive":"item-container"],children:ce.map((function(e){return Object(F.jsx)(tt,{playlist:e})}))})}),Object(F.jsxs)("div",{className:nt.a[v.length>0&&u.length>0?"tracks-container":"inactive"],children:[Object(F.jsxs)("div",{className:nt.a["label-container"],children:[Object(F.jsxs)("div",{className:nt.a["label-check-container"],children:[Object(F.jsx)(he,{style:{fill:c.includes("search")?"#1db954":"white",display:c.includes("search")?"block":"none"},onClick:function(){!function(){var e=Object(Ke.a)(v),t=Object(Ke.a)(B),a=Object(Ke.a)(c),n=(e.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,uri:e.track.uri,index:e.track.index,selected:!0,checkId:"search"}})),a.indexOf("search"));if(n>=0)a.splice(n,1),t=t.filter((function(e){return"search"!==e.checkId}));else{var r,l=e.filter((function(e){if(!t.find((function(t){return t.trackid===e.track.uid})))return e})).map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,uri:e.track.uri,index:e.track.index,selected:!0,checkId:"search"}}));a.push("search"),(r=t).push.apply(r,Object(Ke.a)(l))}i(a),H(t),e.length}()},className:nt.a["check-box"]}),Object(F.jsx)("li",{style:{display:c.includes("search")?"none":"block"},className:nt.a["label-count"],children:"#"})]}),Object(F.jsx)("li",{className:nt.a["label-title"],children:"title"}),Object(F.jsx)("li",{className:nt.a["label-album"],children:"album"}),Object(F.jsx)("li",{className:nt.a["label-playlist"],children:"playlist"})," "]}),Object(F.jsx)("div",{className:nt.a["item-wrapper"],children:le.map((function(e,t){return Object(F.jsx)(ve,{searchArr:v,deletedArr:Z,handleCheckSearch:re,handleCheckSelected:ie,playlistSet:e,selected:B,index:t},e.track&&e.track.uid+e.playlist.uid)}))})]})]})]}),Object(F.jsx)(se.c,{children:Object(F.jsx)(se.a,{path:"".concat(ee,"/:id"),children:Object(F.jsx)(qe,{selectedAllIds:c,handleCheckAll:function(e,t,a){i((function(n){var c,i=Object(Ke.a)(n),r=Object(Ke.a)(B),l=(i.length,i.indexOf(t)),s=[];i.includes(t)||a?i.includes(t)&&!a?(s=r.filter((function(e){return e.playlistid!==t})),i.splice(l,1),H((function(e){return s}))):i.includes(t)&&a&&(i.splice(l,1),H((function(e){return e}))):((c=s=r.filter((function(e){return e.playlistid!==t}))).push.apply(c,Object(Ke.a)(e)),i.push(t),H((function(e){return s})));return i}))},deletedArr:Z,searchText:u.length,searchArr:v.length,findCurrentPlaylist:function(e){f(e)},handleCheckSelected:ie,playlist:te,selected:B,allTracks:ae})})})]})," "]})};var pt=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=(t[0],t[1],Object(s.useState)({})),n=Object(l.a)(a,2),c=n[0],i=(n[1],Object(s.useState)(!1)),o=Object(l.a)(i,2),d=(o[0],o[1],Object(se.f)()),u=Object(r.b)(),p=Object(r.c)((function(e){return e.current_user}));return Object(s.useEffect)((function(){var e=new URL(window.location).search.split("=")[1];new Promise((function(e,t){localStorage.getItem("access_token")?e("logged In"):t("not logged In")})).then((function(){u(ie()),u(Ge())})).catch((function(){e?u(ce(e)).then((function(){d.push("/"),u(ie()),u(Ge())})):window.location.href="https://accounts.spotify.com/authorize?client_id=da42a01c50ef409f802caf63a98de4d4&response_type=code&redirect_uri=https://pacific-reef-15984.herokuapp.com&scope=".concat(encodeURIComponent("user-read-private user-read-email playlist-read-private playlist-modify-private user-top-read user-read-recently-played playlist-modify-public"),"&show_dialog=true")}))}),[]),p.userInfo?Object(F.jsxs)("div",{className:ge.a.container,children:[Object(F.jsx)(Q,{profile:c}),Object(F.jsxs)(se.c,{children:[Object(F.jsx)(se.a,{exact:!0,path:"/",children:Object(F.jsx)(le,{profile:c})})," ",Object(F.jsx)(se.a,{path:"/playlists",children:Object(F.jsx)(ut,{current_user:p})})]})]}):Object(F.jsx)("div",{})},bt=a(23),jt=a(30),ht=a(37),mt=a(52);function _t(e,t){var a=Object(De.a)({},e);return a.byIds=Object(De.a)(Object(De.a)({},a.byIds),t.trackObjs),a}function ft(e,t){return console.log(t.filteredObj),Object(De.a)(Object(De.a)({},e),{},{byIds:Object(De.a)({},t.filteredObj)})}function yt(e,t){var a,n=t.playlists,c=t.tracksToAdd,i=Object(De.a)({},e),r=(e.byIds,Object(ht.a)(n));try{for(r.s();!(a=r.n()).done;){var l=a.value;i.byIds[l].tracks=[].concat(Object(Ke.a)(i.byIds[l].tracks),Object(Ke.a)(c))}}catch(s){r.e(s)}finally{r.f()}return i}function Ot(e,t){var a,n=Object(De.a)({},e),c=Object(ht.a)(t.items);try{var i=function(){var e=a.value;n.byIds[e.playlistid].tracks=n.byIds[e.playlistid].tracks.filter((function(t){if(t!==e.trackid)return t}))};for(c.s();!(a=c.n()).done;)i()}catch(r){c.e(r)}finally{c.f()}return n}function vt(e,t){Object(mt.a)(e);var a=t.tracks;t.playlists.length;for(var n in a)e=Object(De.a)(Object(De.a)({},e),{},{byIds:Object(De.a)(Object(De.a)({},e.byIds),{},Object(jt.a)({},n,Object(De.a)(Object(De.a)({},e.byIds[n]),{},{tracks:Object(Ke.a)(a[n])})))});return e}var kt=Object(bt.combineReducers)({current_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access_token:localStorage.getItem("access_token"),loggedIn:!1,isLoggingIn:!1,userInfo:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object.assign({},e,{isLoggingIn:!0,access_token:t.access_token});case z:return Object.assign({},e,{access_token:t.access_token});case B:return Object.assign({},e,{access_token:null,loggedIn:!1,isLoggingIn:!1,userInfo:null});case L:return Object.assign({},e,{userInfo:t.user});default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,err:null,status:"idle",top_tracks:{},recent_tracks:{},allIds:[],cursor:null,byIds:{},tracks:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return ft(e,t);case D:return Object.assign({},e,{byIds:Object(De.a)(Object(De.a)({},e.byIds),t.tracks)});case V:return _t(e,t);case U:return Object.assign({},e,{allIds:Object(Ke.a)(t.trackIds),byIds:Object(De.a)(Object(De.a)({},e.byIds),t.allTracksObj)});case S:case P:return Object.assign({},e,{isFetching:!0});case E:return Object.assign({},e,{top_tracks:t.top_tracks,isFetching:!1,byIds:Object(De.a)(Object(De.a)({},e.byIds),t.byIds)});case M:return Object.assign({},e,{recent_tracks:Object(De.a)(Object(De.a)({},e.recent_tracks),t.recent_tracks),cursor:t.cursors,isFetching:!1,byIds:Object(De.a)(Object(De.a)({},e.byIds),t.byIds)});default:return e}},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byIds:{},allIds:[],isFetching:!1,err:null,status:"idle"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Ot(e,t);case K:return Object.assign({},e,{isFetching:!0,status:"fetching"});case D:return Object.assign({},e,{status:"idle",byIds:Object(De.a)(Object(De.a)({},e.byIds),{},Object(jt.a)({},t.playlist.id,Object(De.a)(Object(De.a)({},e.byIds[t.playlist.id]),{},{offset:e.byIds[t.playlist.id].tracks.length+t.trackIds.length,tracks:[].concat(Object(Ke.a)(e.byIds[t.playlist.id].tracks),Object(Ke.a)(t.trackIds))})))});case H:return Object(De.a)({},e);case U:return vt(e,t);case V:return yt(e,t);case C:return Object.assign({},e,{isFetching:!0});case A:return Object.assign({},e,{byIds:t.byIds,allIds:t.allIds,isFetching:!1});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchBar:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object.assign({},e,{searchBar:t.clearSearch});default:return e}}}),gt=a(53),xt=a(54);var Nt=function(){var e=Object(gt.composeWithDevTools)({trace:!0});return Object(bt.createStore)(kt,e(Object(bt.applyMiddleware)(xt.a)))}();i.a.hydrate(Object(F.jsx)(I.a,{children:Object(F.jsx)(r.a,{store:Nt,children:Object(F.jsx)(pt,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.2b0357d3.chunk.js.map