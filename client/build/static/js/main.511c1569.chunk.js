(this["webpackJsonpspotify-profile"]=this["webpackJsonpspotify-profile"]||[]).push([[0],{12:function(e,t,a){e.exports={inactive:"playlistAddModal_inactive__1ukjz","container-mask":"playlistAddModal_container-mask__1NMK5",container:"playlistAddModal_container__gvBzk","header-container":"playlistAddModal_header-container__3b1gw","cancel-icon-container":"playlistAddModal_cancel-icon-container__1rbim","main-trigger-icon-container":"playlistAddModal_main-trigger-icon-container__29zyZ","modal-title":"playlistAddModal_modal-title__2YH5Q","playlist-container":"playlistAddModal_playlist-container__3lQV6","playlist-item-container":"playlistAddModal_playlist-item-container__3eLQh","playlist-item":"playlistAddModal_playlist-item__85gRG","check-index-container":"playlistAddModal_check-index-container__BgaId","check-icon":"playlistAddModal_check-icon__yNoII","playlist-count":"playlistAddModal_playlist-count__ddftW","check-icon-place":"playlistAddModal_check-icon-place__2w0nd","button-container":"playlistAddModal_button-container__1tuIi","cancel-button":"playlistAddModal_cancel-button__cofML","delete-button":"playlistAddModal_delete-button__2AynG"}},13:function(e,t,a){e.exports={"update-button-container":"singlePlaylist_update-button-container__20_k4","update-button":"singlePlaylist_update-button__2mdBZ","lds-ring":"singlePlaylist_lds-ring__1uP1g","item-wrapper":"singlePlaylist_item-wrapper__1Ndsp",wrapper:"singlePlaylist_wrapper__3smAq","header-container":"singlePlaylist_header-container__3kRNj","album-cover-container":"singlePlaylist_album-cover-container__39iEV","album-cover":"singlePlaylist_album-cover__oYNWZ","album-mask":"singlePlaylist_album-mask__13o5R","playlist-info-container":"singlePlaylist_playlist-info-container__1aKG1","playlist-title":"singlePlaylist_playlist-title__1Wx71","playlist-creator":"singlePlaylist_playlist-creator__2GiqR",inactive:"singlePlaylist_inactive__1mmTD","tracks-container":"singlePlaylist_tracks-container__CNdsy","label-container":"singlePlaylist_label-container__3tBJj","label-check-container":"singlePlaylist_label-check-container__26SRK","label-count":"singlePlaylist_label-count__1fnoS","check-box":"singlePlaylist_check-box__3mZGW","track-count":"singlePlaylist_track-count__5OyIw","label-item":"singlePlaylist_label-item__2jap0","label-title":"singlePlaylist_label-title__2b3F4","label-album":"singlePlaylist_label-album__XkA98","label-playlist":"singlePlaylist_label-playlist__9NOB5","label-artist":"singlePlaylist_label-artist__38exh"}},14:function(e,t,a){e.exports={inactive:"playlisttracks_inactive__38Zbe","item-container":"playlisttracks_item-container__2A1L3","check-container":"playlisttracks_check-container__1CU1_","check-icon":"playlisttracks_check-icon__Fjull","track-count":"playlisttracks_track-count__OwUYF","check-count-container":"playlisttracks_check-count-container__13HqH","check-icon-place":"playlisttracks_check-icon-place__3meMX","track-count-container":"playlisttracks_track-count-container__3jS-d","item-title-container":"playlisttracks_item-title-container__SlBt_","album-image-container":"playlisttracks_album-image-container__2Zpwl","album-image":"playlisttracks_album-image__14t_Z","title-container":"playlisttracks_title-container__DKiHx","track-title-container":"playlisttracks_track-title-container__ehpzA","track-title":"playlisttracks_track-title__252a6","track-artist":"playlisttracks_track-artist__3-SXk","artist-name":"playlisttracks_artist-name__2wfvz","track-album-container":"playlisttracks_track-album-container__26h3K","track-album":"playlisttracks_track-album__abvD6","track-playlist-container":"playlisttracks_track-playlist-container__JLlQn","track-playlist":"playlisttracks_track-playlist__3UCMa"}},16:function(e,t,a){e.exports={container:"Navbar_container__3wJQ9",content:"Navbar_content__2Db6D",logo:"Navbar_logo__jk-dN","menu-container":"Navbar_menu-container__2D5CH","menu-item":"Navbar_menu-item__3ndlx","playlist-icon":"Navbar_playlist-icon__31Niq","burger-input":"Navbar_burger-input__24utA","burger-label":"Navbar_burger-label__3KbcG","main-trigger-icon-container":"Navbar_main-trigger-icon-container__2JyYy","main-trigger-icon":"Navbar_main-trigger-icon__32rIc","navbar-mask":"Navbar_navbar-mask__30cer"}},21:function(e,t,a){e.exports={"update-button-container":"searchContainer_update-button-container__1Wk9i","update-button":"searchContainer_update-button__2-T2M","lds-ring":"searchContainer_lds-ring__1gXMn","tracks-container":"searchContainer_tracks-container__2a6JM","label-container":"searchContainer_label-container__1QhWh","label-check-container":"searchContainer_label-check-container__p5YNw","label-count":"searchContainer_label-count__1PMG-","check-box":"searchContainer_check-box__XH5qc","label-item":"searchContainer_label-item__1QanI","label-title":"searchContainer_label-title__3RBKh","label-album":"searchContainer_label-album__141OE","label-playlist":"searchContainer_label-playlist__1gtgh"}},24:function(e,t,a){e.exports={inactive:"playlistOptionsModal_inactive__3HWX9","container-mask":"playlistOptionsModal_container-mask__PYwTR",container:"playlistOptionsModal_container__1i1bA","modal-container":"playlistOptionsModal_modal-container__L3T2G","header-container":"playlistOptionsModal_header-container__2WjGd","cancel-icon-container":"playlistOptionsModal_cancel-icon-container__1cRDj","main-trigger-icon-container":"playlistOptionsModal_main-trigger-icon-container__ZjI0K","button-container":"playlistOptionsModal_button-container__3dpZK","cancel-button":"playlistOptionsModal_cancel-button__27tjm","delete-button":"playlistOptionsModal_delete-button__1l_4T"}},25:function(e,t,a){e.exports={inactive:"playlist_inactive__zNP4O","playlist-container":"playlist_playlist-container__3hMve","playlist-content":"playlist_playlist-content__1-WlW","fallback-image-container":"playlist_fallback-image-container__1dG9F","playlist-image-container":"playlist_playlist-image-container__3l9F7","playlist-image":"playlist_playlist-image__2y3tW","description-container":"playlist_description-container__3dYli","playlist-title":"playlist_playlist-title__2LCMJ","playlist-description":"playlist_playlist-description__N-adY"}},29:function(e,t,a){e.exports={"track-container":"track_track-container__19w3l","album-cover-container":"track_album-cover-container__Y7P2L","album-cover":"track_album-cover__816PU","info-container":"track_info-container__nZlmV","album-title":"track_album-title__38wDc","track-title":"track_track-title__15gdH"}},52:function(e,t,a){e.exports={container:"wrapper_container__1aLqH"}},7:function(e,t,a){e.exports={inactive:"home_inactive__19yDr",container:"home_container__1APdC","dropdown-container":"home_dropdown-container__4--TS","user-container":"home_user-container__2MISo","user-dropdown-input":"home_user-dropdown-input__1q4x5","arrow-up":"home_arrow-up__2eopt","dropdown-content-container":"home_dropdown-content-container__30RYO","dropdown-button":"home_dropdown-button__17n6u","user-icon-header-container":"home_user-icon-header-container__3FHIU","user-icon-container":"home_user-icon-container__3E9bc","user-image-container":"home_user-image-container__2CQYn","user-image":"home_user-image__9LpmQ","user-displayName":"home_user-displayName__xJ9eM","arrow-container":"home_arrow-container__3hYlM","user-arrow-trigger":"home_user-arrow-trigger__2Rquj","user-icon-box":"home_user-icon-box__mCw_O","user-info-container":"home_user-info-container__scT1M","profile-picture-container":"home_profile-picture-container__p3wSC","profile-picture":"home_profile-picture__3uhE5","track-divisor-container":"home_track-divisor-container__1RJBs","top-tracks-container":"home_top-tracks-container__3zApe","recent-tracks-container":"home_recent-tracks-container__3GKig","top-tracks-title":"home_top-tracks-title__2QYBn","recently-played-title":"home_recently-played-title__13l2-","show-more-container":"home_show-more-container__3ieWu","showmore-input":"home_showmore-input__3T0R_","showmore-label":"home_showmore-label__1AiHY"}},8:function(e,t,a){e.exports={inactive:"playlistWrapper_inactive__S6c6O","item-wrapper":"playlistWrapper_item-wrapper__J_aFI","options-container":"playlistWrapper_options-container__2O909","hide-drop-down":"playlistWrapper_hide-drop-down__3UsxC","drop-down-container":"playlistWrapper_drop-down-container__2jxgJ","drop-down-left-container":"playlistWrapper_drop-down-left-container__-9L4f","drop-down-content":"playlistWrapper_drop-down-content__1BHMZ","selected-count":"playlistWrapper_selected-count__2C-yL","cancel-icon-container":"playlistWrapper_cancel-icon-container__2zV8Q","main-trigger-icon-container":"playlistWrapper_main-trigger-icon-container__AdE4w","main-options-icons":"playlistWrapper_main-options-icons__2CIdG","add-icon-container":"playlistWrapper_add-icon-container__39hUK","container-container":"playlistWrapper_container-container__3v2ZE",wrapper:"playlistWrapper_wrapper__TS0Ka",container:"playlistWrapper_container__3RoNr","item-container":"playlistWrapper_item-container__2F-o-","title-text":"playlistWrapper_title-text__2_HIZ","playlist-content":"playlistWrapper_playlist-content__1GlNm","playlist-container":"playlistWrapper_playlist-container__mXSsD","fallback-image-container":"playlistWrapper_fallback-image-container__1NJXi","playlist-image-container":"playlistWrapper_playlist-image-container__1IYgr","playlist-image":"playlistWrapper_playlist-image__23YjI","description-container":"playlistWrapper_description-container__28JKe","playlist-title":"playlistWrapper_playlist-title__hKktu","playlist-description":"playlistWrapper_playlist-description__3fj_3","header-container":"playlistWrapper_header-container__2iUq6","title-options-container":"playlistWrapper_title-options-container__3Txju","title-container":"playlistWrapper_title-container__39wTA","input-container":"playlistWrapper_input-container__1b3NW","input-searchbar":"playlistWrapper_input-searchbar__2AcQV","input-content-container":"playlistWrapper_input-content-container__2G4AR","search-icon":"playlistWrapper_search-icon__1v8RW","track-count":"playlistWrapper_track-count__2-okV","label-count":"playlistWrapper_label-count__1Qvft","check-box":"playlistWrapper_check-box__3v15L","label-title":"playlistWrapper_label-title__f8RMt","label-artist":"playlistWrapper_label-artist__2RZ75","label-playlist":"playlistWrapper_label-playlist__1NS48"}},88:function(e,t,a){"use strict";a.r(t);var n=a(35),c=a.n(n),r=a(3),i=a(2),s=a(9),l=a(1),o=a.n(l),u=a(11),d=a(27),p=a(5),b=a.n(p),j=a(15),h="REQUEST_TOP_TRACKS",_="RECIEVE_TOP_TRACKS",f="REQUEST_PLAYLISTS",m="RECIEVE_PLAYLISTS",y="RECIEVE_RECENT_TRACKS",O="REQUEST_RECENT_TRACKS",v="NAVBAR_LINK_CLICKED",g="DELETE_TRACK_SUCCESS",k="LOGIN_REQUEST",x="USER_INFO_SUCCESS",w="ACCESS_TOKEN_RECIEVED",N="LOG_OUT",I="ADD_TRACK_REQUEST",S="ADD_TRACK_SUCCESS",E="REQUEST_TRACKS",C="RECIEVE_TRACKS",A="RECIEVE_PLAYLIST_TRACKS",R="GET_SINGLE_PLAYLIST",T="REQUEST_SEARCH_RESULTS",M="RECIEVE_SEARCH_RESULTS",P="CLEAR_SEARCH_RESULTS",L="SCROLL_SEARCH_RESULTS",W="RECIEVE_ADDITIONAL_TRACKS",U="DATABASE_SYNC_ERROR",z="UPDATE_PLAYLIST_REQUEST",D="UPDATE_PLAYLIST_SUCCESS",H=a(10),B=a.n(H);B.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token")),B.a.interceptors.response.use((function(e){return e}),function(){var e=Object(j.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.response.config._retry&&(t.response.config._retry=!0),401!==t.response.status||!0!==t.response.config._retry){e.next=10;break}return t.response.config._retry=!1,e.next=5,V();case 5:return a=e.sent,localStorage.setItem("access_token",a.data.access_token),t.response.config.headers.Authorization="Bearer ".concat(a.data.access_token),B.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token")),e.abrupt("return",B()(t.response.config));case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var V=function(){return B.a.post("/api/refresh",{method:"POST",withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){return e.data&&(B.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token"))),e}))},K=function(e,t,a){return B.a.post("/api/playlists/track",{method:"POST",withCredentials:!0,sets:e,tracks:t,tracksFordb:a})},Q=function(e,t,a){return B.a.get("/api/single/playlists/".concat(e,"/").concat(!0===t?"?offset=".concat(a):""),{withCredentials:!0})},Y=function(e,t,a,n){return B.a.get("/api/playlist/search/?regex=".concat(e).concat(n?"&offset=".concat(n):"").concat(!1===t?"&playlist=".concat(a):""),{method:"GET",withCredentials:!0})},F=function(e,t,a,n){return B.a.delete("/api/playlists/track",{data:{searchActive:t,playlistids:a,trackids:n,tracks:e},withCredentials:!0})};function G(){return function(e,t){var a=Object.keys(t().tracks.byIds),n={};e({type:h}),B.a.get("/api/top-tracks",{method:"GET",withCredentials:!0}).then((function(t){if(t){var c=t.data.items,r={};c.forEach((function(e){r[e.uid]=e,a.includes(e.uid)||(n[e.uid]=e)})),e({byIds:n,type:_,top_tracks:r,allIds:Object.keys(r)})}}))}}function J(){return function(e,t){var a=t().tracks.cursor;e({type:O});var n,c=Object.keys(t().tracks.byIds),r={};(n=a,B.a.get("/api/recently-played".concat(n?"?before=".concat(n.before):""),{method:"GET",withCredentials:!0})).then((function(t){if(t){var a=t.data.items,n={};a.forEach((function(e){n[e.track.uid]=e.track,c.includes(e.track.uid)||(r[e.track.uid]=e.track)})),e({byIds:r,cursors:t.data.cursors,type:y,recent_tracks:n,allIds:Object.keys(n)})}}))}}var Z,q,X,$=function(){return function(e,t){return localStorage.removeItem("access_token"),new Promise((function(t,a){B()({url:"/api/logout",method:"POST",withCredentials:!0}).then((function(a){200===a.status&&(e({type:N}),window.location.reload(),t(a.status))})).catch()}))}},ee=function(e){return function(t,a){return(n=e,B.a.post("/api/authorization",{method:"POST",withCredentials:!0,code:n})).then((function(e){if(200===e.status)return t({access_token:e.data.access_token,type:w}),localStorage.setItem("access_token",e.data.access_token),e.data.access_token})).catch((function(e){return e}));var n}},te=function(){return function(e,t){var a;(B.a.defaults.headers.common.Authorization="Bearer ".concat(a||localStorage.getItem("access_token")),B.a.get("/api/user-info",{withCredentials:!0})).then((function(t){200===t.status&&(e({type:x,user:t.data}),e(ae()))})).catch((function(){}))}},ae=function(){return clearTimeout(Z),function(){var e=Object(j.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z=setTimeout(Object(j.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:a=e.sent,localStorage.setItem("access_token",a.data.access_token),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),clearTimeout(Z),t($());case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),1.8*Math.pow(10,6));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ne=a(7),ce=a.n(ne),re=a(29),ie=a.n(re),se=a(0),le=function(e){if(!e.image[0])return null;return Object(se.jsxs)("a",{onClick:function(){window.open(e.track.external_urls.spotify,"_blank")},className:ie.a["track-container"],children:[Object(se.jsx)("div",{className:ie.a["album-cover-container"],children:Object(se.jsx)("img",{className:ie.a["album-cover"],src:e.image[0].url,alt:""})}),Object(se.jsxs)("div",{className:ie.a["info-container"],children:[Object(se.jsx)("p",{className:ie.a["track-title"],children:e.track.name}),Object(se.jsx)("p",{className:ie.a["album-title"],children:e.track.album.name})]})]})},oe=Object(d.a)((function(e){return e.tracks.top_tracks}),(function(e){return e})),ue=Object(d.a)((function(e){return e.tracks.recent_tracks}),(function(e){return e})),de=Object(d.a)((function(e){return e.current_user}),(function(e){return e})),pe=function(){var e,t,a=Object(r.c)(de),n=Object(r.c)(oe),c=Object(r.c)(ue),i=a,s=i.userInfo,o=Object(r.b)(),u=n,d=c;u&&(e=Object.keys(u).map((function(e){return u[e]}))),d&&(t=Object.keys(d).map((function(e){return d[e]})));return Object(l.useEffect)((function(){o(G()),o(J())}),[i.access_token]),u&&d&&s?Object(se.jsxs)("div",{className:ce.a.container,children:[Object(se.jsxs)("div",{className:ce.a["user-container"],children:[Object(se.jsx)("input",{className:ce.a["user-dropdown-input"],type:"checkbox",id:"user-dropdown"}),Object(se.jsx)("label",{htmlFor:"user-dropdown",className:ce.a["user-icon-header-container"],children:Object(se.jsxs)("div",{className:ce.a["user-icon-box"],children:[Object(se.jsxs)("div",{className:ce.a["user-icon-container"],children:[Object(se.jsx)("div",{className:ce.a["user-image-container"],children:Object(se.jsx)("img",{className:ce.a["user-image"],src:s.images[0].url,alt:""})}),Object(se.jsx)("p",{className:ce.a["user-displayName"],children:s.display_name}),Object(se.jsx)("div",{className:ce.a["arrow-container"],children:Object(se.jsx)("span",{className:ce.a["user-arrow-trigger"]})})]}),Object(se.jsxs)("div",{className:ce.a["dropdown-container"],children:[Object(se.jsx)("span",{className:ce.a["arrow-up"]}),Object(se.jsx)("div",{className:ce.a["dropdown-content-container"],children:Object(se.jsx)("button",{onClick:function(){o($()).then((function(e){}))},className:ce.a["dropdown-button"],children:"Log out"})})]})]})})]}),Object(se.jsx)("div",{className:ce.a.content,children:Object(se.jsxs)("div",{className:ce.a["user-info-container"],children:[Object(se.jsx)("div",{className:ce.a["profile-picture-container"],children:Object(se.jsx)("img",{src:s&&s.images[0].url,className:ce.a["profile-picture"]})}),Object(se.jsx)("h2",{className:ce.a["profile-name"],children:s&&s.display_name})]})}),Object(se.jsxs)("div",{className:ce.a["track-divisor-container"],children:[Object(se.jsxs)("div",{children:[Object(se.jsx)("p",{className:ce.a["top-tracks-title"],children:"your top tracks"}),Object(se.jsx)("div",{className:ce.a["top-tracks-container"],children:t.length>0&&e.length>0?e.map((function(e){return Object(se.jsx)(le,{track:e,image:e.album.images},e.uid)})):null})]}),Object(se.jsxs)("div",{children:[Object(se.jsx)("p",{className:ce.a["recently-played-title"],children:"recently played"}),Object(se.jsx)("div",{className:ce.a["recent-tracks-container"],children:t.length>0&&e.length>0?t.map((function(e){return Object(se.jsx)(le,{track:e,image:e.album.images},e.uid)})):null})]})]})]}):null},be=a(23);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _e(e,t){var a=e.title,n=e.titleId,c=he(e,["title","titleId"]);return l.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,q||(q=l.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),X||(X=l.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})))}var fe,me=l.forwardRef(_e);a.p;function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ve(e,t){var a=e.title,n=e.titleId,c=Oe(e,["title","titleId"]);return l.createElement("svg",ye({viewBox:"0 0 63 20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMin meet",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,fe||(fe=l.createElement("g",{className:"svelte-1gcdbl9"},l.createElement("path",{d:"M61.842 9.506a1.02 1.02 0 0 1-1.023-1.024c0-.562.453-1.03 1.029-1.03a1.02 1.02 0 0 1 1.023 1.024 1.03 1.03 0 0 1-1.029 1.03m.006-1.952a.915.915 0 0 0-.922.928c0 .51.394.921.916.921a.916.916 0 0 0 .922-.927.908.908 0 0 0-.916-.922m.226 1.027l.29.406h-.244l-.26-.372h-.225v.372h-.204V7.912h.48c.249 0 .413.128.413.343 0 .176-.102.284-.25.326m-.172-.485h-.267v.34h.267c.133 0 .212-.065.212-.17 0-.11-.08-.17-.212-.17m-12.804-3.52a1.043 1.043 0 1 0-.001 2.086 1.043 1.043 0 0 0 0-2.087m.72 2.89h-1.454a.107.107 0 0 0-.106.107v6.346c0 .06.047.107.106.107h1.455a.107.107 0 0 0 .107-.107V7.572a.107.107 0 0 0-.107-.107m3.233.006v-.2c0-.592.227-.856.736-.856.303 0 .546.06.82.152a.106.106 0 0 0 .14-.102V5.24a.107.107 0 0 0-.076-.102 3.993 3.993 0 0 0-1.21-.174c-1.343 0-2.053.757-2.053 2.188v.308h-.699a.107.107 0 0 0-.107.106v1.257c0 .059.048.107.107.107h.699v4.99c0 .058.047.106.106.106h1.455a.107.107 0 0 0 .106-.107v-4.99h1.358l2.081 4.99c-.236.523-.468.628-.785.628-.257 0-.527-.077-.803-.228a.109.109 0 0 0-.084-.008.106.106 0 0 0-.063.058l-.493 1.081a.106.106 0 0 0 .045.138c.515.279.98.398 1.554.398 1.074 0 1.668-.5 2.191-1.847L60.6 7.617a.106.106 0 0 0-.099-.146h-1.514a.107.107 0 0 0-.1.072l-1.552 4.431-1.7-4.434a.106.106 0 0 0-.099-.069h-2.485m-5.577-.006h-1.6V5.828a.106.106 0 0 0-.107-.106h-1.455a.107.107 0 0 0-.106.106v1.637h-.7a.106.106 0 0 0-.106.107v1.25c0 .059.048.107.106.107h.7v3.234c0 1.308.65 1.97 1.934 1.97.522 0 .954-.107 1.362-.338a.106.106 0 0 0 .054-.093v-1.19a.106.106 0 0 0-.154-.096c-.28.141-.551.206-.854.206-.467 0-.675-.211-.675-.686V8.929h1.6a.106.106 0 0 0 .107-.107v-1.25a.106.106 0 0 0-.106-.107m-7.671-.133c-1.96 0-3.497 1.51-3.497 3.437 0 1.907 1.526 3.4 3.473 3.4 1.967 0 3.508-1.504 3.508-3.424 0-1.914-1.53-3.413-3.484-3.413m0 5.362c-1.043 0-1.83-.838-1.83-1.95 0-1.115.76-1.924 1.806-1.924 1.05 0 1.84.838 1.84 1.95 0 1.115-.763 1.924-1.816 1.924m-7.014-5.362c-.82 0-1.492.323-2.046.984v-.744a.107.107 0 0 0-.106-.107h-1.455a.107.107 0 0 0-.106.107v8.27c0 .058.048.106.106.106h1.455a.107.107 0 0 0 .106-.106v-2.61c.555.621 1.227.925 2.046.925 1.522 0 3.063-1.172 3.063-3.412s-1.54-3.413-3.063-3.413m1.372 3.413c0 1.14-.703 1.937-1.709 1.937-.995 0-1.745-.833-1.745-1.937s.75-1.937 1.745-1.937c.99 0 1.71.814 1.71 1.937m-8.437-1.81c-1.624-.388-1.913-.66-1.913-1.231 0-.54.508-.903 1.264-.903.732 0 1.459.275 2.22.843a.107.107 0 0 0 .15-.023l.794-1.119a.107.107 0 0 0-.02-.144c-.906-.728-1.927-1.081-3.12-1.081-1.755 0-2.98 1.052-2.98 2.559 0 1.615 1.057 2.187 2.884 2.628 1.554.358 1.817.658 1.817 1.195 0 .594-.53.963-1.385.963-.948 0-1.721-.32-2.587-1.068a.11.11 0 0 0-.078-.026.105.105 0 0 0-.073.038l-.89 1.058a.105.105 0 0 0 .011.148 5.303 5.303 0 0 0 3.581 1.373c1.89 0 3.112-1.033 3.112-2.631 0-1.351-.807-2.098-2.787-2.58M9.507.305a9.41 9.41 0 1 0 0 18.82 9.41 9.41 0 0 0 0-18.82m4.316 13.572a.586.586 0 0 1-.807.195c-2.21-1.35-4.99-1.655-8.266-.907a.586.586 0 1 1-.261-1.143c3.584-.82 6.659-.467 9.139 1.049.276.169.363.53.195.806m1.15-2.562a.734.734 0 0 1-1.008.242c-2.529-1.555-6.385-2.005-9.377-1.097a.735.735 0 0 1-.426-1.404c3.418-1.037 7.666-.534 10.57 1.25a.734.734 0 0 1 .242 1.01m.1-2.669C12.04 6.846 7.036 6.68 4.141 7.56a.88.88 0 1 1-.511-1.684c3.323-1.01 8.849-.814 12.34 1.258a.88.88 0 0 1-.898 1.514"}))))}var ge,ke,xe=l.forwardRef(ve);a.p;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ie(e,t){var a=e.title,n=e.titleId,c=Ne(e,["title","titleId"]);return l.createElement("svg",we({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,ge||(ge=l.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),ke||(ke=l.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})))}var Se,Ee=l.forwardRef(Ie),Ce=(a.p,a(16)),Ae=a.n(Ce),Re=function(e){var t=Object(r.b)(),a=Object(l.useState)(!1),n=Object(s.a)(a,2),c=n[0],i=n[1],o=function(e,t){document.getElementById("trigger").checked?i(!1):"playlist"===t&&Yt()};return Object(l.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("input",{readOnly:!0,checked:c,type:"checkbox",id:"trigger",className:Ae.a["burger-input"]}),Object(se.jsx)("label",{onClick:function(){return i(!c)},htmlFor:"trigger",className:Ae.a["burger-label"],children:Object(se.jsx)("div",{className:Ae.a["main-trigger-icon-container"],children:Object(se.jsx)("span",{className:Ae.a["main-trigger-icon"]})})}),Object(se.jsx)("div",{onClick:function(){return i(!1)},id:"nav-mask",className:Ae.a["navbar-mask"]}),Object(se.jsxs)("div",{className:Ae.a.container,children:[Object(se.jsxs)("div",{className:Ae.a.content,children:[Object(se.jsx)(be.b,{onClick:function(){return i(!1)},name:"menu-item",className:Ae.a["menu-item"],to:{pathname:"/"},children:Object(se.jsx)(xe,{className:Ae.a.logo})}),Object(se.jsxs)("div",{className:Ae.a["menu-container"],children:[Object(se.jsxs)(be.b,{name:"menu-item",onClick:function(){return i(!1)},to:{pathname:"/"},className:Ae.a["menu-item"],children:[Object(se.jsx)(me,{className:Ae.a["playlist-icon"]}),Object(se.jsx)("p",{children:"Home"})]}),Object(se.jsxs)(be.b,{name:"menu-item",onClick:function(){e.reRecreateComp(),Yt(),i(!1,"playlist"),t({type:P})},to:{pathname:"/playlists"},className:Ae.a["menu-item"],children:[Object(se.jsx)(Ee,{className:Ae.a["playlist-icon"]}),Object(se.jsx)("p",{children:"Playlists"})]})]})]}),Object(se.jsx)("div",{})]})]})},Te=a(4);function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Le(e,t){var a=e.title,n=e.titleId,c=Pe(e,["title","titleId"]);return l.createElement("svg",Me({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,Se||(Se=l.createElement("g",null,l.createElement("path",{d:"M14,10H3v2h11V10z M14,6H3v2h11V6z M18,14v-4h-2v4h-4v2h4v4h2v-4h4v-2H18z M3,16h7v-2H3V16z"}))))}var We,Ue=l.forwardRef(Le);a.p;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function He(e,t){var a=e.title,n=e.titleId,c=De(e,["title","titleId"]);return l.createElement("svg",ze({height:24,role:"img",width:24,viewBox:"0 0 512 512",className:"_08f8133e4f703ce562826348eb158f87-scss","aria-hidden":"true",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,We||(We=l.createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"})))}var Be,Ve=l.forwardRef(He);a.p;function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ye(e,t){var a=e.title,n=e.titleId,c=Qe(e,["title","titleId"]);return l.createElement("svg",Ke({width:"24px",height:"24px",className:"v1262d JUQOtc",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,Be||(Be=l.createElement("path",{d:"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"})))}var Fe,Ge=l.forwardRef(Ye);a.p;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ze(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function qe(e,t){var a=e.title,n=e.titleId,c=Ze(e,["title","titleId"]);return l.createElement("svg",Je({height:32,role:"img",width:32,viewBox:"-20 -25 100 100","data-testid":"card-image-fallback",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,Fe||(Fe=l.createElement("path",{d:"M16 7.494v28.362A8.986 8.986 0 0 0 9 32.5c-4.962 0-9 4.038-9 9s4.038 9 9 9 9-4.038 9-9V9.113l30-6.378v27.031a8.983 8.983 0 0 0-7-3.356c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9s9-4.037 9-9V.266L16 7.494zM9 48.5c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.859-3.141 7-7 7zm32-6.09c-3.86 0-7-3.14-7-7 0-3.859 3.14-7 7-7s7 3.141 7 7c0 3.861-3.141 7-7 7z",fill:"currentColor",fillRule:"evenodd"})))}var Xe,$e=l.forwardRef(qe),et=(a.p,a(26)),tt=a(38),at=a.n(tt);function nt(e){return function(){var e=Object(j.a)(b.a.mark((function e(t,a){var n,c,r,s,l,o,u,d,p,j,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z}),e.next=3,B.a.put("/api/playlists",{withCredentials:!0});case 3:n=e.sent,c=[],r=a().playlists.byIds,s=[],l=Object(et.a)(n.data.updatedPlaylists);try{for(l.s();!(o=l.n()).done;)u=o.value,s.push(Q(u)),c.push.apply(c,Object(Te.a)(r[u].tracks))}catch(b){l.e(b)}finally{l.f()}return d={},e.next=12,Promise.all(s);case 12:p=e.sent,j=p.reduce((function(e,t){e.push.apply(e,Object(Te.a)(t.data.tracks));var a=Object(i.a)({},t.data.playlist);return a.tracks=a.tracksArr,d[t.data.playlist.id]=a,e}),[]),h=j.reduce((function(e,t){return t.track.uid=t._id,e[t._id]=t.track,e}),{}),t({type:D,idsToRemove:c,playlists:d,tracks:h});case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}function ct(e){return function(){var t=Object(j.a)(b.a.mark((function t(a,n){var c,r,i,s,l,o,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().playlists.byIds[e].offset,a({type:"REQUEST_ADDITIONAL_TRACKS"}),t.next=4,Q(e,!0,c);case 4:r=t.sent,i=r.data.tracks.map((function(e){return e._id})),s={},l=Object(et.a)(r.data.tracks);try{for(l.s();!(o=l.n()).done;)(u=o.value).track.uid=u._id,s[u._id]=u.track}catch(d){l.e(d)}finally{l.f()}return 200===r.status&&a({playlistid:e,type:W,trackids:i,tracks:s,offset:r.data.offset}),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function rt(){return function(e){e((function(e){e({type:f})})),B.a.get("/api/playlists",{withCredentials:!0}).then((function(t){var a=t.data.playlists,n={};a.forEach((function(e){e.tracks=[],n[e.id]=e})),e({byIds:n,type:m,allIds:Object.keys(n)})})).catch((function(e){}))}}function it(e,t,a,n){return function(){var c=Object(j.a)(b.a.mark((function c(r,i){var s,l,o,u;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s={},clearTimeout(Xe),n){c.next=4;break}return c.abrupt("return",new Promise((function(c){e.length>0&&(Xe=setTimeout(Object(j.a)(b.a.mark((function i(){var l;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:T}),i.next=3,Y(e,t,a,s._id);case 3:200===(l=i.sent).status&&r({type:n?L:M,results:l.data}),c(l.status);case 6:case"end":return i.stop()}}),i)}))),100)),c([])})));case 4:if(!n){c.next=13;break}return l=i().search.results,o=l[l.length-1],c.next=9,Y(e,t,a,o._id);case 9:u=c.sent,r({type:L,results:u.data}),c.next=14;break;case 13:r({type:P,results:[]});case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}var st,lt=a(25),ot=a.n(lt),ut=function(e){Object(r.b)();var t=e.playlist,a=Object(u.i)().url;if(!e.playlist)return Object(se.jsx)("div",{});var n=t.images[0]?Object(se.jsx)("img",{className:ot.a["playlist-image"],src:t.images[0].url,alt:""}):Object(se.jsx)("div",{className:ot.a["fallback-image-container"],children:Object(se.jsx)($e,{className:ot.a["playlist-image"]})});return Object(se.jsx)(be.b,{to:{pathname:"".concat(a,"/").concat(t.id)},className:ot.a["playlist-container"],children:Object(se.jsxs)("div",{className:ot.a["playlist-content"],children:[Object(se.jsx)("div",{className:ot.a["playlist-image-container"],children:n}),Object(se.jsxs)("div",{className:ot.a["description-container"],children:[Object(se.jsx)("p",{className:ot.a["playlist-title"],children:t.name}),Object(se.jsx)("p",{className:ot.a["playlist-description"],children:t.description?t.description:"By ".concat(t.owner.display_name)})]})]})},t.uid)},dt=o.a.memo(ut);function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function jt(e,t){var a=e.title,n=e.titleId,c=bt(e,["title","titleId"]);return l.createElement("svg",pt({width:"24px",height:"24px",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,st||(st=l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))}var ht,_t=l.forwardRef(jt);a.p;function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mt(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function yt(e,t){var a=e.title,n=e.titleId,c=mt(e,["title","titleId"]);return l.createElement("svg",ft({width:"24px",height:"24px",className:"v1262d JUQOtc rqet2b",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,ht||(ht=l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var Ot=l.forwardRef(yt),vt=(a.p,a(12)),gt=a.n(vt),kt=function(e){var t=Object(l.useState)([]),a=Object(s.a)(t,2),n=a[0],c=a[1],r=e.playlist;return Object(se.jsxs)("div",{className:gt.a[e.showModal?"":"inactive"],children:[Object(se.jsx)("div",{onClick:e.closeModal,className:gt.a["container-mask"]}),Object(se.jsx)("div",{className:gt.a[e.showModal?"container":"inactive"],children:Object(se.jsxs)("div",{className:gt.a["modal-container"],children:[Object(se.jsx)("div",{className:gt.a["header-container"],children:Object(se.jsx)("div",{onClick:e.closeModal,className:gt.a["cancel-icon-container"],children:Object(se.jsx)("span",{className:gt.a["main-trigger-icon-container"],children:Object(se.jsx)("i",{className:gt.a["main-trigger-icon"]})})})}),Object(se.jsx)("p",{className:gt.a["modal-title"],children:"Add to playlists"}),Object(se.jsx)("div",{className:gt.a["playlist-container"],children:r.map((function(e,t){return Object(se.jsx)("div",{className:gt.a["playlist-item-container"],children:Object(se.jsxs)("div",{className:gt.a["playlist-item"],children:[Object(se.jsxs)("div",{className:gt.a["check-index-container"],children:[Object(se.jsx)("p",{className:gt.a[n.length>0?"inactive":"playlist-count"],children:t+1}),Object(se.jsx)(Ot,{style:{display:n.length>0?"flex":"none"},className:gt.a["check-icon-place"]},e.id),Object(se.jsx)(_t,{"data-testid":"addModal"+e.id,style:{display:n.find((function(t){return t.playlistid===e.id}))?"flex":"none",fill:n.find((function(t){return t.playlistid===e.id}))?"#1db954":"white"},onClick:function(){return function(e){var t=Object(Te.a)(n),a={};if(a.playlistid=e,t.find((function(t){return t.playlistid===e}))){var r=t.findIndex((function(t){return t.playlistid===e}));t.splice(r,1)}else t.push(a);c(t)}(e.id)},className:gt.a["check-icon"]})]}),Object(se.jsx)("p",{className:gt.a["playlist-title"],children:e.name})]})},e.id)}))}),Object(se.jsxs)("div",{className:gt.a["button-container"],children:[Object(se.jsx)("button",{onClick:e.closeModal,className:gt.a["cancel-button"],children:"Cancel"}),Object(se.jsx)("button",{onClick:function(){e.handleAdd(n)},className:gt.a["delete-button"],children:"Add"})]})]})})]})},xt=a(24),wt=a.n(xt),Nt=function(e){Object(r.c)((function(e){return e.playlists.err}));return Object(se.jsxs)("div",{"data-testid":"delete modal test",className:wt.a[e.showModal?"container":"inactive"],children:[Object(se.jsx)("div",{onClick:e.closeModal,className:wt.a["container-mask"]}),Object(se.jsxs)("div",{className:wt.a["modal-container"],children:[Object(se.jsx)("div",{className:wt.a["header-container"],children:Object(se.jsx)("div",{onClick:e.closeModal,className:wt.a["cancel-icon-container"],children:Object(se.jsx)("span",{className:wt.a["main-trigger-icon-container"],children:Object(se.jsx)("i",{className:wt.a["main-trigger-icon"]})})})}),Object(se.jsx)("p",{children:"Are you sure you want to delete these tracks?"}),Object(se.jsxs)("div",{className:wt.a["button-container"],children:[Object(se.jsx)("button",{onClick:function(){e.closeModal()},className:wt.a["cancel-button"],children:"Cancel"}),Object(se.jsx)("button",{role:"button",name:"delete-button",onClick:function(){e.handleDelete()},className:wt.a["delete-button"],children:"Delete"})]})]})]})},It=a(14),St=a.n(It),Et=function(e){e.playlistSet;return Object(se.jsxs)("div",{className:St.a["item-container"],children:[Object(se.jsxs)("div",{className:St.a["check-count-container"],children:[Object(se.jsxs)("div",{className:St.a["check-container"],children:[Object(se.jsx)(Ot,{style:{display:e.checkAll?"flex":"none"},className:St.a["check-icon-place"]}),Object(se.jsx)(_t,{"data-testid":e.track.track.uid,onClick:function(t){var a,n,c;a=e.track._id||e.track.track.uid,n=e.playlist.id,c=e.track.track.uri,e.handleCheckSelected(a,n,c,e.changed,e.track.position||e.index)},style:{display:e.isSelected?"flex":"none",fill:e.isSelected?"#1db954":"white"},className:St.a[(e.playlist.owner.display_name,"check-icon")]})]}),Object(se.jsx)("div",{className:St.a["track-count-container"],children:Object(se.jsx)("span",{className:St.a[e.checkAll?"inactive":"track-count"],children:e.index+1})})]}),Object(se.jsxs)("div",{className:St.a["item-title-container"],children:[Object(se.jsx)("div",{className:St.a["album-image-container"],children:Object(se.jsx)("img",{className:St.a["album-image"],src:e.imageSelection&&e.playlistSet?e.track.track.album.images[0]&&e.track.track.album.images[0].url:e.playlist.images[0]&&e.playlist.images[0].url,alt:""})}),Object(se.jsxs)("div",{className:St.a["title-container"],children:[Object(se.jsx)("div",{className:St.a["track-title-container"],children:Object(se.jsx)("p",{className:St.a["track-title"],children:e.track.track.name})}),Object(se.jsx)("span",{className:St.a["track-artist"],children:e.track.track.artists.map((function(t,a){return Object(se.jsxs)("span",{children:[Object(se.jsx)("a",{children:Object(se.jsx)("span",{className:St.a["artist-name"],children:t.name})}),e.track.track.artists.length-1!==a&&", "]},t.id)}))})]})]}),Object(se.jsx)("div",{className:St.a["track-album-container"],children:Object(se.jsx)("p",{className:St.a["track-album"],children:e.track.track.album.name})}),Object(se.jsx)("div",{className:St.a["track-playlist-container"],children:Object(se.jsx)("p",{className:St.a["track-playlist"],children:e.playlist.name})})]})},Ct=o.a.memo(Et,(function(e,t){return e.checkAll===t.checkAll&&e.lastUpdated===t.lastUpdated&&(e.isSelected===t.isSelected||void 0)})),At=a(21),Rt=a.n(At),Tt=Object(d.a)((function(e){return e.playlists.byIds}),(function(e){return e})),Mt=function(e){var t,a=Object(r.b)(),n=Object(l.useState)(0),c=Object(s.a)(n,2),i=(c[0],c[1]),o=Object(r.c)((function(e){return e.playlists.isUpdating})),u=Object(r.c)((function(e){return e.search.results}));"/playlists"!==e.location.pathname&&(t=u.filter((function(t){return t.playlistid===e.currentPlaylist})));var d=Object(r.c)(Tt);return Object(se.jsxs)("div",{className:Rt.a["tracks-container"],children:[Object(se.jsxs)("div",{className:Rt.a["update-button-container"],children:[Object(se.jsx)("button",{onClick:function(){a(nt()),i(Date.now())},className:Rt.a["update-button"],children:"update"}),Object(se.jsxs)("div",{style:{display:o?"":"none"},className:Rt.a["lds-ring"],children:[Object(se.jsx)("div",{}),Object(se.jsx)("div",{}),Object(se.jsx)("div",{}),Object(se.jsx)("div",{})]})]}),Object(se.jsxs)("div",{className:Rt.a["label-container"],children:[Object(se.jsxs)("div",{className:Rt.a["label-check-container"],children:[Object(se.jsx)(_t,{style:{fill:e.selectedAllIds.includes("search")?"#1db954":"white",display:e.selectedAllIds.includes("search")?"block":"none"},onClick:function(){e.handleCheckAll(u,"search",!1)},className:Rt.a["check-box"]}),Object(se.jsx)("li",{style:{display:e.selectedAllIds.includes("search")?"none":"block"},className:Rt.a["label-count"],children:"#"})]}),Object(se.jsx)("li",{className:Rt.a["label-title"],children:"title"}),Object(se.jsx)("li",{className:Rt.a["label-album"],children:"album"}),Object(se.jsx)("li",{className:Rt.a["label-playlist"],children:"playlist"})]}),Object(se.jsx)("div",{className:Rt.a["item-wrapper"],children:("/playlists"===e.location.pathname?u:t).map((function(t,a){return Object(se.jsx)(Ct,{checkAll:e.selected.length>0,isSelected:e.isSelected(t._id),deletedArr:e.deletedArr,handleCheckSelected:e.handleCheckSelected,playlist:d[t.playlistid],track:t,selected:e.selected,index:a},t._id)}))})]})},Pt=a(51),Lt=a.n(Pt),Wt=a(13),Ut=a.n(Wt),zt=function(e){var t=Object(l.useState)(),a=Object(s.a)(t,2),n=a[0],c=a[1],i=Object(l.useState)(),o=Object(s.a)(i,2),d=(o[0],o[1],Object(l.useState)(0)),p=Object(s.a)(d,2),h=p[0],_=p[1],f=Object(u.h)(),m=Object(r.b)(),y=Object(l.useRef)(),O=Object(r.c)((function(e){return e.playlists.byIds[f.id]})),v=Object(r.c)((function(e){return e.playlists.isUpdating}));Object(l.useEffect)((function(){if(O&&O.images[0]){var t=new Image;t.src=O.images[0].url,t.crossOrigin="",t.onload=function(){var e=function(e){var t=document.createElement("canvas"),a=t.getContext("2d"),n=t.width=e.naturalWidth,c=t.height=e.naturalHeight,r=n*c;a.drawImage(e,0,0,n,c);var i=function(e,t,a){for(var n,c,r,i,s,l=e,o=[],u=0;u<t;u+=a)c=l[0+(n=4*u)],r=l[n+1],i=l[n+2],("undefined"===typeof(s=l[n+3])||s>=125)&&(c>250&&r>250&&i>250||o.push([c,r,i]));return o}(a.getImageData(0,0,n,c).data,r,10),s=Lt()(i,4),l=s?s.palette():null,o={};return o.formattedMain="rgba(".concat(l[0][0],",").concat(l[0][1],",").concat(l[0][2],")"),o.formattedSecondary="rgba(".concat(l[1][0],",").concat(l[1][1],",").concat(l[1][2],")"),o}(t);c(e)}}e.findCurrentPlaylist(f.id)}),[O]),Object(l.useEffect)((function(){var e;m((e=f.id,function(t){Q(e).then((function(e){var a={},n=e.data.playlist;e.data.tracks.forEach((function(e,t){e.track.position=t,e.track.uid=e._id,a[e._id]=e.track}));var c=Object.keys(a);n.tracks=c,t({type:R,data:n,tracks:a,trackIds:c,offset:e.data.offset})}))}))}),[]);var g=Object(l.useCallback)((function(){var t=k.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,index:e.track.index,uri:e.track.uri}}));e.handleCheckAll(t,O.id)}),[O]),k=[],x=(k.length>0&&k[0].snapshot_id,Object(l.useMemo)((function(){return O&&(k=O.tracks.reduce((function(t,a){var n={};return n.playlist=O,n.track=e.allTracks[a],n.uid=e.allTracks[a].uid,n.track.name.length>0&&t.push(n),t}),[])),k.filter((function(t){if(!e.deletedArr.find((function(e){return e.trackid===t.track.uid})))return t})),k}),[O,h,O&&O.tracks.length])),w=Object(l.useRef)(!0),N=Object(l.useRef)(!0),I=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Math.round(t.target.scrollHeight-t.target.scrollTop),n=t.target.clientHeight,!(a-100<=n&&a+20>=n&&N.current<t.target.scrollTop&&w.current&&O.offset)){e.next=8;break}return w.current=!1,e.next=6,m(ct(O.id));case 6:200===e.sent.status&&(w.current=!0);case 8:N.current=t.target.scrollTop;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(l.useEffect)((function(){var t=e.scrollContainer.current;if(t)return t.addEventListener("scroll",I),function(){t.removeEventListener("scroll",I)}}),[O]),!O)return null;var S=x.filter((function(t){if(!e.selected.find((function(e){return e.trackid===t.track.uid})))return t})),E=function(t){var a=e.selected.some((function(e){return e.trackid===t}));return w.current=!0,a};return Object(se.jsxs)("div",{className:Ut.a[e.searchArr&&e.searchText>0?"inactive":"wrapper"],children:[Object(se.jsxs)("div",{className:Ut.a["header-container"],children:[Object(se.jsxs)("div",{style:{background:n?n.formattedMain:"transparent"},className:Ut.a["album-cover-container"],children:[Object(se.jsx)("img",{id:"playlistImage",className:Ut.a["album-cover"],src:O.images[0].url,alt:""}),Object(se.jsx)("div",{className:Ut.a["album-mask"]})]}),Object(se.jsxs)("div",{className:Ut.a["playlist-info-container"],children:[Object(se.jsx)("h3",{className:Ut.a["playlist-title"],children:O.name}),Object(se.jsxs)("p",{className:Ut.a["playlist-creator"],children:["Created By ",O.owner.display_name]}),Object(se.jsxs)("div",{className:Ut.a["update-button-container"],children:[Object(se.jsx)("button",{onClick:function(){m(nt(e.selected)),_(Date.now())},className:Ut.a["update-button"],children:"update"}),Object(se.jsxs)("div",{style:{display:v?"":"none"},className:Ut.a["lds-ring"],children:[Object(se.jsx)("div",{})," ",Object(se.jsx)("div",{})," ",Object(se.jsx)("div",{})," ",Object(se.jsx)("div",{})]})]})]})]}),Object(se.jsxs)("div",{className:Ut.a["tracks-container"],children:[Object(se.jsxs)("div",{className:Ut.a["label-container"],children:[Object(se.jsxs)("div",{className:Ut.a["label-check-container"],children:[Object(se.jsx)("p",{style:{display:0===S.length?"none":"block"},className:Ut.a["label-count"],children:"#"}),Object(se.jsx)(_t,{style:{fill:0===S.length&&e.selected.length>0?"#1db954":"white",display:0===S.length?"block":"none"},onClick:g,className:Ut.a["check-box"]})]}),Object(se.jsx)("div",{className:Ut.a["label-title"],children:"title"}),Object(se.jsx)("div",{className:Ut.a["label-album"],children:"album"}),Object(se.jsx)("div",{className:Ut.a["label-playlist"],children:"playlist"})]}),Object(se.jsx)("div",{className:Ut.a["item-wrapper"],children:x.map((function(t,a){if(t.track.name.length>0)return Object(se.jsx)(Ct,{changed:x,index:a,lastUpdated:h,checkAll:e.selected.length>0,isSelected:E(t.uid),getTracks:y,deletedArr:e.deletedArr,selected:e.selected,handleCheckSelected:e.handleCheckSelected,track:{track:t.track},playlist:O,imageSelection:"album"},t.track.uid)}))})]})]})},Dt=a(8),Ht=a.n(Dt),Bt=Object(d.a)((function(e){return e.search.results.length>0}),(function(e){return e.search.prevResults&&e.search.prevResults.length>0}),(function(e,t){return{searchResults:e,hasNext:t}})),Vt=function(e){var t=Object(l.useRef)(),a=Object(r.c)(Bt),n=Object(u.g)(),c=Object(l.useState)([]),o=Object(s.a)(c,2),d=o[0],p=o[1],h=Object(l.useState)(""),_=Object(s.a)(h,2),f=_[0],m=_[1],y=Object(l.useState)(),O=Object(s.a)(y,2),v=O[0],k=O[1],x=Object(l.useState)([]),w=Object(s.a)(x,2),N=w[0],E=(w[1],Object(l.useState)(!1)),C=Object(s.a)(E,2),A=C[0],R=C[1],T=Object(l.useState)(!1),M=Object(s.a)(T,2),L=M[0],W=M[1],z=Object(l.useState)(!1),D=Object(s.a)(z,2),H=D[0],B=D[1],V=Object(l.useState)([]),Q=Object(s.a)(V,2),Y=Q[0],G=Q[1],J=Object(l.useState)(!1),Z=Object(s.a)(J,2)[1],q=Object(l.useState)([]),X=(Object(s.a)(q,1),Object(l.useState)([])),$=Object(s.a)(X,2),ee=$[0],te=$[1],ae=Object(r.b)(),ne=Object(u.i)().path,ce=Object(r.c)((function(e){return e.playlists.byIds})),re=Object(r.c)((function(e){return e.tracks.byIds})),ie=Object(r.c)((function(e){return e.navbar.searchBar})),le=Object.keys(ce).map((function(e){return ce[e]})),oe=Object(r.c)((function(e){return e.search.results})),ue=function(e,t,n,c,r){G((function(c){var i=Object(Te.a)(c),s=Object(Te.a)(d),l={};l.trackid=e,l.playlistid=t,l.uri=n,l.index=r;var o=i.find((function(t){return t.trackid===e})),u=Object(Te.a)(c);if(o){var b=u.findIndex((function(t){return t.trackid===e}));if(s.includes(t)){var j=s.indexOf(t);s.splice(j,1)}else if(s.includes("search")){var h=s.indexOf("search");s.splice(h,1)}u.splice(b,1)}else u.push(l);return 0===oe.filter((function(e){if(!u.find((function(t){return t.trackid===e._id})))return e})).length&&a.searchResults&&s.push("search"),p(s),u}))};Object(l.useEffect)((function(){m("")}),[e.recreate]),Object(l.useEffect)((function(){ae(rt()),Z()}),[]),Object(l.useEffect)((function(){m("")}),[ie]);Object(l.useEffect)((function(){Y.length>0?R(!0):R(!1)}),[]);var de=Object(l.useRef)(!0),pe=Object(l.useCallback)((function(e){var t,a;ae((t=e,a=Y,function(){var e=Object(j.a)(b.a.mark((function e(n,c){var r,s,l,o,u,d,p,j,h,_,f,m,y,O,v,g;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:I}),r=c().tracks.byIds,s=[],l={},o={},u=a.map((function(e){return e.uri})),d={},p={},j=Object(et.a)(t);try{for(j.s();!(h=j.n()).done;){_=h.value,f=Object(et.a)(a);try{for(f.s();!(m=f.n()).done;)y=m.value,O=at()(),(v=Object(i.a)({},r[y.trackid])).uid=O.toString(),o[O]=v,s.push(v.id),l[v.uid]=v,d[_.playlistid]?d[_.playlistid].push(v):d[_.playlistid]=[v]}catch(b){f.e(b)}finally{f.f()}p[_.playlistid]=u}}catch(b){j.e(b)}finally{j.f()}return e.next=12,K(p,s,d);case 12:return g=e.sent,n({type:S,playlists:Object.keys(p),tracksToAdd:d,trackids:Object.keys(o)}),e.abrupt("return",g.status);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then((function(e){200===e&&(B(!1),R(!1),G([]),p([]))})).catch((function(){alert("Data out of sync, click update to sync data with Spotify")}))}),[Y]),be=Object(l.useCallback)((function(){B(!1)}),[Y]),je=function(e,t,a){e="search"===t?e=e.map((function(e){return{trackid:e._id,playlistid:e.playlistid,uri:e.track.uri}})):e,p((function(n){var c,r=Object(Te.a)(n),i=Object(Te.a)(Y),s=r.indexOf(t),l=[];r.includes(t)||a?r.includes(t)&&!a?(l=i.filter((function(e){return e.playlistid!==t})),r.splice(s,1),G((function(){return[]}))):r.includes(t)&&a&&(r.splice(s,1),G((function(e){return e}))):((c=l).push.apply(c,Object(Te.a)(e)),r.push(t),G((function(){return l})));return r}))},he=Object(l.useRef)(!0);if(!le)return null;var _e=function(e){var t=Math.round(e.target.scrollHeight-e.target.scrollTop),c=e.target.clientHeight;t-100<=c&&t+20>=c&&de.current<e.target.scrollTop&&he.current&&a.searchResults&&!0===a.hasNext&&(he.current=!1,ae(it(f,"/playlists"===n.pathname,v,!0)).then((function(){he.current=!0})).catch((function(){}))),de.current=e.target.scrollTop};return Object(se.jsxs)("div",{ref:t,onScroll:_e,id:"scroll-container","data-testid":"scroll-container",className:Ht.a["container-container"],children:[Object(se.jsxs)("div",{className:Ht.a["header-container"],children:[Object(se.jsx)("div",{className:Ht.a[Y.length>0?"options-container":"inactive"],children:Object(se.jsx)("div",{className:Ht.a[A||Y.length>0?"drop-down-container":"inactive"],children:Object(se.jsxs)("div",{className:Ht.a["drop-down-content"],children:[Object(se.jsxs)("div",{className:Ht.a["drop-down-left-container"],children:[Object(se.jsx)("div",{onClick:function(){R(!1),p([]),G([])},className:Ht.a["cancel-icon-container"],children:Object(se.jsx)("span",{className:Ht.a["main-trigger-icon-container"],children:Object(se.jsx)("i",{className:Ht.a["main-trigger-icon"]})})}),Object(se.jsxs)("p",{className:Ht.a["selected-count"],children:["Selected ",Y.length]})]}),Object(se.jsxs)("div",{className:Ht.a["main-options-icons"],children:[Object(se.jsx)(Ge,{"data-testid":"delete icon",onClick:function(){W(!L)},className:Ht.a["trash-icon"]}),Object(se.jsx)(Ue,{onClick:function(){B(!0)},className:Ht.a["add-icon-container"]})]})]})})}),Object(se.jsx)("div",{className:Ht.a[Y.length>0?"inactive":"title-options-container"],children:Object(se.jsxs)("div",{className:Ht.a[Y.length>0?"inactive":"title-container"],children:[Object(se.jsx)("p",{className:Ht.a["title-text"],children:"Playlists"}),Object(se.jsxs)("div",{className:Ht.a["input-container"],children:[Object(se.jsx)("input",{"aria-label":"search-bar",onChange:function(e){m(""),G([]);var a=e.target.value.trim();a=a.replace(/\s/g,""),m(a),a.length>0&&ae(it(a,"/playlists"===n.pathname,v)).then((function(e){200===e&&t.current.scrollTo(0,0)})).catch((function(){})),ae({type:P,results:[]})},value:f,className:Ht.a["input-searchbar"],type:"text",name:"",id:""}),Object(se.jsx)("div",{className:Ht.a["input-content-container"],children:Object(se.jsx)(Ve,{className:Ht.a["search-icon"]})})]})]})})]}),Object(se.jsxs)("div",{className:Ht.a.wrapper,children:[Object(se.jsxs)("div",{children:[Object(se.jsx)(Nt,{showModal:L,handleDelete:function(){var e=Object(Te.a)(ee),t=Y.filter((function(e){if("Spotify"!==ce[e.playlistid].owner.display_name)return e})),n=e.concat(t);ae(function(e,t){return function(){var a=Object(j.a)(b.a.mark((function a(n,c){var r,i,s,l,o,u;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n({type:"DELETE_TRACK_REQUEST"}),r=e.length,i=[],s=[],l={},o=0;o<r;o++)s.push(e[o].trackid),i.includes(e[o].playlistid)?l[e[o].playlistid].tracks.push(e[o]):(i.push(e[o].playlistid),l[e[o].playlistid]={},l[e[o].playlistid].tracks=[e[o]]);return a.prev=6,a.next=9,F(l,t,i,s);case 9:u=a.sent,a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(6),n({type:U}),a.abrupt("return",Promise.reject(a.t0.response.status));case 16:return n({trackids:s,playlistids:i,apiData:l,type:g}),a.abrupt("return",{status:u.status});case 18:case"end":return a.stop()}}),a,null,[[6,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,a.searchResults)).then((function(e){(e&&200===e.status||"string"===typeof e)&&(te(n),W(!1),R(!1),G([]),m(""),ae({type:P}))})).catch((function(){alert("Data out of sync, click update to sync data with Spotify")}))},closeModal:function(){W(!1)}}),Object(se.jsx)(kt,{current_user:e.current_user,playlist:le,showModal:H,selected:Y,handleAdd:pe,closeModal:be}),Object(se.jsx)("div",{className:Ht.a.container,children:Object(se.jsx)("div",{className:Ht.a["/playlists"===n.pathname?"search-results-container":"inactive"],children:Object(se.jsx)("div",{className:Ht.a[a.searchResults&&f.length>0?"inactive":"item-container"],children:le.map((function(e){return Object(se.jsx)(dt,{playlist:e},e.id)}))})})}),a.searchResults?Object(se.jsx)(Mt,{handleCheckAll:je,location:n,selectedAllIds:d,searchArr:N,selected:Y,isSelected:function(e){return Y.some((function(t){return t.trackid===e}))},handleCheckSelected:ue,currentPlaylist:v,deletedArr:ee}):null]}),Object(se.jsx)(u.c,{children:Object(se.jsx)(u.a,{path:"".concat(ne,"/:id"),children:a.searchResults?null:Object(se.jsx)(zt,{handleFetchScroll:_e,selectedAllIds:d,handleCheckAll:je,deletedArr:ee,searchText:f.length,searchArr:N.length,findCurrentPlaylist:function(e){k(e)},handleCheckSelected:ue,selected:Y,searchActive:a.searchResults,allTracks:re,scrollContainer:t})})})]})]})},Kt=a(52),Qt=a.n(Kt),Yt=function(){};Yt();var Ft=function(){var e=Object(u.f)(),t=Object(r.b)(),a=Object(r.c)((function(e){return e.current_user})),n=Object(l.useState)(!1),c=Object(s.a)(n,2),o=c[0],d=c[1];return Object(l.useEffect)((function(){var a=new URL(window.location).search.split("=")[1];new Promise((function(e,t){localStorage.getItem("access_token")?e("logged In"):t("not logged In")})).then((function(){t(te())})).catch((function(){a&&"access_denied"!==a?t(ee(a)).then((function(a){a&&(e.push("/"),t(te()))})).catch((function(){})):window.location.href="https://accounts.spotify.com/authorize?client_id=da42a01c50ef409f802caf63a98de4d4&response_type=code&redirect_uri=".concat("http://localhost:3000"===window.location.origin?"http://localhost:3000":"better-playlist.vercel.app","&scope=").concat(encodeURIComponent("user-read-private user-read-email playlist-read-private playlist-modify-private user-top-read user-read-recently-played playlist-modify-public"),"&show_dialog=true")}))}),[]),a.userInfo?Object(se.jsxs)("div",{className:Qt.a.container,children:[Object(se.jsx)(Re,{reRecreateComp:function(){d(!o)}}),Object(se.jsxs)(u.c,{children:[Object(se.jsx)(u.a,{exact:!0,path:"/",children:Object(se.jsx)(pe,{})}),Object(se.jsx)(u.a,{path:"/playlists",render:function(e){return Object(se.jsx)(Vt,Object(i.a)(Object(i.a)({},e),{},{recreate:o,current_user:a}))}})]})]}):null},Gt=a(32),Jt=a(28);a(87);function Zt(e,t){var a={};for(var n in t.tracksToAdd){var c,r=Object(et.a)(t.tracksToAdd[n]);try{for(r.s();!(c=r.n()).done;){var s=c.value,l=Object(i.a)({},s);l.playlistid=n,a[s.uid]=l}}catch(u){r.e(u)}finally{r.f()}}var o=Object(i.a)({},e);return o.byIds=Object(i.a)(Object(i.a)({},o.byIds),a),o}function qt(e,t){var a,n=Object(i.a)({},e),c=Object(et.a)(t.trackids);try{for(c.s();!(a=c.n()).done;){var r=a.value;delete e.byIds[r]}}catch(s){c.e(s)}finally{c.f()}return n}function Xt(e,t){var a,n=t.playlists,c=(t.trackids,t.tracksToAdd),r=Object(i.a)({},e),s=Object(et.a)(n);try{for(s.s();!(a=s.n()).done;){var l=a.value,o=c[l].map((function(e){return e.uid}));r.byIds[l].tracks=[].concat(Object(Te.a)(r.byIds[l].tracks),Object(Te.a)(o))}}catch(u){s.e(u)}finally{s.f()}return r}function $t(e,t){var a=Object(i.a)({},e),n=function(e){a.byIds[e].tracks=a.byIds[e].tracks.filter((function(a){if(!t.apiData[e].tracks.some((function(e){return e.trackid.toString()===a.toString()})))return a}))};for(var c in t.apiData)n(c);return a}function ea(e,t){t.tracks;var a=t.pageInfo;return e=Object(i.a)(Object(i.a)({},e),{},{byIds:Object(i.a)(Object(i.a)({},e.byIds),{},Object(Jt.a)({},t.playlistid,Object(i.a)(Object(i.a)({},e.byIds[t.playlistid]),{},{tracks:Object(Te.a)(t.trackIds),page:Object(i.a)(Object(i.a)({},e.byIds[t.playlistid].page),a)})))})}var ta=Object(Gt.combineReducers)({current_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access_token:localStorage.getItem("access_token"),loggedIn:!1,isLoggingIn:!1,userInfo:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object.assign({},e,{isLoggingIn:!0,access_token:t.access_token});case w:return Object.assign({},e,{access_token:t.access_token});case N:return Object.assign({},e,{access_token:null,loggedIn:!1,isLoggingIn:!1,userInfo:null});case x:return Object.assign({},e,{userInfo:t.user});default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,err:null,status:"idle",top_tracks:{},recent_tracks:{},allIds:[],cursor:null,byIds:{},tracks:{},offset:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return qt(e,t);case D:var a=t.tracks,n=t.idsToRemove,c=Object(i.a)({},e);for(var r in c.byIds)n.includes(r)&&delete c.byIds[r];return c.byIds=Object(i.a)(Object(i.a)({},c.byIds),a),c;case R:return Object.assign({},e,{byIds:Object(i.a)(Object(i.a)({},e.byIds),t.tracks),allIds:[].concat(Object(Te.a)(e.allIds),Object(Te.a)(t.trackIds))});case W:return Object.assign({},e,{byIds:Object(i.a)(Object(i.a)({},e.byIds),t.tracks),allIds:[].concat(Object(Te.a)(e.allIds),Object(Te.a)(t.trackids))});case C:return Object.assign({},e,{byIds:Object(i.a)(Object(i.a)({},e.byIds),t.tracks)});case S:return Zt(e,t);case A:return Object.assign({},e,{allIds:Object(Te.a)(t.trackIds),byIds:Object(i.a)(Object(i.a)({},e.byIds),t.tracks)});case h:case O:return Object.assign({},e,{isFetching:!0});case _:return Object.assign({},e,{top_tracks:t.top_tracks,isFetching:!1,byIds:Object(i.a)(Object(i.a)({},e.byIds),t.byIds)});case y:return Object.assign({},e,{recent_tracks:Object(i.a)(Object(i.a)({},e.recent_tracks),t.recent_tracks),cursor:t.cursors,isFetching:!1,byIds:Object(i.a)(Object(i.a)({},e.byIds),t.byIds)});default:return e}},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byIds:{},allIds:[],isFetching:!1,isUpdating:!1,err:null,status:"idle"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object.assign({},e,{err:"Click update to sync data from Spotify"});case z:return Object.assign({},e,{isUpdating:!0});case D:var a=function(){var a=t.playlists,n=Object(i.a)({},e);for(var c in a)n.byIds[c]=a[c];return n.isUpdating=!1,n};return a();case g:return $t(e,t);case E:return Object.assign({},e,{isFetching:!0,status:"fetching"});case R:return Object.assign({},e,{byIds:Object(i.a)(Object(i.a)({},e.byIds),{},Object(Jt.a)({},t.data.id,Object(i.a)(Object(i.a)({},t.data),{},{offset:t.offset}))),allIds:[].concat(Object(Te.a)(e.allIds),[t.data.id])});case W:return Object.assign({},e,{byIds:Object(i.a)(Object(i.a)({},e.byIds),{},Object(Jt.a)({},t.playlistid,Object(i.a)(Object(i.a)({},e.byIds[t.playlistid]),{},{offset:t.offset,tracks:[].concat(Object(Te.a)(e.byIds[t.playlistid].tracks),Object(Te.a)(t.trackids))})))});case C:return Object.assign({},e,{status:"idle",byIds:Object(i.a)(Object(i.a)({},e.byIds),{},Object(Jt.a)({},t.playlist.id,Object(i.a)(Object(i.a)({},e.byIds[t.playlist.id]),{},{offset:e.byIds[t.playlist.id].tracks.length+t.trackIds.length,page:Object(i.a)({},t.page),tracks:[].concat(Object(Te.a)(e.byIds[t.playlist.id].tracks),Object(Te.a)(t.trackIds))})))});case I:return Object(i.a)({},e);case A:return ea(e,t);case S:return Xt(e,t);case f:return Object.assign({},e,{isFetching:!0});case m:var n=Object(i.a)({},e);for(var c in t.byIds)n.byIds=Object(i.a)(Object(i.a)({},n.byIds),{},Object(Jt.a)({},c,Object(i.a)(Object(i.a)({},t.byIds[c]),e.byIds[c])));return n;default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchBar:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object.assign({},e,{searchBar:t.clearSearch});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetching:!1,category:"all",results:[],prevResults:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a=e.results.filter((function(e){return!t.trackids.includes(e)}));return Object.assign({},e,{results:a});case T:return Object.assign({},e,{fetching:!0});case M:return Object.assign({},e,{fetching:!1,results:Object(Te.a)(t.results),prevResults:t.results});case L:return Object.assign({},e,{results:[].concat(Object(Te.a)(e.results),Object(Te.a)(t.results)),prevResults:t.results});case P:return Object.assign({},e,{results:[]});default:return e}}}),aa=a(53),na=a(54);var ca=function(){var e=Object(aa.composeWithDevTools)({trace:!0});return Object(Gt.createStore)(ta,e(Object(Gt.applyMiddleware)(na.a)))}();c.a.hydrate(Object(se.jsx)(be.a,{children:Object(se.jsx)(r.a,{store:ca,children:Object(se.jsx)(Ft,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.511c1569.chunk.js.map