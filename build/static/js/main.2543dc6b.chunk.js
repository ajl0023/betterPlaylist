(this["webpackJsonpspotify-profile"]=this["webpackJsonpspotify-profile"]||[]).push([[0],{10:function(e,t,a){e.exports={inactive:"playlistAddModal_inactive__1ukjz","container-mask":"playlistAddModal_container-mask__1NMK5",container:"playlistAddModal_container__gvBzk","modal-container":"playlistAddModal_modal-container__k9dYS","header-container":"playlistAddModal_header-container__3b1gw","cancel-icon-container":"playlistAddModal_cancel-icon-container__1rbim","main-trigger-icon-container":"playlistAddModal_main-trigger-icon-container__29zyZ","modal-title":"playlistAddModal_modal-title__2YH5Q","playlist-container":"playlistAddModal_playlist-container__3lQV6","playlist-item-container":"playlistAddModal_playlist-item-container__3eLQh","playlist-item":"playlistAddModal_playlist-item__85gRG","check-index-container":"playlistAddModal_check-index-container__BgaId","check-icon":"playlistAddModal_check-icon__yNoII","playlist-count":"playlistAddModal_playlist-count__ddftW","check-icon-place":"playlistAddModal_check-icon-place__2w0nd","button-container":"playlistAddModal_button-container__1tuIi","cancel-button":"playlistAddModal_cancel-button__cofML","delete-button":"playlistAddModal_delete-button__2AynG"}},11:function(e,t,a){e.exports={inactive:"playlisttracks_inactive__38Zbe","item-container":"playlisttracks_item-container__2A1L3","check-container":"playlisttracks_check-container__1CU1_","check-icon":"playlisttracks_check-icon__Fjull","track-count":"playlisttracks_track-count__OwUYF","check-count-container":"playlisttracks_check-count-container__13HqH","check-icon-place":"playlisttracks_check-icon-place__3meMX","item-title-container":"playlisttracks_item-title-container__SlBt_","album-image-container":"playlisttracks_album-image-container__2Zpwl","album-image":"playlisttracks_album-image__14t_Z","title-container":"playlisttracks_title-container__DKiHx","track-title-container":"playlisttracks_track-title-container__ehpzA","track-title":"playlisttracks_track-title__252a6","track-artist":"playlisttracks_track-artist__3-SXk","artist-name":"playlisttracks_artist-name__2wfvz","track-album-container":"playlisttracks_track-album-container__26h3K","track-album":"playlisttracks_track-album__abvD6","track-playlist-container":"playlisttracks_track-playlist-container__JLlQn","track-playlist":"playlisttracks_track-playlist__3UCMa"}},13:function(e,t,a){e.exports={"item-wrapper":"singlePlaylist_item-wrapper__1Ndsp",wrapper:"singlePlaylist_wrapper__3smAq","header-container":"singlePlaylist_header-container__3kRNj","album-cover-container":"singlePlaylist_album-cover-container__39iEV","album-cover":"singlePlaylist_album-cover__oYNWZ","album-mask":"singlePlaylist_album-mask__13o5R","playlist-info-container":"singlePlaylist_playlist-info-container__1aKG1","playlist-title":"singlePlaylist_playlist-title__1Wx71","playlist-creator":"singlePlaylist_playlist-creator__2GiqR",inactive:"singlePlaylist_inactive__1mmTD","tracks-container":"singlePlaylist_tracks-container__CNdsy","label-container":"singlePlaylist_label-container__3tBJj","label-check-container":"singlePlaylist_label-check-container__26SRK","label-count":"singlePlaylist_label-count__1fnoS","check-box":"singlePlaylist_check-box__3mZGW","label-item":"singlePlaylist_label-item__2jap0","label-title":"singlePlaylist_label-title__2b3F4","label-artist":"singlePlaylist_label-artist__38exh","label-playlist":"singlePlaylist_label-playlist__9NOB5"}},20:function(e,t,a){e.exports={inactive:"playlistOptionsModal_inactive__3HWX9","container-mask":"playlistOptionsModal_container-mask__PYwTR",container:"playlistOptionsModal_container__1i1bA","modal-container":"playlistOptionsModal_modal-container__L3T2G","header-container":"playlistOptionsModal_header-container__2WjGd","cancel-icon-container":"playlistOptionsModal_cancel-icon-container__1cRDj","main-trigger-icon-container":"playlistOptionsModal_main-trigger-icon-container__ZjI0K","button-container":"playlistOptionsModal_button-container__3dpZK","cancel-button":"playlistOptionsModal_cancel-button__27tjm","delete-button":"playlistOptionsModal_delete-button__1l_4T"}},21:function(e,t,a){e.exports={inactive:"playlist_inactive__zNP4O","playlist-container":"playlist_playlist-container__3hMve","fallback-image-container":"playlist_fallback-image-container__1dG9F","playlist-image-container":"playlist_playlist-image-container__3l9F7","playlist-image":"playlist_playlist-image__2y3tW","description-container":"playlist_description-container__3dYli","playlist-title":"playlist_playlist-title__2LCMJ","playlist-description":"playlist_playlist-description__N-adY"}},24:function(e,t,a){e.exports={container:"Navbar_container__3wJQ9",content:"Navbar_content__2Db6D",logo:"Navbar_logo__jk-dN","menu-container":"Navbar_menu-container__2D5CH","menu-item":"Navbar_menu-item__3ndlx"}},25:function(e,t,a){e.exports={"track-container":"track_track-container__19w3l","album-cover-container":"track_album-cover-container__Y7P2L","album-cover":"track_album-cover__816PU","info-container":"track_info-container__nZlmV","album-title":"track_album-title__38wDc","track-title":"track_track-title__15gdH"}},3:function(e,t,a){e.exports={inactive:"playlistWrapper_inactive__S6c6O","label-container":"playlistWrapper_label-container__3d7s7","label-item":"playlistWrapper_label-item__1WvPI","label-title":"playlistWrapper_label-title__f8RMt","label-artist":"playlistWrapper_label-artist__2RZ75","label-playlist":"playlistWrapper_label-playlist__1NS48","label-check-container":"playlistWrapper_label-check-container__2xl-X","check-box":"playlistWrapper_check-box__3v15L","item-wrapper":"playlistWrapper_item-wrapper__J_aFI","options-container":"playlistWrapper_options-container__2O909","hide-drop-down":"playlistWrapper_hide-drop-down__3UsxC","drop-down-container":"playlistWrapper_drop-down-container__2jxgJ","drop-down-left-container":"playlistWrapper_drop-down-left-container__-9L4f","drop-down-content":"playlistWrapper_drop-down-content__1BHMZ","selected-count":"playlistWrapper_selected-count__2C-yL","cancel-icon-container":"playlistWrapper_cancel-icon-container__2zV8Q","main-trigger-icon-container":"playlistWrapper_main-trigger-icon-container__AdE4w","main-options-icons":"playlistWrapper_main-options-icons__2CIdG","add-icon-container":"playlistWrapper_add-icon-container__39hUK","container-container":"playlistWrapper_container-container__3v2ZE",wrapper:"playlistWrapper_wrapper__TS0Ka",container:"playlistWrapper_container__3RoNr","item-container":"playlistWrapper_item-container__2F-o-","title-text":"playlistWrapper_title-text__2_HIZ","playlist-content":"playlistWrapper_playlist-content__1GlNm","playlist-container":"playlistWrapper_playlist-container__mXSsD","fallback-image-container":"playlistWrapper_fallback-image-container__1NJXi","playlist-image-container":"playlistWrapper_playlist-image-container__1IYgr","playlist-image":"playlistWrapper_playlist-image__23YjI","description-container":"playlistWrapper_description-container__28JKe","playlist-title":"playlistWrapper_playlist-title__hKktu","playlist-description":"playlistWrapper_playlist-description__3fj_3","header-container":"playlistWrapper_header-container__2iUq6","title-options-container":"playlistWrapper_title-options-container__3Txju","title-container":"playlistWrapper_title-container__39wTA","input-container":"playlistWrapper_input-container__1b3NW","input-searchbar":"playlistWrapper_input-searchbar__2AcQV","input-content-container":"playlistWrapper_input-content-container__2G4AR","search-icon":"playlistWrapper_search-icon__1v8RW","tracks-container":"playlistWrapper_tracks-container__1ghaJ","label-count":"playlistWrapper_label-count__1Qvft"}},48:function(e,t,a){e.exports={test:"trackInfo_test__3sU5S"}},49:function(e,t,a){e.exports={container:"wrapper_container__1aLqH"}},6:function(e,t,a){e.exports={inactive:"home_inactive__19yDr",container:"home_container__1APdC","dropdown-container":"home_dropdown-container__4--TS","user-dropdown-input":"home_user-dropdown-input__1q4x5","arrow-up":"home_arrow-up__2eopt","dropdown-content-container":"home_dropdown-content-container__30RYO","dropdown-button":"home_dropdown-button__17n6u","user-icon-header-container":"home_user-icon-header-container__3FHIU","user-icon-container":"home_user-icon-container__3E9bc","user-image-container":"home_user-image-container__2CQYn","user-image":"home_user-image__9LpmQ","user-displayName":"home_user-displayName__xJ9eM","arrow-container":"home_arrow-container__3hYlM","user-arrow-trigger":"home_user-arrow-trigger__2Rquj","user-icon-box":"home_user-icon-box__mCw_O","user-info-container":"home_user-info-container__scT1M","profile-picture-container":"home_profile-picture-container__p3wSC","profile-picture":"home_profile-picture__3uhE5","track-divisor-container":"home_track-divisor-container__1RJBs","top-tracks-container":"home_top-tracks-container__3zApe","recent-tracks-container":"home_recent-tracks-container__3GKig","top-tracks-title":"home_top-tracks-title__2QYBn"}},86:function(e,t,a){"use strict";a.r(t);var n=a(31),c=a.n(n),i=a(5),r=a(2),l=a(1),s=a(24),o=a.n(s),d=a.p+"static/media/logo.44a41c9f.svg",u=(a.p,a(14)),p="REQUEST_TOP_TRACKS",b="RECIEVE_TOP_TRACKS",j="REQUEST_PLAYLISTS",_="RECIEVE_PLAYLISTS",m="RECIEVE_RECENT_TRACKS",h="REQUEST_RECENT_TRACKS",y="NAVBAR_LINK_CLICKED",f="LOGIN_REQUEST",O="USER_INFO_SUCCESS",k="ACCESS_TOKEN_RECIEVED",g="LOG_OUT",v="ADD_TRACK_REQUEST",x="ADD_TRACK_SUCCESS",N="REQUEST_TRACKS",w="RECIEVE_TRACKS",S=a(0),I=function(e){var t=Object(i.b)(),a=function(){t((function(e,t){var a=t().navbar.searchBar;e({type:y,clearSearch:!a})}))};return Object(S.jsxs)("div",{className:o.a.container,children:[Object(S.jsxs)("div",{className:o.a.content,children:[Object(S.jsx)(u.b,{to:{pathname:"/"},children:Object(S.jsx)("img",{className:o.a.logo,src:d,alt:""})}),Object(S.jsxs)("div",{className:o.a["menu-container"],children:[Object(S.jsx)(u.b,{onClick:a,to:{pathname:"/"},className:o.a["menu-item"],children:"Home"}),Object(S.jsx)(u.b,{onClick:a,to:{pathname:"/playlists"},className:o.a["menu-item"],children:"Playlists"})]})," "]})," ",Object(S.jsx)("div",{})]})},E=a(7),C=a.n(E),A=a(25),M=a.n(A);C.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401!==e.response.status&&403!==e.response.status||t._retry?e:(t._retry=!0,C()({url:"/api/refresh",method:"POST",withCredentials:!0}).then((function(e){if(e.data)return localStorage.setItem("access_token",e.data.access_token),C.a.defaults.headers.common.Authorization="Bearer "+e.access_token,t.headers.Authorization="Bearer "+e.data.access_token,C()(t)})))})),C.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token"));var P=function(e,t){return C()({url:"/api/playlists/".concat(e,"?").concat(t?"offset=".concat(t):""),method:"GET",withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}})},T=function(e){if(!e.image[0])return Object(S.jsx)("div",{});return Object(S.jsxs)("a",{onClick:function(){window.open(e.track.external_urls.spotify,"_blank")},className:M.a["track-container"],children:[Object(S.jsx)("div",{className:M.a["album-cover-container"],children:Object(S.jsx)("img",{className:M.a["album-cover"],src:e.image[0].url,alt:""})}),Object(S.jsxs)("div",{className:M.a["info-container"],children:[" ",Object(S.jsx)("p",{className:M.a["track-title"],children:e.track.name}),Object(S.jsx)("p",{className:M.a["album-title"],children:e.track.album.name})]})]})};function W(){return function(e,t){var a=Object.keys(t().tracks.byIds),n={};e({type:p}),C()({url:"/api/top-tracks",method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(t){if(t){var c=t.data.items,i={};c.forEach((function(e){i[e.uid]=e,a.includes(e.uid)||(n[e.uid]=e)})),e({byIds:n,type:b,top_tracks:i,allIds:Object.keys(i)})}}))}}function R(){return function(e,t){var a=t().tracks.cursor;e({type:h});var n,c=Object.keys(t().tracks.byIds),i={};(n=a,C()({url:"/api/recently-played?".concat(n?"before=".concat(n.before):""),method:"GET"})).then((function(t){if(t){var a=t.data.items,n={};a.forEach((function(e){n[e.track.uid]=e.track,c.includes(e.track.uid)||(i[e.track.uid]=e.track)})),e({byIds:i,cursors:t.data.cursors,type:m,recent_tracks:n,allIds:Object.keys(n)})}}))}}var L=a(6),z=a.n(L);var B=function(){return function(e,t){return localStorage.removeItem("access_token"),new Promise((function(t,a){C()({url:"/api/logout",method:"POST",withCredentials:!0}).then((function(a){200===a.status&&(e({type:g}),t(a.status))}))}))}},D=function(e){return function(t,a){return new Promise((function(a,n){var c;(c=e,C()({url:"/api/authorization",method:"POST",withCredentials:!0,data:{code:c}})).then((function(e){e&&(t({access_token:e.data.access_token,type:k}),localStorage.setItem("access_token",e.data.access_token),a(""))})).catch((function(e){localStorage.setItem("access_token",123)}))}))}};function K(){return function(e,t){C()({url:"/api/user-info",method:"GET",withCredentials:!0}).then((function(t){200===t.status&&e({type:O,user:t.data})}))}}var U,H=function(e){var t,a=Object(i.c)((function(e){return e.current_user})),n=a.userInfo,c=Object(i.b)(),r=Object(i.c)((function(e){return e.tracks.top_tracks}));r&&(t=Object.keys(r).map((function(e){return r[e]})));var s,o=Object(i.c)((function(e){return e.tracks.recent_tracks}));o&&(s=Object.keys(o).map((function(e){return o[e]})));return Object(l.useEffect)((function(){c(W()),c(R())}),[a.access_token]),r&&o&&n?Object(S.jsxs)("div",{className:z.a.container,children:[Object(S.jsx)("input",{className:z.a["user-dropdown-input"],type:"checkbox",id:"user-dropdown"}),Object(S.jsx)("label",{htmlFor:"user-dropdown",className:z.a["user-icon-header-container"],children:Object(S.jsxs)("div",{className:z.a["user-icon-box"],children:[Object(S.jsxs)("div",{className:z.a["user-icon-container"],children:[Object(S.jsx)("div",{className:z.a["user-image-container"],children:Object(S.jsx)("img",{className:z.a["user-image"],src:n.images[0].url,alt:""})}),Object(S.jsx)("p",{className:z.a["user-displayName"],children:n.display_name}),Object(S.jsxs)("div",{className:z.a["arrow-container"],children:[Object(S.jsx)("span",{className:z.a["user-arrow-trigger"]})," "]})]}),Object(S.jsxs)("div",{className:z.a["dropdown-container"],children:[Object(S.jsx)("span",{className:z.a["arrow-up"]}),Object(S.jsx)("div",{className:z.a["dropdown-content-container"],children:Object(S.jsx)("button",{onClick:function(){c(B()).then((function(e){200===e&&window.location.reload()}))},className:z.a["dropdown-button"],children:"Log out"})})]})]})}),Object(S.jsx)("div",{className:z.a.content,children:Object(S.jsxs)("div",{className:z.a["user-info-container"],children:[Object(S.jsx)("div",{className:z.a["profile-picture-container"],children:Object(S.jsx)("img",{src:n&&n.images[0].url,className:z.a["profile-picture"]})}),Object(S.jsx)("h2",{className:z.a["profile-name"],children:n&&n.display_name})]})}),Object(S.jsxs)("div",{className:z.a["track-divisor-container"],children:[Object(S.jsxs)("div",{className:z.a["top-tracks-container"],children:[" ",Object(S.jsx)("p",{className:z.a["top-tracks-title"],children:"your top tracks"}),t.map((function(e){return Object(S.jsx)(T,{track:e,image:e.album.images},e.uid)}))]}),Object(S.jsxs)("div",{className:z.a["recent-tracks-container"],children:[" ",Object(S.jsx)("p",{className:z.a["top-tracks-title"],children:"recently played"}),s.map((function(e){return Object(S.jsx)(T,{track:e,image:e.album.images},e.uid)}))]})]})]}):Object(S.jsx)("div",{})},Q=(a(48),a(9)),F=a(11),G=a.n(F);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function J(e,t){var a=e.title,n=e.titleId,c=Y(e,["title","titleId"]);return l.createElement("svg",V({width:"24px",height:"24px",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,U||(U=l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))}var Z,q=l.forwardRef(J);a.p;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ee(e,t){var a=e.title,n=e.titleId,c=$(e,["title","titleId"]);return l.createElement("svg",X({width:"24px",height:"24px",className:"v1262d JUQOtc rqet2b",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,Z||(Z=l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var te,ae=l.forwardRef(ee),ne=(a.p,function(e){var t=Object(l.useState)(!1),a=Object(r.a)(t,2),n=(a[0],a[1],e.playlistSet);e.index;Object(l.useEffect)((function(){}),[]);return e.playlistSet&&e.playlistSet.track&&e.playlistSet.track.album.images[0]?Object(S.jsxs)("div",{className:G.a[e.deletedArr.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"inactive":"item-container"],children:[Object(S.jsxs)("div",{className:G.a["check-count-container"],children:[Object(S.jsxs)("div",{htmlFor:"test",className:G.a["check-container"],children:[" ",Object(S.jsx)(ae,{style:{display:e.selected.find((function(t){return e.playlistSet.playlist.id===t.playlistid}))?"flex":"none"},className:G.a["check-icon-place"]}),Object(S.jsx)(q,{onClick:function(t){var a,n,c;a=e.playlistSet.track.uid,n=e.playlistSet.playlist.id,c=e.playlistSet.track.uri,e.getTracks,e.handleCheckSelected(a,n,c,e.getTracks,e.index)},style:{display:e.selected.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"flex":"none",fill:e.selected.find((function(t){return t.trackid===e.playlistSet.track.uid}))?"#1db954":"white"},className:G.a[(e.playlistSet.playlist.owner.display_name,"check-icon")]})]}),Object(S.jsx)("li",{className:G.a[e.selected.find((function(t){return e.playlistSet.playlist.id===t.playlistid}))?"inactive":"track-count"],children:e.index+1})]}),Object(S.jsxs)("div",{className:G.a["item-title-container"],children:[Object(S.jsx)("div",{className:G.a["album-image-container"],children:Object(S.jsx)("img",{className:G.a["album-image"],src:e.imageSelection?e.playlistSet.track.album.images[0].url:e.playlistSet.playlist.images[0].url,alt:""})}),Object(S.jsxs)("div",{className:G.a["title-container"],children:[Object(S.jsx)("div",{className:G.a["track-title-container"],children:Object(S.jsx)("p",{className:G.a["track-title"],children:n.track.name})}),Object(S.jsx)("span",{className:G.a["track-artist"],children:n.track.artists.map((function(e,t){return Object(S.jsxs)("span",{children:[Object(S.jsx)("a",{children:Object(S.jsx)("span",{className:G.a["artist-name"],children:e.name})}),n.track.artists.length-1!==t&&", "]},e.id)}))})]})]}),Object(S.jsx)("div",{className:G.a["track-album-container"],children:Object(S.jsx)("p",{className:G.a["track-album"],children:n.track.album.name})}),Object(S.jsx)("div",{to:"playlists/".concat(n.playlist.id),className:G.a["track-playlist-container"],children:Object(S.jsx)("p",{className:G.a["track-playlist"],children:n.playlist.name})})]}):Object(S.jsx)("div",{})}),ce=a(49),ie=a.n(ce);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function se(e,t){var a=e.title,n=e.titleId,c=le(e,["title","titleId"]);return l.createElement("svg",re({height:32,role:"img",width:32,viewBox:"-20 -25 100 100","data-testid":"card-image-fallback",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,te||(te=l.createElement("path",{d:"M16 7.494v28.362A8.986 8.986 0 0 0 9 32.5c-4.962 0-9 4.038-9 9s4.038 9 9 9 9-4.038 9-9V9.113l30-6.378v27.031a8.983 8.983 0 0 0-7-3.356c-4.962 0-9 4.038-9 9 0 4.963 4.038 9 9 9s9-4.037 9-9V.266L16 7.494zM9 48.5c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.859-3.141 7-7 7zm32-6.09c-3.86 0-7-3.14-7-7 0-3.859 3.14-7 7-7s7 3.141 7 7c0 3.861-3.141 7-7 7z",fill:"currentColor",fillRule:"evenodd"})))}var oe,de=l.forwardRef(se),ue=(a.p,a(21)),pe=a.n(ue);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function _e(e,t){var a=e.title,n=e.titleId,c=je(e,["title","titleId"]);return l.createElement("svg",be({height:24,role:"img",width:24,viewBox:"0 0 512 512",className:"_08f8133e4f703ce562826348eb158f87-scss","aria-hidden":"true",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,oe||(oe=l.createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"})))}var me,he=l.forwardRef(_e);a.p;function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Oe(e,t){var a=e.title,n=e.titleId,c=fe(e,["title","titleId"]);return l.createElement("svg",ye({width:"24px",height:"24px",className:"v1262d JUQOtc",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,me||(me=l.createElement("path",{d:"M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"})))}var ke=l.forwardRef(Oe),ge=(a.p,a(13)),ve=a.n(ge),xe=(a.p,a(28)),Ne=a(12),we=a(8),Se=a(87);var Ie=function(e,t){return function(a,n){a({type:v});var c={},i=Object(we.a)({},n().tracks.byIds),r=t.map((function(e){var t=Object(we.a)({},i[e.trackid]);return t.uid=Object(Se.a)(),t}));r.forEach((function(e){c[e.uid]=e}));var l,s=r.map((function(e){return e.uid})),o=e.map((function(e){return e.playlistid})),d=[];o.forEach((function(e){(l=Object(we.a)({},n().playlists.byIds[e])).tracks=[].concat(Object(Ne.a)(l.tracks),Object(Ne.a)(r)),d.push(l)}));var u=t.map((function(e){return e.uri}));return new Promise((function(e,t){o.forEach((function(t){(function(e,t){return C()({url:"/api/playlists/".concat(e,"/track"),method:"POST",withCredentials:!0,data:{tracks:t},headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}})})(t,u).then((function(t){200===t.status&&(e(t.status),a({type:x,trackObjs:c,playlists:o,tracksToAdd:s}))}))}))}))}},Ee=function(e){return function(t,a){return new Promise((function(a,n){var c=Object(Ne.a)(e);t({type:"DELETE_TRACK_REQUEST"});for(var i=c.length,r=[],l={},s=function(e){var t=r.findIndex((function(t){return t.id===c[e].playlistid}));t<0?(l.id=c[e].playlistid,l.playlist=c[e].playlist,l.tracksToDelete=[c[e]],r.push(l),l={}):r[t].tracksToDelete.push(c[e])},o=0;o<i;o++)s(o);r.length>0?r.forEach((function(e){(function(e){return C()({url:"/api/playlists/".concat(e.id,"/track"),method:"DELETE",data:{playlist_id:e.id,tracks:e.tracksToDelete},withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}})})(e).then((function(e){a({status:e.status})})).catch((function(e){}))})):a("Some tracks were not deleted.")}))}};function Ce(){return function(e,t){Object.keys(t().tracks.byIds);e({type:j}),C()({url:"/api/playlists",method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(t){if(t){var a=t.data.playlists,n=[],c=a.map((function(e){return P(e.id).then((function(t){return e.track_count=e.tracks.total,e.tracks=t.data.map((function(e){return e.uid&&n.push(e),e.uid})),e.offset=e.tracks.length,Object(xe.a)({},e.id,e)}))}));Promise.all(c).then((function(t){var a={};n.forEach((function(e){a[e.uid]=e}));var c={};t.forEach((function(e){Object.assign(c,e)})),e({tracks:a,byIds:c,type:_,allIds:Object.keys(c)})}))}}))}}var Ae=a(50),Me=a.n(Ae),Pe=function(e){var t,a=Object(l.useState)(),n=Object(r.a)(a,2),c=n[0],s=n[1],o=Object(l.useState)(),d=Object(r.a)(o,2),u=d[0],p=d[1],b=Object(l.useState)(!1),j=Object(r.a)(b,2),_=(j[0],j[1],Object(Q.h)()),m=Object(i.b)(),h=e.playlist[_.id];Object(l.useEffect)((function(){if(p(h),h&&h.images[0]){var t=new Image;t.src=h.images[0].url,t.crossOrigin="",t.onload=function(){var e=function(e){var t=document.createElement("canvas"),a=t.getContext("2d"),n=t.width=e.naturalWidth,c=t.height=e.naturalHeight,i=n*c;a.drawImage(e,0,0,n,c);var r=function(e,t,a){for(var n,c,i,r,l,s=e,o=[],d=0;d<t;d+=a)c=s[0+(n=4*d)],i=s[n+1],r=s[n+2],("undefined"===typeof(l=s[n+3])||l>=125)&&(c>250&&i>250&&r>250||o.push([c,i,r]));return o}(a.getImageData(0,0,n,c).data,i,10),l=Me()(r,4),s=l?l.palette():null,o={};return o.formattedMain="rgba(".concat(s[0][0],",").concat(s[0][1],",").concat(s[0][2],")"),o.formattedSecondary="rgba(".concat(s[1][0],",").concat(s[1][1],",").concat(s[1][2],")"),o}(t);s(e)}}e.findCurrentPlaylist(_.id)}),[h]),h&&(t=(t=h.tracks.reduce((function(t,a){var n={};return n.playlist=h,n.track=e.allTracks[a],n.uid=e.allTracks[a].uid,n.track.name.length>0&&t.push(n),t}),[])).filter((function(t){if(!e.deletedArr.find((function(e){return e.trackid===t.track.uid})))return t})));var y=function(a){var n=t.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,index:e.track.index,uri:e.track.uri}}));Math.round(a.target.scrollHeight-a.target.scrollTop)===a.target.clientHeight&&h.offset<h.track_count&&(console.log("single"),e.handleCheckAll(n,h.id,!0),h&&h.offset<h.track_count&&m(function(e){return function(t,a){return t({type:N}),P(e.id,e.offset).then((function(a){var n={};a.data.forEach((function(e){n[e.uid]=e})),200===a.status&&t({type:w,trackIds:a.data.map((function(e){return e.uid})),tracks:n,playlist:e})}))}}(h)))};if(Object(l.useEffect)((function(){console.log(h);var e=document.getElementById("scroll-container");return e&&e.addEventListener("scroll",y),function(){e.removeEventListener("scroll",y)}}),[u]),!h||h.length<=0||!h.images[0])return Object(S.jsx)("div",{});var f=t.filter((function(t){if(!e.selected.find((function(e){return e.trackid===t.track.uid})))return t}));return Object(S.jsxs)("div",{className:ve.a[e.searchArr&&e.searchText>0?"inactive":"wrapper"],children:[Object(S.jsxs)("div",{className:ve.a["header-container"],children:[Object(S.jsxs)("div",{style:{background:c?c.formattedMain:"transparent"},className:ve.a["album-cover-container"],children:[Object(S.jsx)("img",{id:"playlistImage",className:ve.a["album-cover"],src:h.images[0].url,alt:""})," ",Object(S.jsx)("div",{className:ve.a["album-mask"]})]}),Object(S.jsxs)("div",{className:ve.a["playlist-info-container"],children:[Object(S.jsx)("h3",{className:ve.a["playlist-title"],children:h.name}),Object(S.jsxs)("p",{className:ve.a["playlist-creator"],children:["Created By ",h.owner.display_name]})]})]}),Object(S.jsxs)("div",{className:ve.a["tracks-container"],children:[Object(S.jsxs)("div",{className:ve.a["label-container"],children:[Object(S.jsxs)("div",{className:ve.a["label-check-container"],children:[Object(S.jsx)("li",{style:{display:e.selectedAllIds.includes(h.id)?"none":"block"},className:ve.a["label-count"],children:"#"}),Object(S.jsx)(q,{style:{fill:0===f.length?"#1db954":"white",display:0===f.length?"block":"none"},onClick:function(){var a=t.map((function(e){return{trackid:e.track.uid,playlistid:e.playlist.id,index:e.track.index,uri:e.track.uri}}));e.handleCheckAll(a,h.id)},className:ve.a["check-box"]})]}),Object(S.jsx)("li",{className:ve.a["label-title"],children:"title"}),Object(S.jsx)("li",{className:ve.a["label-artist"],children:"album"}),Object(S.jsx)("li",{className:ve.a["label-playlist"],children:"playlist"})," "]}),Object(S.jsxs)("div",{className:ve.a["item-wrapper"],children:[t.map((function(a,n){if(a.track.name.length>0)return Object(S.jsx)(ne,{index:n,getTracks:t,deletedArr:e.deletedArr,selected:e.selected,handleCheckSelected:e.handleCheckSelected,playlistSet:a,imageSelection:"album"},a.uid)}))," "]})]})]})},Te=a(20),We=a.n(Te),Re=function(e){Object(i.b)();return Object(S.jsxs)("div",{className:We.a[e.showModal?"container":"inactive"],children:[Object(S.jsx)("div",{onClick:e.closeModal,className:We.a["container-mask"]}),Object(S.jsxs)("div",{className:We.a["modal-container"],children:[Object(S.jsx)("div",{className:We.a["header-container"],children:Object(S.jsxs)("div",{onClick:e.closeModal,className:We.a["cancel-icon-container"],children:[Object(S.jsx)("span",{className:We.a["main-trigger-icon-container"],children:Object(S.jsx)("i",{className:We.a["main-trigger-icon"]})})," "]})}),Object(S.jsx)("p",{children:"Are you sure you want to delete these tracks?"}),Object(S.jsxs)("div",{className:We.a["button-container"],children:[Object(S.jsx)("button",{onClick:function(){e.closeModal()},className:We.a["cancel-button"],children:"Cancel"}),Object(S.jsx)("button",{onClick:function(){e.handleDelete()},className:We.a["delete-button"],children:"Delete"})]})]})]})},Le=function(e){var t=e.playlist,a=(Object(Q.g)(),Object(l.useState)("at")),n=Object(r.a)(a,2),c=(n[0],n[1],Object(l.useState)(!1)),s=Object(r.a)(c,2),o=(s[0],s[1],Object(l.useState)([])),d=Object(r.a)(o,2),p=(d[0],d[1],Object(l.useState)(!1)),b=Object(r.a)(p,2),j=(b[0],b[1],Object(l.useState)([])),_=Object(r.a)(j,2),m=(_[0],_[1],Object(l.useState)(!1)),h=Object(r.a)(m,2),y=(h[0],h[1],Object(l.useState)([])),f=Object(r.a)(y,2),O=(f[0],f[1],Object(i.b)(),Object(Q.i)()),k=(O.path,O.url);if(!e.playlist)return Object(S.jsx)("div",{});var g=t.images[0]?Object(S.jsx)("img",{className:pe.a["playlist-image"],src:t.images[0].url,alt:""}):Object(S.jsx)("div",{className:pe.a["fallback-image-container"],children:Object(S.jsx)(de,{className:pe.a["playlist-image"]})});return Object(S.jsx)(u.b,{to:{pathname:"".concat(k,"/").concat(t.id)},className:pe.a["playlist-container"],children:Object(S.jsxs)("div",{className:pe.a["playlist-content"],children:[Object(S.jsx)("div",{className:pe.a["playlist-image-container"],children:g}),Object(S.jsxs)("div",{className:pe.a["description-container"],children:[Object(S.jsx)("p",{className:pe.a["playlist-title"],children:t.name}),Object(S.jsx)("p",{className:pe.a["playlist-description"],children:t.description?t.description:"By ".concat(t.owner.display_name)})]})]})},t.uid)},ze=a(3),Be=a.n(ze),De=a(10),Ke=a.n(De),Ue=function(e){Object(i.b)();var t=Object(l.useState)([]),a=Object(r.a)(t,2),n=a[0],c=a[1],s=e.playlist.filter((function(t){if(t.owner.id===e.current_user.userInfo.id)return t}));return Object(S.jsxs)("div",{className:Ke.a[e.showModal?"container":"inactive"],children:[Object(S.jsx)("div",{onClick:e.closeAddModal,className:Ke.a["container-mask"]}),Object(S.jsxs)("div",{className:Ke.a["modal-container"],children:[Object(S.jsx)("div",{className:Ke.a["header-container"],children:Object(S.jsxs)("div",{onClick:e.closeModal,className:Ke.a["cancel-icon-container"],children:[Object(S.jsx)("span",{className:Ke.a["main-trigger-icon-container"],children:Object(S.jsx)("i",{className:Ke.a["main-trigger-icon"]})})," "]})}),Object(S.jsx)("p",{className:Ke.a["modal-title"],children:"Add to playlists"}),Object(S.jsx)("div",{className:Ke.a["playlist-container"],children:s.map((function(e,t){return Object(S.jsx)("div",{className:Ke.a["playlist-item-container"],children:Object(S.jsxs)("div",{className:Ke.a["playlist-item"],children:[Object(S.jsxs)("div",{className:Ke.a["check-index-container"],children:[Object(S.jsx)("p",{className:Ke.a[n.length>0?"inactive":"playlist-count"],children:t+1}),Object(S.jsx)(ae,{style:{display:n.length>0?"flex":"none"},className:Ke.a["check-icon-place"]}),Object(S.jsx)(q,{style:{display:n.find((function(t){return t.playlistid===e.id}))?"flex":"none",fill:n.find((function(t){return t.playlistid===e.id}))?"#1db954":"white"},onClick:function(){return function(e){var t=Object(Ne.a)(n),a={};if(a.playlistid=e,t.find((function(t){return t.playlistid===e}))){var i=t.findIndex((function(t){return t.playlistid===e}));t.splice(i,1)}else t.push(a);c(t)}(e.id)},className:Ke.a["check-icon"]})]}),Object(S.jsx)("p",{className:Ke.a["playlist-title"],children:e.name})]})})}))}),Object(S.jsxs)("div",{className:Ke.a["button-container"],children:[Object(S.jsx)("button",{onClick:e.closeModal,className:Ke.a["cancel-button"],children:"Cancel"}),Object(S.jsx)("button",{onClick:function(){e.handleAdd(n)},className:Ke.a["delete-button"],children:"Add"})]})]})]})},He=function(e){var t=Object(Q.g)(),a=(Object(Q.h)(),Object(l.useState)([])),n=Object(r.a)(a,2),c=n[0],s=n[1],o=Object(l.useState)(""),d=Object(r.a)(o,2),u=d[0],p=d[1],b=Object(l.useState)(!1),j=Object(r.a)(b,2),_=j[0],m=(j[1],Object(l.useState)()),h=Object(r.a)(m,2),y=h[0],f=h[1],O=Object(l.useState)([]),k=Object(r.a)(O,2),g=k[0],v=k[1],x=Object(l.useState)({scrollPos:0,clientHeight:null}),N=Object(r.a)(x,2),w=(N[0],N[1],Object(l.useState)(!1)),I=Object(r.a)(w,2),E=I[0],C=I[1],A=Object(l.useState)(!1),M=Object(r.a)(A,2),P=M[0],T=M[1],W=Object(l.useState)(!1),R=Object(r.a)(W,2),L=R[0],z=R[1],B=Object(l.useState)([]),D=Object(r.a)(B,2),K=D[0],U=D[1],H=Object(l.useState)(!1),F=Object(r.a)(H,2),G=(F[0],F[1]),V=Object(l.useState)([]),Y=Object(r.a)(V,2),J=Y[0],Z=Y[1],X=Object(l.useState)([]),$=Object(r.a)(X,2),ee=$[0],te=$[1],ae=Object(i.b)(),ce=Object(Q.i)(),ie=ce.path,re=(ce.url,Object(i.c)((function(e){return e.playlists.byIds}))),le=Object(i.c)((function(e){return e.tracks.byIds})),se=Object(i.c)((function(e){return e.navbar.searchBar})),oe=Object.keys(re).map((function(e){return re[e]})),de=function(e,t,a,n,i){var r=Object(Ne.a)(K),l=Object(Ne.a)(c),o={};if(o.trackid=e,o.playlistid=t,o.uri=a,o.index=i,r.find((function(t){return t.trackid===e}))){var d=r.findIndex((function(t){return t.trackid===e}));if(l.includes(t)){var u=l.indexOf(t);l.splice(u,1)}r.splice(d,1)}else{r.push(o),0===n.filter((function(e){if(!r.find((function(t){return t.trackid===e.track.uid})))return e})).length&&l.push(t)}s(l),U(r),r.length>0?C(!0):C(!1)};Object(l.useEffect)((function(){G(),ae(Ce())}),[]),Object(l.useEffect)((function(){p("")}),[se]);Object(l.useEffect)((function(){K.length>0?C(!0):C(!1),console.log("updated")}),[]);var ue=function(e,t,a){s((function(n){var c,i=Object(Ne.a)(n),r=Object(Ne.a)(K),l=(i.length,i.indexOf(t)),s=[];i.includes(t)||a?i.includes(t)&&!a?(s=r.filter((function(e){return e.playlistid!==t})),i.splice(l,1),U((function(e){return s}))):i.includes(t)&&a&&(i.splice(l,1),U((function(e){return e}))):((c=s=r.filter((function(e){return e.playlistid!==t}))).push.apply(c,Object(Ne.a)(e)),i.push(t),U((function(e){return s})));return console.log(s,"topLevel"),i}))};return oe?Object(S.jsxs)("div",{id:"scroll-container",onScroll:function(e){},className:Be.a["container-container"],children:[Object(S.jsxs)("div",{className:Be.a["header-container"],children:[Object(S.jsx)("div",{className:Be.a[K.length>0?"options-container":"inactive"],children:Object(S.jsx)("div",{className:Be.a[E||K.length>0?"drop-down-container":"inactive"],children:Object(S.jsxs)("div",{className:Be.a["drop-down-content"],children:[Object(S.jsxs)("div",{className:Be.a["drop-down-left-container"],children:[Object(S.jsx)("div",{onClick:function(e){C(!1),s([]),U([])},className:Be.a["cancel-icon-container"],children:Object(S.jsx)("span",{className:Be.a["main-trigger-icon-container"],children:Object(S.jsx)("i",{className:Be.a["main-trigger-icon"]})})}),Object(S.jsxs)("p",{className:Be.a["selected-count"],children:["Selected ",K.length]})]}),Object(S.jsxs)("div",{className:Be.a["main-options-icons"],children:[Object(S.jsx)(ke,{onClick:function(){T(!P)},className:Be.a["trash-icon"]}),Object(S.jsx)("div",{onClick:function(){z(!L)},className:Be.a["add-icon-container"],children:Object(S.jsx)("span",{className:Be.a["main-trigger-icon-container"],children:Object(S.jsx)("i",{className:Be.a["main-trigger-icon"]})})})]})]})})}),Object(S.jsx)("div",{className:Be.a[E?"inactive":"title-options-container"],children:Object(S.jsxs)("div",{className:Be.a[K.length>0?"inactive":"title-container"],children:[Object(S.jsx)("p",{className:Be.a["title-text"],children:"Playlists"}),Object(S.jsxs)("div",{className:Be.a["input-container"],children:[Object(S.jsx)("input",{onChange:function(e){var a,n=[];p(""),U([]);var c=e.target.value.trim(),i=/\s/g;c=c.replace(i,"");var r=new RegExp("^"+c,"gi");"/playlists"!==t.pathname?(a=oe.find((function(e){return e.id===y}))).tracks.forEach((function(e,t){e&&(e=le[e]),r.test(e&&e.name.replace(i,""))&&c.length>0&&n.push({track:e,playlist:a,uid:Object(Se.a)()})})):(a=oe).forEach((function(e){e.tracks.forEach((function(t,a){t&&(t=le[t]),r.test(t&&t.name.replace(i,""))&&c.length>0&&n.push({track:t,playlist:e,uid:Object(Se.a)()})}))})),p(e.target.value),v(n),Z((function(){for(var e={},t=0;t<n.length;t++)e[n[t].playlist.id]?e[n[t].playlist.id].push(n[t].track):e[n[t].playlist.id]=[n[t].track];return Object.keys(e).map((function(e){return re[e]}))}))},value:u,className:Be.a["input-searchbar"],type:"text",name:"",id:""}),Object(S.jsx)("div",{className:Be.a["input-content-container"],children:Object(S.jsx)(he,{className:Be.a["search-icon"]})})]})]})})]}),Object(S.jsxs)("div",{className:Be.a.wrapper,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(Re,{showModal:P,handleDelete:function(){var e=Object(Ne.a)(ee),t=K.filter((function(e){if("Spotify"!==re[e.playlistid].owner.display_name)return e})),a=e.concat(t);ae(Ee(t)).then((function(e){200!==e.status&&"string"!==typeof e||(te(a),T(!1),C(!1),U([]))}))},closeModal:function(){T(!1)}}),Object(S.jsx)(Ue,{current_user:e.current_user,playlist:oe,showModal:L,selected:K,handleAdd:function(e){ae(Ie(e,K)).then((function(e){200===e&&(z(!1),C(!1),U([]))}))},closeModal:function(){z(!1)}}),Object(S.jsxs)("div",{className:Be.a.container,children:[Object(S.jsx)("div",{className:Be.a["/playlists"===t.pathname?"search-results-container":"inactive"],children:Object(S.jsx)("div",{className:Be.a[J.length>0&&u.length>0?"inactive":"item-container"],children:oe.map((function(e){return Object(S.jsx)(Le,{playlist:e})}))})}),Object(S.jsxs)("div",{className:Be.a[J.length>0&&u.length>0?"tracks-container":"inactive"],children:[Object(S.jsxs)("div",{className:Be.a["label-container"],children:[Object(S.jsxs)("div",{className:Be.a["label-check-container"],children:[Object(S.jsx)(q,{style:{fill:_?"#1db954":"white",display:_?"block":"none"},onClick:function(){return ue(g)},className:Be.a["check-box"]}),Object(S.jsx)("li",{style:{display:_?"none":"block"},className:Be.a["label-count"],children:"#"})]}),Object(S.jsx)("li",{className:Be.a["label-title"],children:"title"}),Object(S.jsx)("li",{className:Be.a["label-artist"],children:"album"}),Object(S.jsx)("li",{className:Be.a["label-playlist"],children:"playlist"})," "]}),Object(S.jsx)("div",{className:Be.a["item-wrapper"],children:g.map((function(e,t){return Object(S.jsx)(ne,{deletedArr:ee,handleCheckSelected:de,playlistSet:e,selected:K,index:t},e.track&&e.track.uid+e.playlist.uid)}))})]})]})]}),Object(S.jsx)(Q.c,{children:Object(S.jsx)(Q.a,{path:"".concat(ie,"/:id"),children:Object(S.jsx)(Pe,{selectedAllIds:c,handleCheckAll:ue,deletedArr:ee,searchText:u.length,searchArr:g.length,findCurrentPlaylist:function(e){f(e)},handleCheckSelected:de,playlist:re,selected:K,allTracks:le})})})]})," "]}):Object(S.jsx)("div",{})};var Qe=function(){var e=Object(l.useState)(!1),t=Object(r.a)(e,2),a=(t[0],t[1],Object(l.useState)({})),n=Object(r.a)(a,2),c=n[0],s=(n[1],Object(l.useState)(!1)),o=Object(r.a)(s,2),d=(o[0],o[1],Object(Q.f)()),u=Object(i.b)(),p=Object(i.c)((function(e){return e.current_user}));return Object(l.useEffect)((function(){var e=new URL(window.location).search.split("=")[1];new Promise((function(e,t){localStorage.getItem("access_token")?e("logged In"):t("not logged In")})).then((function(){u(K())})).catch((function(){e?(console.log("pause"),u(D(e)).then((function(){console.log(p.access_token),d.push("/"),u(K())}))):window.location.href="https://accounts.spotify.com/authorize?client_id=da42a01c50ef409f802caf63a98de4d4&response_type=code&redirect_uri=http://localhost:5000&scope=".concat(encodeURIComponent("user-read-private user-read-email playlist-read-private playlist-modify-private user-top-read user-read-recently-played playlist-modify-public"),"&show_dialog=true")}))}),[]),Object(S.jsxs)("div",{className:ie.a.container,children:[Object(S.jsx)(I,{profile:c}),Object(S.jsxs)(Q.c,{children:[Object(S.jsx)(Q.a,{exact:!0,path:"/",children:Object(S.jsx)(H,{profile:c})})," ",Object(S.jsx)(Q.a,{path:"/playlists",children:Object(S.jsx)(He,{current_user:p})})]})]})},Fe=a(22),Ge=a(51);function Ve(e,t){var a=Object(we.a)({},e);return a.byIds=Object(we.a)(Object(we.a)({},a.byIds),t.trackObjs),a}function Ye(e,t){var a,n=t.playlists,c=t.tracksToAdd,i=Object(we.a)({},e),r=(e.byIds,Object(Ge.a)(n));try{for(r.s();!(a=r.n()).done;){var l=a.value;i.byIds[l].tracks=[].concat(Object(Ne.a)(i.byIds[l].tracks),Object(Ne.a)(c))}}catch(s){r.e(s)}finally{r.f()}return i}var Je=Object(Fe.combineReducers)({current_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access_token:localStorage.getItem("access_token"),loggedIn:!1,isLoggingIn:!1,userInfo:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,{isLoggingIn:!0,access_token:t.access_token});case k:return Object.assign({},e,{access_token:t.access_token});case g:return Object.assign({},e,{access_token:null,loggedIn:!1,isLoggingIn:!1,userInfo:null});case O:return Object.assign({},e,{userInfo:t.user});default:return e}},tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,err:null,status:"idle",top_tracks:{},recent_tracks:{},allIds:[],cursor:null,byIds:{},tracks:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object.assign({},e,{byIds:Object(we.a)(Object(we.a)({},e.byIds),t.tracks)});case x:return Ve(e,t);case _:return Object.assign({},e,{byIds:t.tracks});case p:case h:return Object.assign({},e,{isFetching:!0});case b:return Object.assign({},e,{top_tracks:t.top_tracks,isFetching:!1,byIds:Object(we.a)(Object(we.a)({},e.byIds),t.byIds)});case m:return Object.assign({},e,{recent_tracks:Object(we.a)(Object(we.a)({},e.recent_tracks),t.recent_tracks),cursor:t.cursors,isFetching:!1,byIds:Object(we.a)(Object(we.a)({},e.byIds),t.byIds)});default:return e}},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byIds:{},allIds:[],isFetching:!1,err:null,status:"idle"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object.assign({},e,{isFetching:!0,status:"fetching"});case w:return Object.assign({},e,{status:"idle",byIds:Object(we.a)(Object(we.a)({},e.byIds),{},Object(xe.a)({},t.playlist.id,Object(we.a)(Object(we.a)({},e.byIds[t.playlist.id]),{},{offset:e.byIds[t.playlist.id].tracks.length+t.trackIds.length,tracks:[].concat(Object(Ne.a)(e.byIds[t.playlist.id].tracks),Object(Ne.a)(t.trackIds))})))});case v:return Object(we.a)({},e);case x:return Ye(e,t);case j:return Object.assign({},e,{isFetching:!0});case _:return Object.assign({},e,{byIds:t.byIds,allIds:t.allIds,isFetching:!1});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchBar:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object.assign({},e,{searchBar:t.clearSearch});default:return e}}}),Ze=a(52),qe=a(53);var Xe=function(){var e=Object(Ze.composeWithDevTools)({trace:!0});return Object(Fe.createStore)(Je,e(Object(Fe.applyMiddleware)(qe.a)))}();c.a.hydrate(Object(S.jsx)(u.a,{children:Object(S.jsx)(i.a,{store:Xe,children:Object(S.jsx)(Qe,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.2543dc6b.chunk.js.map